(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2250de"],{e382:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qingwu"},[a("div",{staticClass:"admin_table_page_title"},[t._v("平台用户列表")]),a("div",{staticClass:"unline underm"}),a("div",{staticClass:"admin_table_handle_btn"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$router.push("/Admin/users/form")}}},[t._v("添加")]),a("a-button",{staticClass:"admin_delete_btn",attrs:{type:"danger",icon:"delete"},on:{click:t.del}},[t._v("批量删除")])],1),a("div",{staticClass:"admin_table_list"},[a("a-table",{attrs:{columns:t.columns,"data-source":t.list,pagination:!1,"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},"row-key":"id"},scopedSlots:t._u([{key:"action",fn:function(e){return a("span",{},[a("a-button",{attrs:{icon:"edit"},on:{click:function(a){return t.$router.push("/Admin/users/form/"+e.id)}}},[t._v("编辑")])],1)}}])}),t.total>0?a("div",{staticClass:"admin_pagination"},[a("a-pagination",{attrs:{"page-size":t.params.per_page,total:t.total,"show-less-items":""},on:{"update:pageSize":function(e){return t.$set(t.params,"per_page",e)},"update:page-size":function(e){return t.$set(t.params,"per_page",e)},change:t.onChange},model:{value:t.params.page,callback:function(e){t.$set(t.params,"page",e)},expression:"params.page"}})],1):t._e()],1)])},s=[],i=(a("a15b"),{components:{},props:{},data:function(){return{params:{page:1,per_page:30},total:0,selectedRowKeys:[],columns:[{title:"#",dataIndex:"id",fixed:"left"},{title:"昵称",dataIndex:"nickname"},{title:"手机",dataIndex:"phone"},{title:"用户名",dataIndex:"username"},{title:"登陆IP",dataIndex:"ip"},{title:"登陆时间",dataIndex:"login_time"},{title:"上次登陆",dataIndex:"last_login_time"},{title:"创建时间",dataIndex:"created_at"},{title:"操作",key:"id",fixed:"right",scopedSlots:{customRender:"action"}}],list:[]}},watch:{},computed:{},methods:{onSelectChange:function(t){this.selectedRowKeys=t},onChange:function(t){this.params.page=t},del:function(){var t=this;if(0===this.selectedRowKeys.length)return this.$message.error("未选择数据");this.$confirm({title:"你确定要删除选择的数据？",content:"确定删除后无法恢复",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){var e=t.selectedRowKeys.join(",");t.$delete(t.$api.adminUsers+"/"+e).then((function(e){0===e.error_code?(t.onload(),t.$message.success("删除成功")):t.$message.error(e.msg)}))}})},onload:function(){var t=this;this.$get(this.$api.adminUsers,this.params).then((function(e){t.total=e.data.total,t.list=e.data.data}))}},created:function(){this.onload()},mounted:function(){}}),o=i,d=a("2877"),l=Object(d["a"])(o,n,s,!1,null,"219f6446",null);e["default"]=l.exports}}]);