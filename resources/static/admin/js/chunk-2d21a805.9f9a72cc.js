(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a805"],{bc7e:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"qingwu"},[e("div",{staticClass:"admin_table_page_title"},[e("a-button",{staticClass:"float_right",attrs:{icon:"arrow-left"},on:{click:function(i){return t.$router.back()}}},[t._v("返回")]),t._v("接口编辑")],1),e("div",{staticClass:"unline underm"}),e("div",{staticClass:"admin_form"},[e("a-form-model",{attrs:{"label-col":{span:5},"wrapper-col":{span:12}}},[e("a-form-model-item",{attrs:{label:"分组类型"}},[e("a-select",{on:{change:t.typeChange},model:{value:t.info.type,callback:function(i){t.$set(t.info,"type",i)},expression:"info.type"}},[e("a-select-option",{attrs:{value:0}},[t._v(" 总后台 ")]),e("a-select-option",{attrs:{value:1}},[t._v(" 商家 ")])],1)],1),e("a-form-model-item",{attrs:{label:"所属分组"}},[e("a-select",{model:{value:t.info.group_id,callback:function(i){t.$set(t.info,"group_id",i)},expression:"info.group_id"}},t._l(t.list,(function(i,s){return e("a-select-option",{key:s,attrs:{value:i.id||0}},[t._v(t._s(i.name))])})),1)],1),e("a-form-model-item",{attrs:{label:"接口名称"}},[e("a-input",{model:{value:t.info.name,callback:function(i){t.$set(t.info,"name",i)},expression:"info.name"}})],1),e("a-form-model-item",{attrs:{label:"接口路由"}},[e("a-input",{model:{value:t.info.apis,callback:function(i){t.$set(t.info,"apis",i)},expression:"info.apis"}})],1),e("a-form-model-item",{attrs:{label:"接口描述"}},[e("a-input",{model:{value:t.info.content,callback:function(i){t.$set(t.info,"content",i)},expression:"info.content"}})],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[e("a-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)],1)])},n=[],a=(e("b0c0"),{components:{},props:{},data:function(){return{info:{type:0,group_id:"",name:"",apis:"",content:""},list:[],id:0}},watch:{},computed:{},methods:{handleSubmit:function(){var t=this;if(this.$isEmpty(this.info.group_id))return this.$message.error("所属分组不能为空");if(this.$isEmpty(this.info.name))return this.$message.error("接口名不能为空");if(this.$isEmpty(this.info.apis))return this.$message.error("接口路由不能为空");var i=this.$apiHandle(this.$api.adminPermissions,this.id);i.status?this.$put(i.url,this.info).then((function(i){return 0===i.error_code?(t.$message.success(i.msg),t.$router.back()):t.$message.error(i.msg)})):this.$post(i.url,this.info).then((function(i){return 0===i.error_code?(t.$message.success(i.msg),t.$router.back()):t.$message.error(i.msg)}))},get_info:function(){var t=this;this.$get(this.$api.adminPermissions+"/"+this.id).then((function(i){t.info=i.data,t.getList()}))},typeChange:function(){this.info.group_id="",this.getList()},onload:function(){this.$isEmpty(this.$route.params.id)?(this.info.type=0,this.getList()):(this.id=this.$route.params.id,this.get_info())},getList:function(){var t=this;this.$get(this.$api.adminPermissionGroups,{type:this.info.type}).then((function(i){t.list=i.data.data}))}},created:function(){this.onload()},mounted:function(){}}),o=a,r=e("2877"),l=Object(r["a"])(o,s,n,!1,null,"97ef878a",null);i["default"]=l.exports}}]);