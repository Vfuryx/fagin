(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d226c7d"],{e9b5:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-modal",{attrs:{title:e.model.id>0?"管理员编辑":"管理员新增",width:860,visible:e.visible,confirmLoading:e.loading,"ok-text":"确认","cancel-text":"取消"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"ruleForm",attrs:{layout:"inline",model:e.model,rules:e.rules}},[e.model&&e.model.id>0?t("a-form-model-item",{staticStyle:{width:"88%","margin-right":"0"},attrs:{"label-col":{span:4},"wrapper-col":{span:5},label:"主键ID",prop:"id"}},[t("a-input",{attrs:{disabled:""},model:{value:e.model.id,callback:function(a){e.$set(e.model,"id",a)},expression:"model.id"}})],1):e._e(),t("a-form-model-item",{staticStyle:{width:"50%","margin-right":"0"},attrs:{label:"用户名称","label-col":{span:7},"wrapper-col":{span:17},prop:"username"}},[t("a-input",{model:{value:e.model.username,callback:function(a){e.$set(e.model,"username",a)},expression:"model.username"}})],1),t("a-form-model-item",{staticStyle:{width:"50%","margin-right":"0"},attrs:{label:"手机号码","label-col":{span:7},"wrapper-col":{span:17},prop:"phone"}},[t("a-input",{model:{value:e.model.phone,callback:function(a){e.$set(e.model,"phone",a)},expression:"model.phone"}})],1),t("a-form-model-item",{staticStyle:{width:"50%","margin-right":"0"},attrs:{label:"邮箱","label-col":{span:7},"wrapper-col":{span:17},prop:"email"}},[t("a-input",{model:{value:e.model.email,callback:function(a){e.$set(e.model,"email",a)},expression:"model.email"}})],1),t("a-form-model-item",{staticStyle:{width:"50%","margin-right":"0"},attrs:{label:"用户昵称","label-col":{span:7},"wrapper-col":{span:17},prop:"nick_name"}},[t("a-input",{model:{value:e.model.nick_name,callback:function(a){e.$set(e.model,"nick_name",a)},expression:"model.nick_name"}})],1),e.model&&0===e.model.id?t("a-form-model-item",{staticStyle:{width:"50%","margin-right":"0"},attrs:{label:"用户密码","label-col":{span:7},"wrapper-col":{span:17},prop:"password"}},[t("a-input",{model:{value:e.model.password,callback:function(a){e.$set(e.model,"password",a)},expression:"model.password"}})],1):e._e(),t("a-form-model-item",{staticStyle:{width:"50%","margin-right":"0"},attrs:{"label-col":{span:7},"wrapper-col":{span:17},label:"用户性别",prop:"sex"}},[t("a-select",{model:{value:e.model.sex,callback:function(a){e.$set(e.model,"sex",a)},expression:"model.sex"}},e._l(e.sexOptions,(function(a,l){return t("a-select-option",{key:l,attrs:{value:a.value||0}},[e._v(" "+e._s(a.label)+" ")])})),1)],1),t("a-form-model-item",{staticStyle:{width:"88%","margin-right":"0"},attrs:{"label-col":{span:4},"wrapper-col":{span:16},label:"角色",prop:"roles"}},[t("a-tree-select",{attrs:{"replace-fields":{children:"children",title:"name",key:"id",value:"id"},"tree-data":e.list,"tree-checkable":"","show-checked-strategy":"SHOW_PARENT"},model:{value:e.model.roles,callback:function(a){e.$set(e.model,"roles",a)},expression:"model.roles"}})],1),t("a-form-model-item",{staticStyle:{width:"88%","margin-right":"0"},attrs:{label:"管理员状态","label-col":{span:4},"wrapper-col":{span:10},prop:"status"}},[t("a-radio-group",{attrs:{name:"status"},model:{value:e.model.status,callback:function(a){e.$set(e.model,"status",a)},expression:"model.status"}},[t("a-radio",{attrs:{value:1}},[e._v("开启")]),t("a-radio",{attrs:{value:0}},[e._v("关闭")])],1)],1)],1)],1)],1)},r=[],s=(t("922d"),t("09d9")),i=(t("98a7"),t("7bec")),o=(t("17ac"),t("ff57")),n=t("8bbf"),m=t.n(n),d=t("4360");m.a.use(o["a"]),m.a.use(i["a"]),m.a.use(s["a"]);var u={props:{visible:{type:Boolean,required:!0},loading:{type:Boolean,default:function(){return!1}},model:{type:Object,default:function(){return null}}},data:function(){return{sexOptions:[{label:"未公开",value:0},{label:"男",value:1},{label:"女",value:2}],form:{id:0,username:"",phone:"",email:"",nick_name:"",sex:0,roles:[],status:1},list:[],rules:{id:[{required:!0,message:"不能空",trigger:"blur"},{type:"integer",min:0,message:"不正确",trigger:"blur"}],username:[{required:!0,message:"不能为空",trigger:"blur"},{min:1,max:32,message:"范围 1 - 32 字符",trigger:"blur"},{validator:this.validateUsername,trigger:"blur"}],nick_name:[{required:!0,message:"不能为空",trigger:"blur"},{min:1,max:32,message:"范围 1 - 32 字符",trigger:"blur"}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:8,max:32,message:"长度在 8 到 32 个字符",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],sex:[{required:!0,message:"不能空",trigger:"blur"},{type:"enum",enum:[0,1,2],message:"类型不正确",trigger:"blur"}],status:[{required:!0,message:"不能空",trigger:"blur"},{type:"enum",enum:[0,1],message:"类型不正确",trigger:"blur"}]}}},created:function(){},mounted:function(){this.getList()},methods:{handleOk:function(){return this.$emit("ok",this.$refs.ruleForm,this.model)},handleCancel:function(){return this.$emit("cancel",this.$refs.ruleForm)},getList:function(){var e=this,a=this;d["a"].dispatch("getRoleAll",{type:this.model.type}).then((function(t){0!==t.code&&e.$notification.error({message:"错误",description:t.message}),a.list=t.data.roles})).catch((function(){e.$notification.error({message:"错误",description:"请求信息失败，请重试"})}))},validateUsername:function(e,a,t,l,r){d["a"].dispatch("adminUsernameExist",{username:a,id:this.model.id}).then((function(e){return 0!==e.code?t(new Error("用户名已存在")):t()})).catch((function(){return t(new Error("用户名已存在"))}))}}},c=u,p=t("2877"),g=Object(p["a"])(c,l,r,!1,null,null,null);a["default"]=g.exports}}]);