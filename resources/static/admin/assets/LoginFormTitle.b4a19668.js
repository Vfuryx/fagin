var I=Object.defineProperty;var h=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var b=(e,o,s)=>o in e?I(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,_=(e,o)=>{for(var s in o||(o={}))v.call(o,s)&&b(e,s,o[s]);if(h)for(var s of h(o))w.call(o,s)&&b(e,s,o[s]);return e};var p=(e,o,s)=>new Promise((n,i)=>{var m=t=>{try{u(s.next(t))}catch(R){i(R)}},F=t=>{try{u(s.throw(t))}catch(R){i(R)}},u=t=>t.done?n(t.value):Promise.resolve(t.value).then(m,F);u((s=s.apply(e,o)).next())});import{b as O}from"./index.6d3ed4e5.js";import{r as x,j as c,u as r,A as E,B as j,D as B,J as C}from"./vendor.3850bdb6.js";var l;(function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.RESET_PASSWORD=2]="RESET_PASSWORD",e[e.MOBILE=3]="MOBILE",e[e.QR_CODE=4]="QR_CODE"})(l||(l={}));const P=x(0);function G(){function e(n){P.value=n}const o=c(()=>P.value);function s(){e(0)}return{setLoginState:e,getLoginState:o,handleBackLogin:s}}function N(e){function o(){return p(this,null,function*(){const s=r(e);return s?yield s.validate():void 0})}return{validForm:o}}function Q(e){const{t:o}=O(),s=c(()=>g(o("sys.login.accountPlaceholder"))),n=c(()=>g(o("sys.login.passwordPlaceholder"))),i=c(()=>g(o("sys.login.captchaPlaceholder"))),m=c(()=>g(o("sys.login.smsPlaceholder"))),F=c(()=>g(o("sys.login.mobilePlaceholder"))),u=(a,d)=>p(this,null,function*(){return d?Promise.resolve():Promise.reject(o("sys.login.policyPlaceholder"))}),t=a=>(d,f)=>p(this,null,function*(){return f?f!==a?Promise.reject(o("sys.login.diffPwd")):Promise.resolve():Promise.reject(o("sys.login.passwordPlaceholder"))});return{getFormRules:c(()=>{const a=r(s),d=r(n),f=r(i),S=r(m),T=r(F),y={sms:S,mobile:T};switch(r(P)){case 1:return _({account:a,password:d,confirmPassword:[{validator:t(e==null?void 0:e.password),trigger:"change"}],policy:[{validator:u,trigger:"change"}]},y);case 2:return _({account:a},y);case 3:return y;default:return{account:a,password:d,code:f}}})}}function g(e){return[{required:!0,message:e,trigger:"change"}]}const A={class:"mb-3 text-2xl font-bold text-center xl:text-3xl enter-x xl:text-left"},L=E({setup(e){const{t:o}=O(),{getLoginState:s}=G(),n=c(()=>({[l.RESET_PASSWORD]:o("sys.login.forgetFormTitle"),[l.LOGIN]:o("sys.login.signInFormTitle"),[l.REGISTER]:o("sys.login.signUpFormTitle"),[l.MOBILE]:o("sys.login.mobileSignInFormTitle"),[l.QR_CODE]:o("sys.login.qrSignInFormTitle")})[r(s)]);return(i,m)=>(j(),B("h2",A,C(r(n)),1))}});var W=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L});export{l as L,L as _,Q as a,N as b,W as c,G as u};
