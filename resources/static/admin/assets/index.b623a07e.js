var qw=Object.defineProperty,Jw=Object.defineProperties;var Qw=Object.getOwnPropertyDescriptors;var zv=Object.getOwnPropertySymbols;var e1=Object.prototype.hasOwnProperty,t1=Object.prototype.propertyIsEnumerable;var Bv=(y,v,c)=>v in y?qw(y,v,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[v]=c,Sc=(y,v)=>{for(var c in v||(v={}))e1.call(v,c)&&Bv(y,c,v[c]);if(zv)for(var c of zv(v))t1.call(v,c)&&Bv(y,c,v[c]);return y},Fv=(y,v)=>Jw(y,Qw(v));var iu=(y,v,c)=>new Promise((f,u)=>{var p=x=>{try{b(c.next(x))}catch(E){u(E)}},h=x=>{try{b(c.throw(x))}catch(E){u(E)}},b=x=>x.done?f(x.value):Promise.resolve(x.value).then(p,h);b((c=c.apply(y,v)).next())});import{I as n1,_ as jc,a as r1,W as o1,w as i1}from"./index.6d3ed4e5.js";import{O as a1,R as u1,A as Uv,b1 as s1,a9 as c1,r as au,am as l1,u as Ft,$ as Pc,aj as f1,a0 as Mr,B as Nr,D as Ri,ab as Xv,ap as p1,w as Ii,a6 as uu,ae as d1,J as h1,K as su,ad as Ac,a4 as y1,a1 as kc,cd as v1,j as g1,S as Hv,_ as b1,H as m1}from"./vendor.3850bdb6.js";/* empty css               */import{B as _1,b as O1}from"./index.ab15df17.js";import{J as w1}from"./index.be3f98b2.js";import{P as x1}from"./index.a09675a6.js";import"./useWindowSizeFn.4c2ec928.js";/* empty css               *//* empty css                */import"./useContentViewHeight.34544381.js";const Gv=Symbol("flow-chart");function E1(y){u1(Gv,y)}function S1(){return a1(Gv)}var Et;(function(y){y.ZOOM_IN="zoomIn",y.ZOOM_OUT="zoomOut",y.RESET_ZOOM="resetZoom",y.UNDO="undo",y.REDO="redo",y.SNAPSHOT="snapshot",y.VIEW_DATA="viewData"})(Et||(Et={}));const j1=Uv({name:"FlowChartToolbar",components:{Icon:n1,Divider:s1,Tooltip:c1},props:{prefixCls:String},emits:["view-data"],setup(y,{emit:v}){const c=au([{type:Et.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Et.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Et.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Et.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Et.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Et.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Et.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:f}=S1();function u({data:{undoAble:h,redoAble:b}}){const x=Ft(c),E=x.findIndex(k=>k.type===Et.UNDO),S=x.findIndex(k=>k.type===Et.REDO);E!==-1&&(Ft(c)[E].disabled=!h),S!==-1&&(Ft(c)[S].disabled=!b)}const p=h=>{const b=Ft(f);if(!!b)switch(h.type){case Et.ZOOM_IN:b.zoom();break;case Et.ZOOM_OUT:b.zoom(!0);break;case Et.RESET_ZOOM:b.resetZoom();break;case Et.UNDO:b.undo();break;case Et.REDO:b.redo();break;case Et.SNAPSHOT:b.getSnapshot();break;case Et.VIEW_DATA:v("view-data");break}};return l1(()=>iu(this,null,function*(){var h;Ft(f)&&(yield Pc(),(h=Ft(f))==null||h.on("history:change",u))})),f1(()=>{var h;(h=Ft(f))==null||h.off("history:change",u)}),{toolbarItemList:c,onControl:p}}}),P1=["onClick"];function A1(y,v,c,f,u,p){const h=Mr("Icon"),b=Mr("Tooltip"),x=Mr("Divider");return Nr(),Ri("div",{class:su([`${y.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Nr(!0),Ri(Xv,null,p1(y.toolbarItemList,E=>(Nr(),Ri(Xv,{key:E.type},[Ii(b,y1({placement:"bottom"},E.disabled?{visible:!1}:{}),{title:uu(()=>[d1(h1(E.tooltip),1)]),default:uu(()=>[E.icon?(Nr(),Ri("span",{key:0,class:su(`${y.prefixCls}-toolbar__icon`),onClick:S=>y.onControl(E)},[Ii(h,{icon:E.icon,class:su(E.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,P1)):Ac("",!0)]),_:2},1040),E.separate?(Nr(),kc(x,{key:0,type:"vertical"})):Ac("",!0)],64))),128))],2)}var k1=jc(j1,[["render",A1]]),je={exports:{}};(function(y,v){(function(c,f){y.exports=f()})(window,function(){return function(c){var f={};function u(p){if(f[p])return f[p].exports;var h=f[p]={i:p,l:!1,exports:{}};return c[p].call(h.exports,h,h.exports,u),h.l=!0,h.exports}return u.m=c,u.c=f,u.d=function(p,h,b){u.o(p,h)||Object.defineProperty(p,h,{enumerable:!0,get:b})},u.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},u.t=function(p,h){if(1&h&&(p=u(p)),8&h||4&h&&typeof p=="object"&&p&&p.__esModule)return p;var b=Object.create(null);if(u.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:p}),2&h&&typeof p!="string")for(var x in p)u.d(b,x,function(E){return p[E]}.bind(null,x));return b},u.n=function(p){var h=p&&p.__esModule?function(){return p.default}:function(){return p};return u.d(h,"a",h),h},u.o=function(p,h){return Object.prototype.hasOwnProperty.call(p,h)},u.p="",u(u.s=184)}([function(c,f,u){(function(p,h){u.d(f,"a",function(){return Bt}),u.d(f,"b",function(){return Yr}),u.d(f,"c",function(){return Qn}),u.d(f,"d",function(){return bu}),u.d(f,"e",function(){return Vi}),u.d(f,"f",function(){return An}),u.d(f,"g",function(){return Te}),u.d(f,"h",function(){return Go}),u.d(f,"i",function(){return Sn}),u.d(f,"j",function(){return lo}),u.d(f,"k",function(){return fr}),u.d(f,"l",function(){return Qi}),u.d(f,"m",function(){return se}),u.d(f,"n",function(){return ua}),u.d(f,"o",function(){return ea}),u.d(f,"p",function(){return ra}),u.d(f,"q",function(){return hn}),u.d(f,"r",function(){return va}),u.d(f,"s",function(){return Ji}),u.d(f,"t",function(){return ia}),u.d(f,"u",function(){return Ou}),u.d(f,"v",function(){return er}),u.d(f,"w",function(){return Ht}),u.d(f,"x",function(){return Gt}),u.d(f,"y",function(){return dn}),u.d(f,"z",function(){return tr}),u.d(f,"A",function(){return et}),u.d(f,"B",function(){return hr}),u.d(f,"C",function(){return ln}),u.d(f,"D",function(){return qo}),u.d(f,"E",function(){return qi}),u.d(f,"F",function(){return $i}),u.d(f,"G",function(){return fo}),u.d(f,"H",function(){return ct}),u.d(f,"I",function(){return zr}),u.d(f,"J",function(){return nr}),u.d(f,"K",function(){return ca});var b=[];Object.freeze(b);var x={};Object.freeze(x);var E={};function S(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:E}function k(){return++he.mobxGuid}function P(g){throw O(!1,g),"X"}function O(g,m){if(!g)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is an production build."))}function L(g){var m=!1;return function(){if(!m)return m=!0,g.apply(this,arguments)}}var W=function(){};function K(g){return g!==null&&typeof g=="object"}function G(g){if(g===null||typeof g!="object")return!1;var m=Object.getPrototypeOf(g);return m===Object.prototype||m===null}function H(g,m,w){Object.defineProperty(g,m,{enumerable:!1,writable:!0,configurable:!0,value:w})}function R(g,m,w){Object.defineProperty(g,m,{enumerable:!1,writable:!1,configurable:!0,value:w})}function U(g,m){var w="isMobX"+g;return m.prototype[w]=!0,function(D){return K(D)&&D[w]===!0}}function V(g){return S().Map!==void 0&&g instanceof S().Map}function N(g){return g instanceof Set}function C(g){for(var m=[];;){var w=g.next();if(w.done)break;m.push(w.value)}return m}function I(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function B(g){return g===null?null:typeof g=="object"?""+g:g}function z(g,m){for(var w=g.next();!w.done;)m(w.value),w=g.next()}function J(){return typeof Symbol=="function"&&Symbol.iterator||"@@iterator"}function ee(g,m){R(g,J(),m)}function re(g){return g[J()]=be,g}function ie(){return typeof Symbol=="function"&&Symbol.toStringTag||"@@toStringTag"}function be(){return this}var fe=function(){function g(m){m===void 0&&(m="Atom@"+k()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ne.NOT_TRACKING}return g.prototype.onBecomeUnobserved=function(){},g.prototype.onBecomeObserved=function(){},g.prototype.reportObserved=function(){return Xr(this)},g.prototype.reportChanged=function(){Ct(),function(m){if(m.lowestObserverState!==Ne.STALE){m.lowestObserverState=Ne.STALE;for(var w=m.observers,D=w.length;D--;){var T=w[D];T.dependenciesState===Ne.UP_TO_DATE&&(T.isTracing!==St.NONE&&Yo(T,m),T.onBecomeStale()),T.dependenciesState=Ne.STALE}}}(this),Jt()},g.prototype.toString=function(){return this.name},g}(),pe=U("Atom",fe);function se(g,m,w){m===void 0&&(m=W),w===void 0&&(w=W);var D,T=new fe(g);return Jo("onBecomeObserved",T,m,D),ln(T,w),T}function ce(g,m){return g===m}var ye={identity:ce,structural:function(g,m){return ai(g,m)},default:function(g,m){return function(w,D){return typeof w=="number"&&typeof D=="number"&&isNaN(w)&&isNaN(D)}(g,m)||ce(g,m)},shallow:function(g,m){return ai(g,m,1)}},de=function(g,m){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,D){w.__proto__=D}||function(w,D){for(var T in D)D.hasOwnProperty(T)&&(w[T]=D[T])})(g,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Pe(g,m){function w(){this.constructor=g}de(g,m),g.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}var _e=function(){return(_e=Object.assign||function(g){for(var m,w=1,D=arguments.length;w<D;w++)for(var T in m=arguments[w])Object.prototype.hasOwnProperty.call(m,T)&&(g[T]=m[T]);return g}).apply(this,arguments)};function Ue(g,m){var w=typeof Symbol=="function"&&g[Symbol.iterator];if(!w)return g;var D,T,X=w.call(g),Q=[];try{for(;(m===void 0||m-- >0)&&!(D=X.next()).done;)Q.push(D.value)}catch(le){T={error:le}}finally{try{D&&!D.done&&(w=X.return)&&w.call(X)}finally{if(T)throw T.error}}return Q}function We(){for(var g=[],m=0;m<arguments.length;m++)g=g.concat(Ue(arguments[m]));return g}var ze={},Kt={};function _n(g,m){var w=m?ze:Kt;return w[g]||(w[g]={configurable:!0,enumerable:m,get:function(){return it(this),this[g]},set:function(D){it(this),this[g]=D}})}function it(g){if(g.__mobxDidRunLazyInitializers!==!0){var m=g.__mobxDecorators;if(m)for(var w in H(g,"__mobxDidRunLazyInitializers",!0),m){var D=m[w];D.propertyCreator(g,D.prop,D.descriptor,D.decoratorTarget,D.decoratorArguments)}}}function He(g,m){return function(){var w,D=function(T,X,Q,le){if(le===!0)return m(T,X,Q,T,w),null;if(!Object.prototype.hasOwnProperty.call(T,"__mobxDecorators")){var me=T.__mobxDecorators;H(T,"__mobxDecorators",_e({},me))}return T.__mobxDecorators[X]={prop:X,propertyCreator:m,descriptor:Q,decoratorTarget:T,decoratorArguments:w},_n(X,g)};return ht(arguments)?(w=b,D.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),D)}}function ht(g){return(g.length===2||g.length===3)&&typeof g[1]=="string"||g.length===4&&g[3]===!0}function Ot(g,m,w){return er(g)?g:Array.isArray(g)?et.array(g,{name:w}):G(g)?et.object(g,void 0,{name:w}):V(g)?et.map(g,{name:w}):N(g)?et.set(g,{name:w}):g}function On(g){return g}function Dt(g){O(g);var m=He(!0,function(D,T,X,Q,le){ju(D,T,X?X.initializer?X.initializer.call(D):X.value:void 0,g)}),w=(h!==void 0&&h.env,m);return w.enhancer=g,w}var cr={deep:!0,name:void 0,defaultDecorator:void 0},oo={deep:!1,name:void 0,defaultDecorator:void 0};function yt(g){return g==null?cr:typeof g=="string"?{name:g,deep:!0}:g}function $t(g){return g.defaultDecorator?g.defaultDecorator.enhancer:g.deep===!1?On:Ot}Object.freeze(cr),Object.freeze(oo);var Zt=Dt(Ot),Rr=Dt(function(g,m,w){return g==null||dn(g)||Ht(g)||Gt(g)||Lt(g)?g:Array.isArray(g)?et.array(g,{name:w,deep:!1}):G(g)?et.object(g,void 0,{name:w,deep:!1}):V(g)?et.map(g,{name:w,deep:!1}):N(g)?et.set(g,{name:w,deep:!1}):P(!1)}),Ir=Dt(On),lr=Dt(function(g,m,w){return ai(g,m)?m:g}),Cn={box:function(g,m){arguments.length>2&&Tt("box");var w=yt(m);return new xn(g,$t(w),w.name,!0,w.equals)},shallowBox:function(g,m){return arguments.length>2&&Tt("shallowBox"),et.box(g,{name:m,deep:!1})},array:function(g,m){arguments.length>2&&Tt("array");var w=yt(m);return new It(g,$t(w),w.name)},shallowArray:function(g,m){return arguments.length>2&&Tt("shallowArray"),et.array(g,{name:m,deep:!1})},map:function(g,m){arguments.length>2&&Tt("map");var w=yt(m);return new Yr(g,$t(w),w.name)},shallowMap:function(g,m){return arguments.length>2&&Tt("shallowMap"),et.map(g,{name:m,deep:!1})},set:function(g,m){arguments.length>2&&Tt("set");var w=yt(m);return new Pn(g,$t(w),w.name)},object:function(g,m,w){typeof arguments[1]=="string"&&Tt("object");var D=yt(w);return ea({},g,m,D)},shallowObject:function(g,m){return typeof arguments[1]=="string"&&Tt("shallowObject"),et.object(g,{},{name:m,deep:!1})},ref:Ir,shallow:Rr,deep:Zt,struct:lr},et=function(g,m,w){if(typeof arguments[1]=="string")return Zt.apply(null,arguments);if(er(g))return g;var D=G(g)?et.object(g,m,w):Array.isArray(g)?et.array(g,m):V(g)?et.map(g,m):N(g)?et.set(g,m):g;if(D!==g)return D;P(!1)};function Tt(g){P("Expected one or two arguments to observable."+g+". Did you accidentally try to use observable."+g+" as decorator?")}Object.keys(Cn).forEach(function(g){return et[g]=Cn[g]});var Ne,St,sn=He(!1,function(g,m,w,D,T){var X=w.get,Q=w.set,le=T[0]||{};(function(me,De,xe){var Be=ii(me);xe.name=Be.name+"."+De,xe.context=me,Be.values[De]=new En(xe),Object.defineProperty(me,De,function(Fe){return pn[Fe]||(pn[Fe]={configurable:he.computedConfigurable,enumerable:!1,get:function(){return zt(this).read(this,Fe)},set:function(Xe){zt(this).write(this,Fe,Xe)}})}(De))})(g,m,_e({get:X,set:Q},le))}),Lr=sn({equals:ye.structural}),fr=function(g,m,w){if(typeof m=="string"||g!==null&&typeof g=="object"&&arguments.length===1)return sn.apply(null,arguments);var D=typeof m=="object"?m:{};return D.get=g,D.set=typeof m=="function"?m:D.set,D.name=D.name||g.name||"",new En(D)};fr.struct=Lr,function(g){g[g.NOT_TRACKING=-1]="NOT_TRACKING",g[g.UP_TO_DATE=0]="UP_TO_DATE",g[g.POSSIBLY_STALE=1]="POSSIBLY_STALE",g[g.STALE=2]="STALE"}(Ne||(Ne={})),function(g){g[g.NONE=0]="NONE",g[g.LOG=1]="LOG",g[g.BREAK=2]="BREAK"}(St||(St={}));var cn=function(g){this.cause=g};function ge(g){return g instanceof cn}function Ee(g){switch(g.dependenciesState){case Ne.UP_TO_DATE:return!1;case Ne.NOT_TRACKING:case Ne.STALE:return!0;case Ne.POSSIBLY_STALE:for(var m=io(!0),w=Ut(),D=g.observing,T=D.length,X=0;X<T;X++){var Q=D[X];if(Jn(Q)){if(he.disableErrorBoundaries)Q.get();else try{Q.get()}catch(le){return qt(w),wn(m),!0}if(g.dependenciesState===Ne.STALE)return qt(w),wn(m),!0}}return Xo(g),qt(w),wn(m),!1}}function Te(){return he.trackingDerivation!==null}function Me(g){var m=g.observers.length>0;he.computationDepth>0&&m&&P(!1),he.allowStateChanges||!m&&he.enforceActions!=="strict"||P(!1)}function at(g,m,w){var D=io(!0);Xo(g),g.newObserving=new Array(g.observing.length+100),g.unboundDepsCount=0,g.runId=++he.runId;var T,X=he.trackingDerivation;if(he.trackingDerivation=g,he.disableErrorBoundaries===!0)T=m.call(w);else try{T=m.call(w)}catch(Q){T=new cn(Q)}return he.trackingDerivation=X,function(Q){for(var le=Q.observing,me=Q.observing=Q.newObserving,De=Ne.UP_TO_DATE,xe=0,Be=Q.unboundDepsCount,Fe=0;Fe<Be;Fe++)(Xe=me[Fe]).diffValue===0&&(Xe.diffValue=1,xe!==Fe&&(me[xe]=Xe),xe++),Xe.dependenciesState>De&&(De=Xe.dependenciesState);for(me.length=xe,Q.newObserving=null,Be=le.length;Be--;)(Xe=le[Be]).diffValue===0&&Vo(Xe,Q),Xe.diffValue=0;for(;xe--;){var Xe;(Xe=me[xe]).diffValue===1&&(Xe.diffValue=0,uo(Xe,Q))}De!==Ne.UP_TO_DATE&&(Q.dependenciesState=De,Q.onBecomeStale())}(g),g.observing.length,wn(D),T}function qn(g){var m=g.observing;g.observing=[];for(var w=m.length;w--;)Vo(m[w],g);g.dependenciesState=Ne.NOT_TRACKING}function zr(g){var m=Ut(),w=g();return qt(m),w}function Ut(){var g=he.trackingDerivation;return he.trackingDerivation=null,g}function qt(g){he.trackingDerivation=g}function io(g){var m=he.allowStateReads;return he.allowStateReads=g,m}function wn(g){he.allowStateReads=g}function Xo(g){if(g.dependenciesState!==Ne.UP_TO_DATE){g.dependenciesState=Ne.UP_TO_DATE;for(var m=g.observing,w=m.length;w--;)m[w].lowestObserverState=Ne.UP_TO_DATE}}var ao=0,gu=1,Ho=Object.getOwnPropertyDescriptor(function(){},"name");Ho&&Ho.configurable;function Rn(g,m){var w=function(){return Wi(g,m,this,arguments)};return w.isMobxAction=!0,w}function Wi(g,m,w,D){var T=Go(g,w,D);try{return m.apply(w,D)}catch(X){throw T.error=X,X}finally{Vi(T)}}function Go(g,m,w){var D=vt()&&!!g,T=0;if(D){T=Date.now();var X=w&&w.length||0,Q=new Array(X);if(X>0)for(var le=0;le<X;le++)Q[le]=w[le];Qt({type:"action",name:g,object:m,arguments:Q})}var me=Ut();Ct();var De={prevDerivation:me,prevAllowStateChanges:Br(!0),prevAllowStateReads:io(!0),notifySpy:D,startTime:T,actionId:gu++,parentActionId:ao};return ao=De.actionId,De}function Vi(g){ao!==g.actionId&&P("invalid action stack. did you forget to finish an action?"),ao=g.parentActionId,g.error!==void 0&&(he.suppressReactionErrors=!0),pr(g.prevAllowStateChanges),wn(g.prevAllowStateReads),Jt(),qt(g.prevDerivation),g.notifySpy&&Xt({time:Date.now()-g.startTime}),he.suppressReactionErrors=!1}function bu(g,m){var w,D=Br(g);try{w=m()}finally{pr(D)}return w}function Br(g){var m=he.allowStateChanges;return he.allowStateChanges=g,m}function pr(g){he.allowStateChanges=g}var xn=function(g){function m(w,D,T,X,Q){T===void 0&&(T="ObservableValue@"+k()),X===void 0&&(X=!0),Q===void 0&&(Q=ye.default);var le=g.call(this,T)||this;return le.enhancer=D,le.name=T,le.equals=Q,le.hasUnreportedChange=!1,le.value=D(w,void 0,T),X&&vt()&&In({type:"create",name:le.name,newValue:""+le.value}),le}return Pe(m,g),m.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},m.prototype.set=function(w){var D=this.value;if((w=this.prepareNewValue(w))!==he.UNCHANGED){var T=vt();T&&Qt({type:"update",name:this.name,newValue:w,oldValue:D}),this.setNewValue(w),T&&Xt()}},m.prototype.prepareNewValue=function(w){if(Me(this),en(this)){var D=fn(this,{object:this,type:"update",newValue:w});if(!D)return he.UNCHANGED;w=D.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?he.UNCHANGED:w},m.prototype.setNewValue=function(w){var D=this.value;this.value=w,this.reportChanged(),Rt(this)&&lt(this,{type:"update",object:this,newValue:w,oldValue:D})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(w){return yr(this,w)},m.prototype.observe=function(w,D){return D&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),vr(this,w)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return B(this.get())},m}(fe);xn.prototype[I()]=xn.prototype.valueOf;var Yi=U("ObservableValue",xn),En=function(){function g(m){this.dependenciesState=Ne.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ne.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+k(),this.value=new cn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=St.NONE,O(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+k(),m.set&&(this.setter=Rn(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?ye.structural:ye.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return g.prototype.onBecomeStale=function(){(function(m){if(m.lowestObserverState===Ne.UP_TO_DATE){m.lowestObserverState=Ne.POSSIBLY_STALE;for(var w=m.observers,D=w.length;D--;){var T=w[D];T.dependenciesState===Ne.UP_TO_DATE&&(T.dependenciesState=Ne.POSSIBLY_STALE,T.isTracing!==St.NONE&&Yo(T,m),T.onBecomeStale())}}})(this)},g.prototype.onBecomeUnobserved=function(){},g.prototype.onBecomeObserved=function(){},g.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),he.inBatch!==0||this.observers.length!==0||this.keepAlive?(Xr(this),Ee(this)&&this.trackAndCompute()&&function(w){if(w.lowestObserverState!==Ne.STALE){w.lowestObserverState=Ne.STALE;for(var D=w.observers,T=D.length;T--;){var X=D[T];X.dependenciesState===Ne.POSSIBLY_STALE?X.dependenciesState=Ne.STALE:X.dependenciesState===Ne.UP_TO_DATE&&(w.lowestObserverState=Ne.UP_TO_DATE)}}}(this)):Ee(this)&&(this.warnAboutUntrackedRead(),Ct(),this.value=this.computeValue(!1),Jt());var m=this.value;if(ge(m))throw m.cause;return m},g.prototype.peek=function(){var m=this.computeValue(!1);if(ge(m))throw m.cause;return m},g.prototype.set=function(m){if(this.setter){O(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else O(!1,!1)},g.prototype.trackAndCompute=function(){vt()&&In({object:this.scope,type:"compute",name:this.name});var m=this.value,w=this.dependenciesState===Ne.NOT_TRACKING,D=this.computeValue(!0),T=w||ge(m)||ge(D)||!this.equals(m,D);return T&&(this.value=D),T},g.prototype.computeValue=function(m){var w;if(this.isComputing=!0,he.computationDepth++,m)w=at(this,this.derivation,this.scope);else if(he.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(D){w=new cn(D)}return he.computationDepth--,this.isComputing=!1,w},g.prototype.suspend=function(){this.keepAlive||(qn(this),this.value=void 0)},g.prototype.observe=function(m,w){var D=this,T=!0,X=void 0;return lo(function(){var Q=D.get();if(!T||w){var le=Ut();m({type:"update",object:D,newValue:Q,oldValue:X}),qt(le)}T=!1,X=Q})},g.prototype.warnAboutUntrackedRead=function(){},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},g.prototype.valueOf=function(){return B(this.get())},g}();En.prototype[I()]=En.prototype.valueOf;var Jn=U("ComputedValue",En),dr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Fr=!0,Wo=!1,he=function(){var g=S();return g.__mobxInstanceCount>0&&!g.__mobxGlobals&&(Fr=!1),g.__mobxGlobals&&g.__mobxGlobals.version!==new dr().version&&(Fr=!1),Fr?g.__mobxGlobals?(g.__mobxInstanceCount+=1,g.__mobxGlobals.UNCHANGED||(g.__mobxGlobals.UNCHANGED={}),g.__mobxGlobals):(g.__mobxInstanceCount=1,g.__mobxGlobals=new dr):(setTimeout(function(){Wo||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new dr)}();function uo(g,m){var w=g.observers.length;w&&(g.observersIndexes[m.__mapid]=w),g.observers[w]=m,g.lowestObserverState>m.dependenciesState&&(g.lowestObserverState=m.dependenciesState)}function Vo(g,m){if(g.observers.length===1)g.observers.length=0,Ur(g);else{var w=g.observers,D=g.observersIndexes,T=w.pop();if(T!==m){var X=D[m.__mapid]||0;X?D[T.__mapid]=X:delete D[T.__mapid],w[X]=T}delete D[m.__mapid]}}function Ur(g){g.isPendingUnobservation===!1&&(g.isPendingUnobservation=!0,he.pendingUnobservations.push(g))}function Ct(){he.inBatch++}function Jt(){if(--he.inBatch==0){Hr();for(var g=he.pendingUnobservations,m=0;m<g.length;m++){var w=g[m];w.isPendingUnobservation=!1,w.observers.length===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof En&&w.suspend())}he.pendingUnobservations=[]}}function Xr(g){var m=he.trackingDerivation;return m!==null?(m.runId!==g.lastAccessedBy&&(g.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=g,g.isBeingObserved||(g.isBeingObserved=!0,g.onBecomeObserved())),!0):(g.observers.length===0&&he.inBatch>0&&Ur(g),!1)}function Yo(g,m){if(console.log("[mobx.trace] '"+g.name+"' is invalidated due to a change in: '"+m.name+"'"),g.isTracing===St.BREAK){var w=[];(function X(Q,le,me){if(le.length>=1e3)return void le.push("(and many more)");le.push(""+new Array(me).join("	")+Q.name),Q.dependencies&&Q.dependencies.forEach(function(De){return X(De,le,me+1)})})((D=g,Qo(hn(D,T))),w,1),new Function(`debugger;
/*
Tracing '`+g.name+`'

You are entering this break point because derivation '`+g.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(g instanceof En?g.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}var D,T}var Qn=function(){function g(m,w,D,T){m===void 0&&(m="Reaction@"+k()),T===void 0&&(T=!1),this.name=m,this.onInvalidate=w,this.errorHandler=D,this.requiresObservable=T,this.observing=[],this.newObserving=[],this.dependenciesState=Ne.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+k(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=St.NONE}return g.prototype.onBecomeStale=function(){this.schedule()},g.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,he.pendingReactions.push(this),Hr())},g.prototype.isScheduled=function(){return this._isScheduled},g.prototype.runReaction=function(){if(!this.isDisposed){if(Ct(),this._isScheduled=!1,Ee(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&vt()&&In({name:this.name,type:"scheduled-reaction"})}catch(m){this.reportExceptionInDerivation(m)}}Jt()}},g.prototype.track=function(m){Ct();var w,D=vt();D&&(w=Date.now(),Qt({name:this.name,type:"reaction"})),this._isRunning=!0;var T=at(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&qn(this),ge(T)&&this.reportExceptionInDerivation(T.cause),D&&Xt({time:Date.now()-w}),Jt()},g.prototype.reportExceptionInDerivation=function(m){var w=this;if(this.errorHandler)this.errorHandler(m,this);else{if(he.disableErrorBoundaries)throw m;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";he.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,m),vt()&&In({type:"error",name:this.name,message:D,error:""+m}),he.globalReactionErrorHandlers.forEach(function(T){return T(m,w)})}},g.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ct(),qn(this),Jt()))},g.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m.$mobx=this,m},g.prototype.toString=function(){return"Reaction["+this.name+"]"},g.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];var T=!1;typeof w[w.length-1]=="boolean"&&(T=w.pop());var X=sa(w);if(!X)return P(!1);X.isTracing===St.NONE&&console.log("[mobx.trace] '"+X.name+"' tracing enabled"),X.isTracing=T?St.BREAK:St.LOG}(this,m)},g}(),so=function(g){return g()};function Hr(){he.inBatch>0||he.isRunningReactions||so(Ze)}function Ze(){he.isRunningReactions=!0;for(var g=he.pendingReactions,m=0;g.length>0;){++m==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+g[0]),g.splice(0));for(var w=g.splice(0),D=0,T=w.length;D<T;D++)w[D].runReaction()}he.isRunningReactions=!1}var co=U("Reaction",Qn);function Ki(g){var m=so;so=function(w){return g(function(){return m(w)})}}function vt(){return!!he.spyListeners.length}function In(g){if(he.spyListeners.length)for(var m=he.spyListeners,w=0,D=m.length;w<D;w++)m[w](g)}function Qt(g){In(_e(_e({},g),{spyReportStart:!0}))}var mu={spyReportEnd:!0};function Xt(g){In(g?_e(_e({},g),{spyReportEnd:!0}):mu)}function $i(g){return he.spyListeners.push(g),L(function(){he.spyListeners=he.spyListeners.filter(function(m){return m!==g})})}function _u(){P(!1)}function Ko(g){return function(m,w,D){if(D){if(D.value)return{value:Rn(g,D.value),enumerable:!1,configurable:!0,writable:!0};var T=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Rn(g,T.call(this))}}}return Zi(g).apply(this,arguments)}}function Zi(g){return function(m,w,D){Object.defineProperty(m,w,{configurable:!0,enumerable:!1,get:function(){},set:function(T){H(this,w,Sn(g,T))}})}}var Sn=function(g,m,w,D){return arguments.length===1&&typeof g=="function"?Rn(g.name||"<unnamed action>",g):arguments.length===2&&typeof m=="function"?Rn(g,m):arguments.length===1&&typeof g=="string"?Ko(g):D!==!0?Ko(m).apply(null,arguments):void(g[m]=Rn(g.name||m,w.value))};function qi(g,m){return Wi(typeof g=="string"?g:g.name||"<unnamed action>",typeof g=="function"?g:m,this,void 0)}function Ji(g){return typeof g=="function"&&g.isMobxAction===!0}function Ln(g,m,w){H(g,m,Rn(m,w.bind(g)))}function lo(g,m){m===void 0&&(m=x);var w,D=m&&m.name||g.name||"Autorun@"+k();if(!m.scheduler&&!m.delay)w=new Qn(D,function(){this.track(Q)},m.onError,m.requiresObservable);else{var T=Zo(m),X=!1;w=new Qn(D,function(){X||(X=!0,T(function(){X=!1,w.isDisposed||w.track(Q)}))},m.onError,m.requiresObservable)}function Q(){g(w)}return w.schedule(),w.getDisposer()}Sn.bound=function(g,m,w,D){return D===!0?(Ln(g,m,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Ln(this,m,w.value||w.initializer.call(this)),this[m]},set:_u}:{enumerable:!1,configurable:!0,set:function(T){Ln(this,m,T)},get:function(){}}};var $o=function(g){return g()};function Zo(g){return g.scheduler?g.scheduler:g.delay?function(m){return setTimeout(m,g.delay)}:$o}function qo(g,m,w){w===void 0&&(w=x),typeof w=="boolean"&&(w={fireImmediately:w});var D,T,X,Q=w.name||"Reaction@"+k(),le=Sn(Q,w.onError?(D=w.onError,T=m,function(){try{return T.apply(this,arguments)}catch(Ve){D.call(this,Ve)}}):m),me=!w.scheduler&&!w.delay,De=Zo(w),xe=!0,Be=!1,Fe=w.compareStructural?ye.structural:w.equals||ye.default,Xe=new Qn(Q,function(){xe||me?Je():Be||(Be=!0,De(Je))},w.onError,w.requiresObservable);function Je(){if(Be=!1,!Xe.isDisposed){var Ve=!1;Xe.track(function(){var ot=g(Xe);Ve=xe||!Fe(X,ot),X=ot}),xe&&w.fireImmediately&&le(X,Xe),xe||Ve!==!0||le(X,Xe),xe&&(xe=!1)}}return Xe.schedule(),Xe.getDisposer()}function ln(g,m,w){return Jo("onBecomeUnobserved",g,m,w)}function Jo(g,m,w,D){var T=typeof D=="function"?hn(m,w):hn(m),X=typeof D=="function"?D:w,Q=T[g];return typeof Q!="function"?P(!1):(T[g]=function(){Q.call(this),X.call(this)},function(){T[g]=Q})}function Qi(g){var m=g.enforceActions,w=g.computedRequiresReaction,D=g.computedConfigurable,T=g.disableErrorBoundaries,X=g.arrayBuffer,Q=g.reactionScheduler,le=g.reactionRequiresObservable,me=g.observableRequiresReaction;if(g.isolateGlobalState===!0&&((he.pendingReactions.length||he.inBatch||he.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Wo=!0,Fr&&(--S().__mobxInstanceCount==0&&(S().__mobxGlobals=void 0),he=new dr)),m!==void 0){var De=void 0;switch(m){case!0:case"observed":De=!0;break;case!1:case"never":De=!1;break;case"strict":case"always":De="strict";break;default:P("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}he.enforceActions=De,he.allowStateChanges=De!==!0&&De!=="strict"}w!==void 0&&(he.computedRequiresReaction=!!w),le!==void 0&&(he.reactionRequiresObservable=!!le),me!==void 0&&(he.observableRequiresReaction=!!me,he.allowStateReads=!he.observableRequiresReaction),D!==void 0&&(he.computedConfigurable=!!D),T!==void 0&&(T===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),he.disableErrorBoundaries=!!T),typeof X=="number"&&oi(X),Q&&Ki(Q)}function ea(g,m,w,D){var T=(D=yt(D)).defaultDecorator||(D.deep===!1?Ir:Zt);it(g),ii(g,D.name,T.enhancer),Ct();try{for(var X=Object.getOwnPropertyNames(m),Q=0,le=X.length;Q<le;Q++){var me=X[Q],De=Object.getOwnPropertyDescriptor(m,me),xe=(w&&me in w?w[me]:De.get?sn:T)(g,me,De,!0);xe&&Object.defineProperty(g,me,xe)}}finally{Jt()}return g}function Qo(g){var m,w,D={name:g.name};return g.observing&&g.observing.length>0&&(D.dependencies=(m=g.observing,w=[],m.forEach(function(T){w.indexOf(T)===-1&&w.push(T)}),w).map(Qo)),D}var ta=0;function na(){this.message="FLOW_CANCELLED"}function ra(g){arguments.length!==1&&P("Flow expects one 1 argument and cannot be used as decorator");var m=g.name||"<unnamed flow>";return function(){var w,D=this,T=arguments,X=++ta,Q=Sn(m+" - runid: "+X+" - init",g).apply(D,T),le=void 0,me=new Promise(function(De,xe){var Be=0;function Fe(Ve){var ot;le=void 0;try{ot=Sn(m+" - runid: "+X+" - yield "+Be++,Q.next).call(Q,Ve)}catch(gt){return xe(gt)}Je(ot)}function Xe(Ve){var ot;le=void 0;try{ot=Sn(m+" - runid: "+X+" - yield "+Be++,Q.throw).call(Q,Ve)}catch(gt){return xe(gt)}Je(ot)}function Je(Ve){if(!Ve||typeof Ve.then!="function")return Ve.done?De(Ve.value):(le=Promise.resolve(Ve.value)).then(Fe,Xe);Ve.then(Je,xe)}w=xe,Fe(void 0)});return me.cancel=Sn(m+" - runid: "+X+" - cancel",function(){try{le&&ei(le);var De=Q.return(void 0),xe=Promise.resolve(De.value);xe.then(W,W),ei(xe),w(new na)}catch(Be){w(Be)}}),me}}function ei(g){typeof g.cancel=="function"&&g.cancel()}function oa(g,m){if(g==null)return!1;if(m!==void 0){if(dn(g)===!1||!g.$mobx.values[m])return!1;var w=hn(g,m);return Jn(w)}return Jn(g)}function ia(g){return arguments.length>1?P(!1):oa(g)}function Ou(g,m){return typeof m!="string"?P(!1):oa(g,m)}function aa(g,m){if(g==null)return!1;if(m!==void 0){if(dn(g)){var w=g.$mobx;return w.values&&!!w.values[m]}return!1}return dn(g)||!!g.$mobx||pe(g)||co(g)||Jn(g)}function er(g){return arguments.length!==1&&P(!1),aa(g)}function tr(g){return dn(g)?g.$mobx.getKeys():Gt(g)||Lt(g)?C(g.keys()):Ht(g)?g.map(function(m,w){return w}):P(!1)}function nr(g){return dn(g)?tr(g).map(function(m){return g[m]}):Gt(g)?tr(g).map(function(m){return g.get(m)}):Lt(g)?C(g.values()):Ht(g)?g.slice():P(!1)}function ua(g){return dn(g)?tr(g).map(function(m){return[m,g[m]]}):Gt(g)?tr(g).map(function(m){return[m,g.get(m)]}):Lt(g)?C(g.entries()):Ht(g)?g.map(function(m,w){return[w,m]}):P(!1)}function hr(g,m,w,D){return typeof w=="function"?function(T,X,Q,le){return An(T,X).observe(Q,le)}(g,m,w,D):function(T,X,Q){return An(T).observe(X,Q)}(g,m,w)}na.prototype=Object.create(Error.prototype);var ti={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function jn(g,m,w,D){return D.detectCycles&&g.set(m,w),w}function fo(g,m){var w;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=ti),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(w=new Map),function D(T,X,Q){if(!X.recurseEverything&&!er(T)||typeof T!="object")return T;if(T===null)return null;if(T instanceof Date)return T;if(Yi(T))return D(T.get(),X,Q);if(er(T)&&tr(T),X.detectCycles===!0&&T!==null&&Q.has(T))return Q.get(T);if(Ht(T)||Array.isArray(T)){var le=jn(Q,T,[],X),me=T.map(function(gt){return D(gt,X,Q)});le.length=me.length;for(var De=0,xe=me.length;De<xe;De++)le[De]=me[De];return le}if(Lt(T)||Object.getPrototypeOf(T)===Set.prototype){if(X.exportMapsAsObjects===!1){var Be=jn(Q,T,new Set,X);return T.forEach(function(gt){Be.add(D(gt,X,Q))}),Be}var Fe=jn(Q,T,[],X);return T.forEach(function(gt){Fe.push(D(gt,X,Q))}),Fe}if(Gt(T)||Object.getPrototypeOf(T)===Map.prototype){if(X.exportMapsAsObjects===!1){var Xe=jn(Q,T,new Map,X);return T.forEach(function(gt,si){Xe.set(si,D(gt,X,Q))}),Xe}var Je=jn(Q,T,{},X);return T.forEach(function(gt,si){Je[si]=D(gt,X,Q)}),Je}var Ve=jn(Q,T,{},X);for(var ot in T)Ve[ot]=D(T[ot],X,Q);return Ve}(g,m,w)}function sa(g){switch(g.length){case 0:return he.trackingDerivation;case 1:return hn(g[0]);case 2:return hn(g[0],g[1])}}function ct(g,m){m===void 0&&(m=void 0),Ct();try{return g.apply(m)}finally{Jt()}}function ca(g,m,w){return arguments.length===1||m&&typeof m=="object"?wu(g,m):ni(g,m,w||{})}function ni(g,m,w){var D;typeof w.timeout=="number"&&(D=setTimeout(function(){if(!X.$mobx.isDisposed){X();var Q=new Error("WHEN_TIMEOUT");if(!w.onError)throw Q;w.onError(Q)}},w.timeout)),w.name=w.name||"When@"+k();var T=Rn(w.name+"-effect",m),X=lo(function(Q){g()&&(Q.dispose(),D&&clearTimeout(D),T())},w);return X}function wu(g,m){var w,D=new Promise(function(T,X){var Q=ni(g,T,_e(_e({},m),{onError:X}));w=function(){Q(),X("WHEN_CANCELLED")}});return D.cancel=w,D}function en(g){return g.interceptors!==void 0&&g.interceptors.length>0}function yr(g,m){var w=g.interceptors||(g.interceptors=[]);return w.push(m),L(function(){var D=w.indexOf(m);D!==-1&&w.splice(D,1)})}function fn(g,m){var w=Ut();try{var D=g.interceptors;if(D)for(var T=0,X=D.length;T<X&&(O(!(m=D[T](m))||m.type,"Intercept handlers should return nothing or a change object"),m);T++);return m}finally{qt(w)}}function Rt(g){return g.changeListeners!==void 0&&g.changeListeners.length>0}function vr(g,m){var w=g.changeListeners||(g.changeListeners=[]);return w.push(m),L(function(){var D=w.indexOf(m);D!==-1&&w.splice(D,1)})}function lt(g,m){var w=Ut(),D=g.changeListeners;if(D){for(var T=0,X=(D=D.slice()).length;T<X;T++)D[T](m);qt(w)}}var Gr,po,gr,Wr,la=(Gr=!1,po={},Object.defineProperty(po,"0",{set:function(){Gr=!0}}),Object.create(po)[0]=1,Gr===!1),ri=0,Vr=function(){};gr=Vr,Wr=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(gr.prototype,Wr):gr.prototype.__proto__!==void 0?gr.prototype.__proto__=Wr:gr.prototype=Wr,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(g){Object.defineProperty(Vr.prototype,g,{configurable:!0,writable:!0,value:Array.prototype[g]})});var ho=function(){function g(m,w,D,T){this.array=D,this.owned=T,this.values=[],this.lastKnownLength=0,this.atom=new fe(m||"ObservableArray@"+k()),this.enhancer=function(X,Q){return w(X,Q,m+"[..]")}}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},g.prototype.intercept=function(m){return yr(this,m)},g.prototype.observe=function(m,w){return w===void 0&&(w=!1),w&&m({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),vr(this,m)},g.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},g.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var w=this.values.length;if(m!==w)if(m>w){for(var D=new Array(m-w),T=0;T<m-w;T++)D[T]=void 0;this.spliceWithArray(w,0,D)}else this.spliceWithArray(m,w-m)},g.prototype.updateArrayLength=function(m,w){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=w,w>0&&m+w+1>ri&&oi(m+w+1)},g.prototype.spliceWithArray=function(m,w,D){var T=this;Me(this.atom);var X=this.values.length;if(m===void 0?m=0:m>X?m=X:m<0&&(m=Math.max(0,X+m)),w=arguments.length===1?X-m:w==null?0:Math.max(0,Math.min(w,X-m)),D===void 0&&(D=b),en(this)){var Q=fn(this,{object:this.array,type:"splice",index:m,removedCount:w,added:D});if(!Q)return b;w=Q.removedCount,D=Q.added}var le=(D=D.length===0?D:D.map(function(De){return T.enhancer(De,void 0)})).length-w;this.updateArrayLength(X,le);var me=this.spliceItemsIntoValues(m,w,D);return w===0&&D.length===0||this.notifyArraySplice(m,D,me),this.dehanceValues(me)},g.prototype.spliceItemsIntoValues=function(m,w,D){var T;if(D.length<1e4)return(T=this.values).splice.apply(T,We([m,w],D));var X=this.values.slice(m,m+w);return this.values=this.values.slice(0,m).concat(D,this.values.slice(m+w)),X},g.prototype.notifyArrayChildUpdate=function(m,w,D){var T=!this.owned&&vt(),X=Rt(this),Q=X||T?{object:this.array,type:"update",index:m,newValue:w,oldValue:D}:null;T&&Qt(_e(_e({},Q),{name:this.atom.name})),this.atom.reportChanged(),X&&lt(this,Q),T&&Xt()},g.prototype.notifyArraySplice=function(m,w,D){var T=!this.owned&&vt(),X=Rt(this),Q=X||T?{object:this.array,type:"splice",index:m,removed:D,added:w,removedCount:D.length,addedCount:w.length}:null;T&&Qt(_e(_e({},Q),{name:this.atom.name})),this.atom.reportChanged(),X&&lt(this,Q),T&&Xt()},g}(),It=function(g){function m(w,D,T,X){T===void 0&&(T="ObservableArray@"+k()),X===void 0&&(X=!1);var Q=g.call(this)||this,le=new ho(T,D,Q,X);if(R(Q,"$mobx",le),w&&w.length){var me=Br(!0);Q.spliceWithArray(0,0,w),pr(me)}return la&&Object.defineProperty(le.array,"0",xu),Q}return Pe(m,g),m.prototype.intercept=function(w){return this.$mobx.intercept(w)},m.prototype.observe=function(w,D){return D===void 0&&(D=!1),this.$mobx.observe(w,D)},m.prototype.clear=function(){return this.splice(0)},m.prototype.concat=function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),w.map(function(T){return Ht(T)?T.peek():T}))},m.prototype.replace=function(w){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,w)},m.prototype.toJS=function(){return this.slice()},m.prototype.toJSON=function(){return this.toJS()},m.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},m.prototype.find=function(w,D,T){T===void 0&&(T=0);var X=this.findIndex.apply(this,arguments);return X===-1?void 0:this.get(X)},m.prototype.findIndex=function(w,D,T){T===void 0&&(T=0);for(var X=this.peek(),Q=X.length,le=T;le<Q;le++)if(w.call(D,X[le],le,this))return le;return-1},m.prototype.splice=function(w,D){for(var T=[],X=2;X<arguments.length;X++)T[X-2]=arguments[X];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(w);case 2:return this.$mobx.spliceWithArray(w,D)}return this.$mobx.spliceWithArray(w,D,T)},m.prototype.spliceWithArray=function(w,D,T){return this.$mobx.spliceWithArray(w,D,T)},m.prototype.push=function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];var T=this.$mobx;return T.spliceWithArray(T.values.length,0,w),T.values.length},m.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},m.prototype.shift=function(){return this.splice(0,1)[0]},m.prototype.unshift=function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];var T=this.$mobx;return T.spliceWithArray(0,0,w),T.values.length},m.prototype.reverse=function(){var w=this.slice();return w.reverse.apply(w,arguments)},m.prototype.sort=function(w){var D=this.slice();return D.sort.apply(D,arguments)},m.prototype.remove=function(w){var D=this.$mobx.dehanceValues(this.$mobx.values).indexOf(w);return D>-1&&(this.splice(D,1),!0)},m.prototype.move=function(w,D){function T(le){if(le<0)throw new Error("[mobx.array] Index out of bounds: "+le+" is negative");var me=this.$mobx.values.length;if(le>=me)throw new Error("[mobx.array] Index out of bounds: "+le+" is not smaller than "+me)}if(T.call(this,w),T.call(this,D),w!==D){var X,Q=this.$mobx.values;X=w<D?We(Q.slice(0,w),Q.slice(w+1,D+1),[Q[w]],Q.slice(D+1)):We(Q.slice(0,D),[Q[w]],Q.slice(D,w),Q.slice(w+1)),this.replace(X)}},m.prototype.get=function(w){var D=this.$mobx;if(D){if(w<D.values.length)return D.atom.reportObserved(),D.dehanceValue(D.values[w]);console.warn("[mobx.array] Attempt to read an array index ("+w+") that is out of bounds ("+D.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},m.prototype.set=function(w,D){var T=this.$mobx,X=T.values;if(w<X.length){Me(T.atom);var Q=X[w];if(en(T)){var le=fn(T,{type:"update",object:this,index:w,newValue:D});if(!le)return;D=le.newValue}(D=T.enhancer(D,Q))!==Q&&(X[w]=D,T.notifyArrayChildUpdate(w,D,Q))}else{if(w!==X.length)throw new Error("[mobx.array] Index out of bounds, "+w+" is larger than "+X.length);T.spliceWithArray(w,0,[D])}},m}(Vr);ee(It.prototype,function(){this.$mobx.atom.reportObserved();var g=this,m=0;return re({next:function(){return m<g.length?{value:g[m++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(It.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(g){this.$mobx.setArrayLength(g)}}),H(It.prototype,ie(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(g){var m=Array.prototype[g];O(typeof m=="function","Base function not defined on Array prototype: '"+g+"'"),H(It.prototype,g,function(){return m.apply(this.peek(),arguments)})}),["every","filter","forEach","map","some"].forEach(function(g){O(typeof Array.prototype[g]=="function","Base function not defined on Array prototype: '"+g+"'"),H(It.prototype,g,function(m,w){var D=this,T=this.$mobx;return T.atom.reportObserved(),T.dehanceValues(T.values)[g](function(X,Q){return m.call(w,X,Q,D)},w)})}),["reduce","reduceRight"].forEach(function(g){H(It.prototype,g,function(){var m=this,w=this.$mobx;w.atom.reportObserved();var D=arguments[0];return arguments[0]=function(T,X,Q){return X=w.dehanceValue(X),D(T,X,Q,m)},w.values[g].apply(w.values,arguments)})}),function(g,m){for(var w=0;w<m.length;w++)H(g,m[w],g[m[w]])}(It.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var xu=fa(0);function fa(g){return{enumerable:!1,configurable:!1,get:function(){return this.get(g)},set:function(m){this.set(g,m)}}}function pa(g){Object.defineProperty(It.prototype,""+g,fa(g))}function oi(g){for(var m=ri;m<g;m++)pa(m);ri=g}oi(1e3);var yo=U("ObservableArrayAdministration",ho);function Ht(g){return K(g)&&yo(g.$mobx)}var Eu={},Yr=function(){function g(m,w,D){if(w===void 0&&(w=Ot),D===void 0&&(D="ObservableMap@"+k()),this.enhancer=w,this.name=D,this.$mobx=Eu,this._keysAtom=se(this.name+".keys()"),typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return g.prototype._has=function(m){return this._data.has(m)},g.prototype.has=function(m){var w=this;if(!he.trackingDerivation)return this._has(m);var D=this._hasMap.get(m);if(!D){var T=D=new xn(this._has(m),On,this.name+"."+vo(m)+"?",!1);this._hasMap.set(m,T),ln(T,function(){return w._hasMap.delete(m)})}return D.get()},g.prototype.set=function(m,w){var D=this._has(m);if(en(this)){var T=fn(this,{type:D?"update":"add",object:this,newValue:w,name:m});if(!T)return this;w=T.newValue}return D?this._updateValue(m,w):this._addValue(m,w),this},g.prototype.delete=function(m){var w=this;if(Me(this._keysAtom),en(this)&&!(X=fn(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var D=vt(),T=Rt(this),X=T||D?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return D&&Qt(_e(_e({},X),{name:this.name,key:m})),ct(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(m,!1),w._data.get(m).setNewValue(void 0),w._data.delete(m)}),T&&lt(this,X),D&&Xt(),!0}return!1},g.prototype._updateHasMapEntry=function(m,w){var D=this._hasMap.get(m);D&&D.setNewValue(w)},g.prototype._updateValue=function(m,w){var D=this._data.get(m);if((w=D.prepareNewValue(w))!==he.UNCHANGED){var T=vt(),X=Rt(this),Q=X||T?{type:"update",object:this,oldValue:D.value,name:m,newValue:w}:null;T&&Qt(_e(_e({},Q),{name:this.name,key:m})),D.setNewValue(w),X&&lt(this,Q),T&&Xt()}},g.prototype._addValue=function(m,w){var D=this;Me(this._keysAtom),ct(function(){var le=new xn(w,D.enhancer,D.name+"."+vo(m),!1);D._data.set(m,le),w=le.value,D._updateHasMapEntry(m,!0),D._keysAtom.reportChanged()});var T=vt(),X=Rt(this),Q=X||T?{type:"add",object:this,name:m,newValue:w}:null;T&&Qt(_e(_e({},Q),{name:this.name,key:m})),X&&lt(this,Q),T&&Xt()},g.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},g.prototype.values=function(){var m=this,w=this.keys();return re({next:function(){var D=w.next(),T=D.done,X=D.value;return{done:T,value:T?void 0:m.get(X)}}})},g.prototype.entries=function(){var m=this,w=this.keys();return re({next:function(){var D=w.next(),T=D.done,X=D.value;return{done:T,value:T?void 0:[X,m.get(X)]}}})},g.prototype.forEach=function(m,w){var D=this;this._keysAtom.reportObserved(),this._data.forEach(function(T,X){return m.call(w,D.get(X),X,D)})},g.prototype.merge=function(m){var w=this;return Gt(m)&&(m=m.toJS()),ct(function(){var D=Br(!0);try{G(m)?Object.keys(m).forEach(function(T){return w.set(T,m[T])}):Array.isArray(m)?m.forEach(function(T){var X=Ue(T,2),Q=X[0],le=X[1];return w.set(Q,le)}):V(m)?m.constructor!==Map?P("Cannot initialize from classes that inherit from Map: "+m.constructor.name):m.forEach(function(T,X){return w.set(X,T)}):m!=null&&P("Cannot initialize map from "+m)}finally{pr(D)}}),this},g.prototype.clear=function(){var m=this;ct(function(){zr(function(){m._data.forEach(function(w,D){return m.delete(D)})})})},g.prototype.replace=function(m){var w=this;return ct(function(){var D=function(xe){if(V(xe)||Gt(xe))return xe;if(Array.isArray(xe))return new Map(xe);if(G(xe)){var Be=new Map;for(var Fe in xe)Be.set(Fe,xe[Fe]);return Be}return P("Cannot convert to map from '"+xe+"'")}(m),T=new Map,X=!1;if(z(w._data.keys(),function(xe){if(!D.has(xe))if(w.delete(xe))X=!0;else{var Be=w._data.get(xe);T.set(xe,Be)}}),z(D.entries(),function(xe){var Be=Ue(xe,2),Fe=Be[0],Xe=Be[1],Je=w._data.has(Fe);if(w.set(Fe,Xe),w._data.has(Fe)){var Ve=w._data.get(Fe);T.set(Fe,Ve),Je||(X=!0)}}),!X)if(w._data.size!==T.size)w._keysAtom.reportChanged();else for(var Q=w._data.keys(),le=T.keys(),me=Q.next(),De=le.next();!me.done;){if(me.value!==De.value){w._keysAtom.reportChanged();break}me=Q.next(),De=le.next()}w._data=T}),this},Object.defineProperty(g.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.toPOJO=function(){var m=this,w={};return this.forEach(function(D,T){return w[typeof T=="symbol"?T:vo(T)]=m.get(T)}),w},g.prototype.toJS=function(){return new Map(this)},g.prototype.toJSON=function(){return this.toPOJO()},g.prototype.toString=function(){var m=this;return this.name+"[{ "+C(this.keys()).map(function(w){return vo(w)+": "+m.get(w)}).join(", ")+" }]"},g.prototype.observe=function(m,w){return vr(this,m)},g.prototype.intercept=function(m){return yr(this,m)},g}();function vo(g){return g&&g.toString?g.toString():new String(g).toString()}ee(Yr.prototype,function(){return this.entries()}),R(Yr.prototype,ie(),"Map");var Gt=U("ObservableMap",Yr),Su={},Pn=function(){function g(m,w,D){if(w===void 0&&(w=Ot),D===void 0&&(D="ObservableSet@"+k()),this.name=D,this.$mobx=Su,this._data=new Set,this._atom=se(this.name),typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(T,X){return w(T,X,D)},m&&this.replace(m)}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.clear=function(){var m=this;ct(function(){zr(function(){m._data.forEach(function(w){m.delete(w)})})})},g.prototype.forEach=function(m,w){var D=this;this._atom.reportObserved(),this._data.forEach(function(T){m.call(w,T,T,D)})},Object.defineProperty(g.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.add=function(m){var w=this;if(Me(this._atom),en(this)&&!(X=fn(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){ct(function(){w._data.add(w.enhancer(m,void 0)),w._atom.reportChanged()});var D=vt(),T=Rt(this),X=T||D?{type:"add",object:this,newValue:m}:null;T&&lt(this,X)}return this},g.prototype.delete=function(m){var w=this;if(en(this)&&!(X=fn(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var D=vt(),T=Rt(this),X=T||D?{type:"delete",object:this,oldValue:m}:null;return ct(function(){w._atom.reportChanged(),w._data.delete(m)}),T&&lt(this,X),!0}return!1},g.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},g.prototype.entries=function(){var m=0,w=C(this.keys()),D=C(this.values());return re({next:function(){var T=m;return m+=1,T<D.length?{value:[w[T],D[T]],done:!1}:{done:!0}}})},g.prototype.keys=function(){return this.values()},g.prototype.values=function(){this._atom.reportObserved();var m,w=this,D=0;return this._data.values!==void 0?m=C(this._data.values()):(m=[],this._data.forEach(function(T){return m.push(T)})),re({next:function(){return D<m.length?{value:w.dehanceValue(m[D++]),done:!1}:{done:!0}}})},g.prototype.replace=function(m){var w=this;return Lt(m)&&(m=m.toJS()),ct(function(){var D=Br(!0);try{Array.isArray(m)||N(m)?(w.clear(),m.forEach(function(T){return w.add(T)})):m!=null&&P("Cannot initialize set from "+m)}finally{pr(D)}}),this},g.prototype.observe=function(m,w){return vr(this,m)},g.prototype.intercept=function(m){return yr(this,m)},g.prototype.toJS=function(){return new Set(this)},g.prototype.toString=function(){return this.name+"[ "+C(this.keys()).join(", ")+" ]"},g}();ee(Pn.prototype,function(){return this.values()}),R(Pn.prototype,ie(),"Set");var Lt=U("ObservableSet",Pn),da=function(){function g(m,w,D){this.target=m,this.name=w,this.defaultEnhancer=D,this.values={}}return g.prototype.read=function(m,w){if(this.target===m||(this.illegalAccess(m,w),this.values[w]))return this.values[w].get()},g.prototype.write=function(m,w,D){var T=this.target;T!==m&&this.illegalAccess(m,w);var X=this.values[w];if(X instanceof En)X.set(D);else{if(en(this)){if(!(me=fn(this,{type:"update",object:T,name:w,newValue:D})))return;D=me.newValue}if((D=X.prepareNewValue(D))!==he.UNCHANGED){var Q=Rt(this),le=vt(),me=Q||le?{type:"update",object:T,oldValue:X.value,name:w,newValue:D}:null;le&&Qt(_e(_e({},me),{name:this.name,key:w})),X.setNewValue(D),Q&&lt(this,me),le&&Xt()}}},g.prototype.remove=function(m){if(this.values[m]){var w=this.target;if(en(this)&&!(Q=fn(this,{object:w,name:m,type:"remove"})))return;try{Ct();var D=Rt(this),T=vt(),X=this.values[m].get();this.keys&&this.keys.remove(m),delete this.values[m],delete this.target[m];var Q=D||T?{type:"remove",object:w,oldValue:X,name:m}:null;T&&Qt(_e(_e({},Q),{name:this.name,key:m})),D&&lt(this,Q),T&&Xt()}finally{Jt()}}},g.prototype.illegalAccess=function(m,w){console.warn("Property '"+w+"' of '"+m+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},g.prototype.observe=function(m,w){return vr(this,m)},g.prototype.intercept=function(m){return yr(this,m)},g.prototype.getKeys=function(){var m=this;return this.keys===void 0&&(this.keys=new It(Object.keys(this.values).filter(function(w){return m.values[w]instanceof xn}),On,"keys("+this.name+")",!0)),this.keys.slice()},g}();function ii(g,m,w){m===void 0&&(m=""),w===void 0&&(w=Ot);var D=g.$mobx;return D||(G(g)||(m=(g.constructor.name||"ObservableObject")+"@"+k()),m||(m="ObservableObject@"+k()),R(g,"$mobx",D=new da(g,m,w)),D)}function ju(g,m,w,D){var T=ii(g);if(en(T)){var X=fn(T,{object:g,name:m,type:"add",newValue:w});if(!X)return;w=X.newValue}w=(T.values[m]=new xn(w,D,T.name+"."+m,!1)).value,Object.defineProperty(g,m,function(Q){return ha[Q]||(ha[Q]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,Q)},set:function(le){this.$mobx.write(this,Q,le)}})}(m)),T.keys&&T.keys.push(m),function(Q,le,me,De){var xe=Rt(Q),Be=vt(),Fe=xe||Be?{type:"add",object:le,name:me,newValue:De}:null;Be&&Qt(_e(_e({},Fe),{name:Q.name,key:me})),xe&&lt(Q,Fe),Be&&Xt()}(T,g,m,w)}var ha=Object.create(null),pn=Object.create(null);function zt(g){var m=g.$mobx;return m||(it(g),g.$mobx)}var ya=U("ObservableObjectAdministration",da);function dn(g){return!!K(g)&&(it(g),ya(g.$mobx))}function hn(g,m){if(typeof g=="object"&&g!==null){if(Ht(g))return m!==void 0&&P(!1),g.$mobx.atom;if(Lt(g))return g.$mobx;if(Gt(g)){var w=g;return m===void 0?w._keysAtom:((D=w._data.get(m)||w._hasMap.get(m))||P(!1),D)}var D;if(it(g),m&&!g.$mobx&&g[m],dn(g))return m?((D=g.$mobx.values[m])||P(!1),D):P(!1);if(pe(g)||Jn(g)||co(g))return g}else if(typeof g=="function"&&co(g.$mobx))return g.$mobx;return P(!1)}function An(g,m){return g||P("Expecting some object"),m!==void 0?An(hn(g,m)):pe(g)||Jn(g)||co(g)||Gt(g)||Lt(g)?g:(it(g),g.$mobx?g.$mobx:void P(!1))}function va(g,m){return(m!==void 0?hn(g,m):dn(g)||Gt(g)||Lt(g)?An(g):hn(g)).name}var ga=Object.prototype.toString;function ai(g,m,w){return w===void 0&&(w=-1),function D(T,X,Q,le,me){if(T===X)return T!==0||1/T==1/X;if(T==null||X==null)return!1;if(T!=T)return X!=X;var De=typeof T;if(De!=="function"&&De!=="object"&&typeof X!="object")return!1;T=ui(T),X=ui(X);var xe=ga.call(T);if(xe!==ga.call(X))return!1;switch(xe){case"[object RegExp]":case"[object String]":return""+T==""+X;case"[object Number]":return+T!=+T?+X!=+X:+T==0?1/+T==1/X:+T==+X;case"[object Date]":case"[object Boolean]":return+T==+X;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(T)===Symbol.valueOf.call(X)}var Be=xe==="[object Array]";if(!Be){if(typeof T!="object"||typeof X!="object")return!1;var Fe=T.constructor,Xe=X.constructor;if(Fe!==Xe&&!(typeof Fe=="function"&&Fe instanceof Fe&&typeof Xe=="function"&&Xe instanceof Xe)&&"constructor"in T&&"constructor"in X)return!1}if(Q===0)return!1;Q<0&&(Q=-1),me=me||[];for(var Je=(le=le||[]).length;Je--;)if(le[Je]===T)return me[Je]===X;if(le.push(T),me.push(X),Be){if((Je=T.length)!==X.length)return!1;for(;Je--;)if(!D(T[Je],X[Je],Q-1,le,me))return!1}else{var Ve=Object.keys(T),ot=void 0;if(Je=Ve.length,Object.keys(X).length!==Je)return!1;for(;Je--;)if(ot=Ve[Je],!br(X,ot)||!D(T[ot],X[ot],Q-1,le,me))return!1}return le.pop(),me.pop(),!0}(g,m,w)}function ui(g){return Ht(g)?g.peek():V(g)||Gt(g)||N(g)||Lt(g)?C(g.entries()):g}function br(g,m){return Object.prototype.hasOwnProperty.call(g,m)}var Bt="$mobx";typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:$i,extras:{getDebugName:va},$mobx:Bt})}).call(this,u(86),u(104))},function(c,f,u){var p=u(35),h=u(66),b=u(56),x=u(51),E=u(91),S=x.set,k=x.getterFor("Array Iterator");c.exports=E(Array,"Array",function(P,O){S(this,{type:"Array Iterator",target:p(P),index:0,kind:O})},function(){var P=k(this),O=P.target,L=P.kind,W=P.index++;return!O||W>=O.length?(P.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:W,done:!1}:L=="values"?{value:O[W],done:!1}:{value:[W,O[W]],done:!1}},"values"),b.Arguments=b.Array,h("keys"),h("values"),h("entries")},function(c,f,u){var p=u(15),h=u(23),b=u(45),x=u(68),E=u(28),S=u(89),k=u(16),P=u(27),O=u(80),L=u(24),W=u(53),K=u(25),G=u(31),H=u(35),R=u(72),U=u(33),V=u(57),N=u(46),C=u(54),I=u(58),B=u(117),z=u(92),J=u(47),ee=u(29),re=u(75),ie=u(40),be=u(43),fe=u(67),pe=u(74),se=u(55),ce=u(69),ye=u(21),de=u(128),Pe=u(129),_e=u(77),Ue=u(51),We=u(60).forEach,ze=pe("hidden"),Kt=ye("toPrimitive"),_n=Ue.set,it=Ue.getterFor("Symbol"),He=Object.prototype,ht=h.Symbol,Ot=b("JSON","stringify"),On=J.f,Dt=ee.f,cr=B.f,oo=re.f,yt=fe("symbols"),$t=fe("op-symbols"),Zt=fe("string-to-symbol-registry"),Rr=fe("symbol-to-string-registry"),Ir=fe("wks"),lr=h.QObject,Cn=!lr||!lr.prototype||!lr.prototype.findChild,et=E&&k(function(){return N(Dt({},"a",{get:function(){return Dt(this,"a",{value:7}).a}})).a!=7})?function(ge,Ee,Te){var Me=On(He,Ee);Me&&delete He[Ee],Dt(ge,Ee,Te),Me&&ge!==He&&Dt(He,Ee,Me)}:Dt,Tt=function(ge,Ee){var Te=yt[ge]=N(ht.prototype);return _n(Te,{type:"Symbol",tag:ge,description:Ee}),E||(Te.description=Ee),Te},Ne=function(ge,Ee,Te){ge===He&&Ne($t,Ee,Te),K(ge);var Me=R(Ee);return K(Te),P(yt,Me)?(Te.enumerable?(P(ge,ze)&&ge[ze][Me]&&(ge[ze][Me]=!1),Te=N(Te,{enumerable:V(0,!1)})):(P(ge,ze)||Dt(ge,ze,V(1,{})),ge[ze][Me]=!0),et(ge,Me,Te)):Dt(ge,Me,Te)},St=function(ge,Ee){K(ge);var Te=H(Ee),Me=C(Te).concat(cn(Te));return We(Me,function(at){E&&!sn.call(Te,at)||Ne(ge,at,Te[at])}),ge},sn=function(ge){var Ee=R(ge),Te=oo.call(this,Ee);return!(this===He&&P(yt,Ee)&&!P($t,Ee))&&(!(Te||!P(this,Ee)||!P(yt,Ee)||P(this,ze)&&this[ze][Ee])||Te)},Lr=function(ge,Ee){var Te=H(ge),Me=R(Ee);if(Te!==He||!P(yt,Me)||P($t,Me)){var at=On(Te,Me);return!at||!P(yt,Me)||P(Te,ze)&&Te[ze][Me]||(at.enumerable=!0),at}},fr=function(ge){var Ee=cr(H(ge)),Te=[];return We(Ee,function(Me){P(yt,Me)||P(se,Me)||Te.push(Me)}),Te},cn=function(ge){var Ee=ge===He,Te=cr(Ee?$t:H(ge)),Me=[];return We(Te,function(at){!P(yt,at)||Ee&&!P(He,at)||Me.push(yt[at])}),Me};S||(be((ht=function(){if(this instanceof ht)throw TypeError("Symbol is not a constructor");var ge=arguments.length&&arguments[0]!==void 0?U(arguments[0]):void 0,Ee=ce(ge),Te=function(Me){this===He&&Te.call($t,Me),P(this,ze)&&P(this[ze],Ee)&&(this[ze][Ee]=!1),et(this,Ee,V(1,Me))};return E&&Cn&&et(He,Ee,{configurable:!0,set:Te}),Tt(Ee,ge)}).prototype,"toString",function(){return it(this).tag}),be(ht,"withoutSetter",function(ge){return Tt(ce(ge),ge)}),re.f=sn,ee.f=Ne,J.f=Lr,I.f=B.f=fr,z.f=cn,de.f=function(ge){return Tt(ye(ge),ge)},E&&(Dt(ht.prototype,"description",{configurable:!0,get:function(){return it(this).description}}),x||be(He,"propertyIsEnumerable",sn,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!S,sham:!S},{Symbol:ht}),We(C(Ir),function(ge){Pe(ge)}),p({target:"Symbol",stat:!0,forced:!S},{for:function(ge){var Ee=U(ge);if(P(Zt,Ee))return Zt[Ee];var Te=ht(Ee);return Zt[Ee]=Te,Rr[Te]=Ee,Te},keyFor:function(ge){if(!W(ge))throw TypeError(ge+" is not a symbol");if(P(Rr,ge))return Rr[ge]},useSetter:function(){Cn=!0},useSimple:function(){Cn=!1}}),p({target:"Object",stat:!0,forced:!S,sham:!E},{create:function(ge,Ee){return Ee===void 0?N(ge):St(N(ge),Ee)},defineProperty:Ne,defineProperties:St,getOwnPropertyDescriptor:Lr}),p({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:fr,getOwnPropertySymbols:cn}),p({target:"Object",stat:!0,forced:k(function(){z.f(1)})},{getOwnPropertySymbols:function(ge){return z.f(G(ge))}}),Ot&&p({target:"JSON",stat:!0,forced:!S||k(function(){var ge=ht();return Ot([ge])!="[null]"||Ot({a:ge})!="{}"||Ot(Object(ge))!="{}"})},{stringify:function(ge,Ee,Te){for(var Me,at=[ge],qn=1;arguments.length>qn;)at.push(arguments[qn++]);if(Me=Ee,(L(Ee)||ge!==void 0)&&!W(ge))return O(Ee)||(Ee=function(zr,Ut){if(typeof Me=="function"&&(Ut=Me.call(this,zr,Ut)),!W(Ut))return Ut}),at[1]=Ee,Ot.apply(null,at)}}),ht.prototype[Kt]||ie(ht.prototype,Kt,ht.prototype.valueOf),_e(ht,"Symbol"),se[ze]=!0},function(c,f,u){var p=u(96),h=u(43),b=u(153);p||h(Object.prototype,"toString",b,{unsafe:!0})},function(c,f,u){var p=u(23),h=u(127),b=u(1),x=u(40),E=u(21),S=E("iterator"),k=E("toStringTag"),P=b.values;for(var O in h){var L=p[O],W=L&&L.prototype;if(W){if(W[S]!==P)try{x(W,S,P)}catch(G){W[S]=P}if(W[k]||x(W,k,O),h[O]){for(var K in b)if(W[K]!==b[K])try{x(W,K,b[K])}catch(G){W[K]=b[K]}}}}},function(c,f,u){var p=u(126).charAt,h=u(33),b=u(51),x=u(91),E=b.set,S=b.getterFor("String Iterator");x(String,"String",function(k){E(this,{type:"String Iterator",string:h(k),index:0})},function(){var k,P=S(this),O=P.string,L=P.index;return L>=O.length?{value:void 0,done:!0}:(k=p(O,L),P.index+=k.length,{value:k,done:!1})})},function(c,f,u){var p=u(15),h=u(28),b=u(23),x=u(27),E=u(24),S=u(29).f,k=u(112),P=b.Symbol;if(h&&typeof P=="function"&&(!("description"in P.prototype)||P().description!==void 0)){var O={},L=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),U=this instanceof L?new P(R):R===void 0?P():P(R);return R===""&&(O[U]=!0),U};k(L,P);var W=L.prototype=P.prototype;W.constructor=L;var K=W.toString,G=String(P("test"))=="Symbol(test)",H=/^Symbol\((.*)\)[^)]+$/;S(W,"description",{configurable:!0,get:function(){var R=E(this)?this.valueOf():this,U=K.call(R);if(x(O,R))return"";var V=G?U.slice(7,-1):U.replace(H,"$1");return V===""?void 0:V}}),p({global:!0,forced:!0},{Symbol:L})}},function(c,f,u){u(129)("iterator")},function(c,f,u){var p=u(23),h=u(127),b=u(154),x=u(40);for(var E in h){var S=p[E],k=S&&S.prototype;if(k&&k.forEach!==b)try{x(k,"forEach",b)}catch(P){k.forEach=b}}},function(c,f,u){u(15)({target:"Object",stat:!0},{setPrototypeOf:u(94)})},function(c,f,u){var p=u(15),h=u(16),b=u(31),x=u(76),E=u(115);p({target:"Object",stat:!0,forced:h(function(){x(1)}),sham:!E},{getPrototypeOf:function(S){return x(b(S))}})},function(c,f,u){var p=u(15),h=u(45),b=u(59),x=u(25),E=u(24),S=u(46),k=u(172),P=u(16),O=h("Reflect","construct"),L=P(function(){function G(){}return!(O(function(){},[],G)instanceof G)}),W=!P(function(){O(function(){})}),K=L||W;p({target:"Reflect",stat:!0,forced:K,sham:K},{construct:function(G,H){b(G),x(H);var R=arguments.length<3?G:b(arguments[2]);if(W&&!L)return O(G,H,R);if(G==R){switch(H.length){case 0:return new G;case 1:return new G(H[0]);case 2:return new G(H[0],H[1]);case 3:return new G(H[0],H[1],H[2]);case 4:return new G(H[0],H[1],H[2],H[3])}var U=[null];return U.push.apply(U,H),new(k.apply(G,U))}var V=R.prototype,N=S(E(V)?V:Object.prototype),C=Function.apply.call(G,N,H);return E(C)?C:N}})},function(c,f,u){var p=u(15),h=u(31),b=u(54);p({target:"Object",stat:!0,forced:u(16)(function(){b(1)})},{keys:function(x){return b(h(x))}})},function(c,f,u){var p=u(15),h=u(16),b=u(35),x=u(47).f,E=u(28),S=h(function(){x(1)});p({target:"Object",stat:!0,forced:!E||S,sham:!E},{getOwnPropertyDescriptor:function(k,P){return x(b(k),P)}})},function(c,f,u){var p=u(15),h=u(24),b=u(80),x=u(73),E=u(32),S=u(35),k=u(62),P=u(21),O=u(61)("slice"),L=P("species"),W=[].slice,K=Math.max;p({target:"Array",proto:!0,forced:!O},{slice:function(G,H){var R,U,V,N=S(this),C=E(N.length),I=x(G,C),B=x(H===void 0?C:H,C);if(b(N)&&(typeof(R=N.constructor)!="function"||R!==Array&&!b(R.prototype)?h(R)&&(R=R[L])===null&&(R=void 0):R=void 0,R===Array||R===void 0))return W.call(N,I,B);for(U=new(R===void 0?Array:R)(K(B-I,0)),V=0;I<B;I++,V++)I in N&&k(U,V,N[I]);return U.length=V,U}})},function(c,f,u){var p=u(23),h=u(47).f,b=u(40),x=u(43),E=u(88),S=u(112),k=u(93);c.exports=function(P,O){var L,W,K,G,H,R=P.target,U=P.global,V=P.stat;if(L=U?p:V?p[R]||E(R,{}):(p[R]||{}).prototype)for(W in O){if(G=O[W],K=P.noTargetGet?(H=h(L,W))&&H.value:L[W],!k(U?W:R+(V?".":"#")+W,P.forced)&&K!==void 0){if(typeof G==typeof K)continue;S(G,K)}(P.sham||K&&K.sham)&&b(G,"sham",!0),x(L,W,G,P)}}},function(c,f){c.exports=function(u){try{return!!u()}catch(p){return!0}}},function(c,f,u){var p=u(28),h=u(29).f,b=Function.prototype,x=b.toString,E=/^\s*function ([^ (]*)/;p&&!("name"in b)&&h(b,"name",{configurable:!0,get:function(){try{return x.call(this).match(E)[1]}catch(S){return""}}})},function(c,f,u){var p=u(15),h=u(157);p({target:"Array",stat:!0,forced:!u(124)(function(b){Array.from(b)})},{from:h})},function(c,f,u){var p=u(15),h=u(60).filter;p({target:"Array",proto:!0,forced:!u(61)("filter")},{filter:function(b){return h(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,u){var p=u(15),h=u(28),b=u(113),x=u(35),E=u(47),S=u(62);p({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(k){for(var P,O,L=x(k),W=E.f,K=b(L),G={},H=0;K.length>H;)(O=W(L,P=K[H++]))!==void 0&&S(G,P,O);return G}})},function(c,f,u){var p=u(23),h=u(67),b=u(27),x=u(69),E=u(89),S=u(105),k=h("wks"),P=p.Symbol,O=S?P:P&&P.withoutSetter||x;c.exports=function(L){return b(k,L)&&(E||typeof k[L]=="string")||(E&&b(P,L)?k[L]=P[L]:k[L]=O("Symbol."+L)),k[L]}},function(c,f,u){var p=u(85),h=typeof self=="object"&&self&&self.Object===Object&&self,b=p.a||h||Function("return this")();f.a=b},function(c,f,u){(function(p){var h=function(b){return b&&b.Math==Math&&b};c.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,u(86))},function(c,f){c.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},function(c,f,u){var p=u(24);c.exports=function(h){if(!p(h))throw TypeError(String(h)+" is not an object");return h}},,function(c,f,u){var p=u(31),h={}.hasOwnProperty;c.exports=Object.hasOwn||function(b,x){return h.call(p(b),x)}},function(c,f,u){var p=u(16);c.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,f,u){var p=u(28),h=u(106),b=u(25),x=u(72),E=Object.defineProperty;f.f=p?E:function(S,k,P){if(b(S),k=x(k),b(P),h)try{return E(S,k,P)}catch(O){}if("get"in P||"set"in P)throw TypeError("Accessors not supported");return"value"in P&&(S[k]=P.value),S}},function(c,f,u){var p=u(15),h=u(16),b=u(80),x=u(24),E=u(31),S=u(32),k=u(62),P=u(97),O=u(61),L=u(21),W=u(70),K=L("isConcatSpreadable"),G=W>=51||!h(function(){var U=[];return U[K]=!1,U.concat()[0]!==U}),H=O("concat"),R=function(U){if(!x(U))return!1;var V=U[K];return V!==void 0?!!V:b(U)};p({target:"Array",proto:!0,forced:!G||!H},{concat:function(U){var V,N,C,I,B,z=E(this),J=P(z,0),ee=0;for(V=-1,C=arguments.length;V<C;V++)if(R(B=V===-1?z:arguments[V])){if(ee+(I=S(B.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(N=0;N<I;N++,ee++)N in B&&k(J,ee,B[N])}else{if(ee>=9007199254740991)throw TypeError("Maximum allowed index exceeded");k(J,ee++,B)}return J.length=ee,J}})},function(c,f,u){var p=u(38);c.exports=function(h){return Object(p(h))}},function(c,f,u){var p=u(50),h=Math.min;c.exports=function(b){return b>0?h(p(b),9007199254740991):0}},function(c,f,u){var p=u(53);c.exports=function(h){if(p(h))throw TypeError("Cannot convert a Symbol value to a string");return String(h)}},function(c,f,u){var p=u(15),h=u(173);p({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(c,f,u){var p=u(65),h=u(38);c.exports=function(b){return p(h(b))}},function(c,f,u){var p=u(15),h=u(60).map;p({target:"Array",proto:!0,forced:!u(61)("map")},{map:function(b){return h(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,u){var p=u(15),h=u(24),b=u(25),x=u(177),E=u(47),S=u(76);p({target:"Reflect",stat:!0},{get:function k(P,O){var L,W,K=arguments.length<3?P:arguments[2];return b(P)===K?P[O]:(L=E.f(P,O))?x(L)?L.value:L.get===void 0?void 0:L.get.call(K):h(W=S(P))?k(W,O,K):void 0}})},function(c,f){c.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},function(c,f,u){var p=u(15),h=u(181),b=u(66);p({target:"Array",proto:!0},{fill:h}),b("fill")},function(c,f,u){var p=u(28),h=u(29),b=u(57);c.exports=p?function(x,E,S){return h.f(x,E,b(1,S))}:function(x,E,S){return x[E]=S,x}},function(c,f,u){var p=u(15),h=u(82);p({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(c,f,u){(function(p){var h=u(85),b=v&&!v.nodeType&&v,x=b&&typeof p=="object"&&p&&!p.nodeType&&p,E=x&&x.exports===b&&h.a.process,S=function(){try{var k=x&&x.require&&x.require("util").types;return k||E&&E.binding&&E.binding("util")}catch(P){}}();f.a=S}).call(this,u(99)(c))},function(c,f,u){var p=u(23),h=u(40),b=u(27),x=u(88),E=u(111),S=u(51),k=S.get,P=S.enforce,O=String(String).split("String");(c.exports=function(L,W,K,G){var H,R=!!G&&!!G.unsafe,U=!!G&&!!G.enumerable,V=!!G&&!!G.noTargetGet;typeof K=="function"&&(typeof W!="string"||b(K,"name")||h(K,"name",W),(H=P(K)).source||(H.source=O.join(typeof W=="string"?W:""))),L!==p?(R?!V&&L[W]&&(U=!0):delete L[W],U?L[W]=K:h(L,W,K)):U?L[W]=K:x(W,K)})(Function.prototype,"toString",function(){return typeof this=="function"&&k(this).source||E(this)})},function(c,f,u){var p=u(15),h=u(180).entries;p({target:"Object",stat:!0},{entries:function(b){return h(b)}})},function(c,f,u){var p=u(23),h=function(b){return typeof b=="function"?b:void 0};c.exports=function(b,x){return arguments.length<2?h(p[b]):p[b]&&p[b][x]}},function(c,f,u){var p,h=u(25),b=u(142),x=u(90),E=u(55),S=u(144),k=u(107),P=u(74),O=P("IE_PROTO"),L=function(){},W=function(H){return"<script>"+H+"<\/script>"},K=function(H){H.write(W("")),H.close();var R=H.parentWindow.Object;return H=null,R},G=function(){try{p=new ActiveXObject("htmlfile")}catch(V){}var H,R;G=typeof document!="undefined"?document.domain&&p?K(p):((R=k("iframe")).style.display="none",S.appendChild(R),R.src=String("javascript:"),(H=R.contentWindow.document).open(),H.write(W("document.F=Object")),H.close(),H.F):K(p);for(var U=x.length;U--;)delete G.prototype[x[U]];return G()};E[O]=!0,c.exports=Object.create||function(H,R){var U;return H!==null?(L.prototype=h(H),U=new L,L.prototype=null,U[O]=H):U=G(),R===void 0?U:b(U,R)}},function(c,f,u){var p=u(28),h=u(75),b=u(57),x=u(35),E=u(72),S=u(27),k=u(106),P=Object.getOwnPropertyDescriptor;f.f=p?P:function(O,L){if(O=x(O),L=E(L),k)try{return P(O,L)}catch(W){}if(S(O,L))return b(!h.f.call(O,L),O[L])}},function(c,f,u){(function(p){var h=u(22),b=u(138),x=v&&!v.nodeType&&v,E=x&&typeof p=="object"&&p&&!p.nodeType&&p,S=E&&E.exports===x?h.a.Buffer:void 0,k=(S?S.isBuffer:void 0)||b.a;f.a=k}).call(this,u(99)(c))},function(c,f){var u={}.toString;c.exports=function(p){return u.call(p).slice(8,-1)}},function(c,f){var u=Math.ceil,p=Math.floor;c.exports=function(h){return isNaN(h=+h)?0:(h>0?p:u)(h)}},function(c,f,u){var p,h,b,x=u(145),E=u(23),S=u(24),k=u(40),P=u(27),O=u(87),L=u(74),W=u(55),K=E.WeakMap;if(x||O.state){var G=O.state||(O.state=new K),H=G.get,R=G.has,U=G.set;p=function(N,C){if(R.call(G,N))throw new TypeError("Object already initialized");return C.facade=N,U.call(G,N,C),C},h=function(N){return H.call(G,N)||{}},b=function(N){return R.call(G,N)}}else{var V=L("state");W[V]=!0,p=function(N,C){if(P(N,V))throw new TypeError("Object already initialized");return C.facade=N,k(N,V,C),C},h=function(N){return P(N,V)?N[V]:{}},b=function(N){return P(N,V)}}c.exports={set:p,get:h,has:b,enforce:function(N){return b(N)?h(N):p(N,{})},getterFor:function(N){return function(C){var I;if(!S(C)||(I=h(C)).type!==N)throw TypeError("Incompatible receiver, "+N+" required");return I}}}},function(c,f,u){var p=u(100),h=u(132),b=u(25),x=u(38),E=u(170),S=u(101),k=u(32),P=u(33),O=u(102),L=u(82),W=u(133),K=u(16),G=W.UNSUPPORTED_Y,H=[].push,R=Math.min;p("split",function(U,V,N){var C;return C="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(I,B){var z=P(x(this)),J=B===void 0?4294967295:B>>>0;if(J===0)return[];if(I===void 0)return[z];if(!h(I))return V.call(z,I,J);for(var ee,re,ie,be=[],fe=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.unicode?"u":"")+(I.sticky?"y":""),pe=0,se=new RegExp(I.source,fe+"g");(ee=L.call(se,z))&&!((re=se.lastIndex)>pe&&(be.push(z.slice(pe,ee.index)),ee.length>1&&ee.index<z.length&&H.apply(be,ee.slice(1)),ie=ee[0].length,pe=re,be.length>=J));)se.lastIndex===ee.index&&se.lastIndex++;return pe===z.length?!ie&&se.test("")||be.push(""):be.push(z.slice(pe)),be.length>J?be.slice(0,J):be}:"0".split(void 0,0).length?function(I,B){return I===void 0&&B===0?[]:V.call(this,I,B)}:V,[function(I,B){var z=x(this),J=I==null?void 0:I[U];return J!==void 0?J.call(I,z,B):C.call(P(z),I,B)},function(I,B){var z=b(this),J=P(I),ee=N(C,z,J,B,C!==V);if(ee.done)return ee.value;var re=E(z,RegExp),ie=z.unicode,be=(z.ignoreCase?"i":"")+(z.multiline?"m":"")+(z.unicode?"u":"")+(G?"g":"y"),fe=new re(G?"^(?:"+z.source+")":z,be),pe=B===void 0?4294967295:B>>>0;if(pe===0)return[];if(J.length===0)return O(fe,J)===null?[J]:[];for(var se=0,ce=0,ye=[];ce<J.length;){fe.lastIndex=G?0:ce;var de,Pe=O(fe,G?J.slice(ce):J);if(Pe===null||(de=R(k(fe.lastIndex+(G?ce:0)),J.length))===se)ce=S(J,ce,ie);else{if(ye.push(J.slice(se,ce)),ye.length===pe)return ye;for(var _e=1;_e<=Pe.length-1;_e++)if(ye.push(Pe[_e]),ye.length===pe)return ye;ce=se=de}}return ye.push(J.slice(se)),ye}]},!!K(function(){var U=/(?:)/,V=U.exec;U.exec=function(){return V.apply(this,arguments)};var N="ab".split(U);return N.length!==2||N[0]!=="a"||N[1]!=="b"}),G)},function(c,f,u){var p=u(45),h=u(105);c.exports=h?function(b){return typeof b=="symbol"}:function(b){var x=p("Symbol");return typeof x=="function"&&Object(b)instanceof x}},function(c,f,u){var p=u(109),h=u(90);c.exports=Object.keys||function(b){return p(b,h)}},function(c,f){c.exports={}},function(c,f){c.exports={}},function(c,f){c.exports=function(u,p){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:p}}},function(c,f,u){var p=u(109),h=u(90).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(b){return p(b,h)}},function(c,f){c.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},function(c,f,u){var p=u(79),h=u(65),b=u(31),x=u(32),E=u(97),S=[].push,k=function(P){var O=P==1,L=P==2,W=P==3,K=P==4,G=P==6,H=P==7,R=P==5||G;return function(U,V,N,C){for(var I,B,z=b(U),J=h(z),ee=p(V,N,3),re=x(J.length),ie=0,be=C||E,fe=O?be(U,re):L||H?be(U,0):void 0;re>ie;ie++)if((R||ie in J)&&(B=ee(I=J[ie],ie,z),P))if(O)fe[ie]=B;else if(B)switch(P){case 3:return!0;case 5:return I;case 6:return ie;case 2:S.call(fe,I)}else switch(P){case 4:return!1;case 7:S.call(fe,I)}return G?-1:W||K?K:fe}};c.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(c,f,u){var p=u(16),h=u(21),b=u(70),x=h("species");c.exports=function(E){return b>=51||!p(function(){var S=[];return(S.constructor={})[x]=function(){return{foo:1}},S[E](Boolean).foo!==1})}},function(c,f,u){var p=u(72),h=u(29),b=u(57);c.exports=function(x,E,S){var k=p(E);k in x?h.f(x,k,b(0,S)):x[k]=S}},function(c,f,u){var p=u(28),h=u(23),b=u(93),x=u(43),E=u(27),S=u(49),k=u(125),P=u(53),O=u(108),L=u(16),W=u(46),K=u(58).f,G=u(47).f,H=u(29).f,R=u(134).trim,U=h.Number,V=U.prototype,N=S(W(V))=="Number",C=function(ee){if(P(ee))throw TypeError("Cannot convert a Symbol value to a number");var re,ie,be,fe,pe,se,ce,ye,de=O(ee,"number");if(typeof de=="string"&&de.length>2){if((re=(de=R(de)).charCodeAt(0))===43||re===45){if((ie=de.charCodeAt(2))===88||ie===120)return NaN}else if(re===48){switch(de.charCodeAt(1)){case 66:case 98:be=2,fe=49;break;case 79:case 111:be=8,fe=55;break;default:return+de}for(se=(pe=de.slice(2)).length,ce=0;ce<se;ce++)if((ye=pe.charCodeAt(ce))<48||ye>fe)return NaN;return parseInt(pe,be)}}return+de};if(b("Number",!U(" 0o1")||!U("0b1")||U("+0x1"))){for(var I,B=function(ee){var re=arguments.length<1?0:ee,ie=this;return ie instanceof B&&(N?L(function(){V.valueOf.call(ie)}):S(ie)!="Number")?k(new U(C(re)),ie,B):C(re)},z=p?K(U):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),J=0;z.length>J;J++)E(U,I=z[J])&&!E(B,I)&&H(B,I,G(U,I));B.prototype=V,V.constructor=B,x(h,"Number",B)}},function(c,f,u){u(15)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,f,u){var p=u(16),h=u(49),b="".split;c.exports=p(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return h(x)=="String"?b.call(x,""):Object(x)}:Object},function(c,f,u){var p=u(21),h=u(46),b=u(29),x=p("unscopables"),E=Array.prototype;E[x]==null&&b.f(E,x,{configurable:!0,value:h(null)}),c.exports=function(S){E[x][S]=!0}},function(c,f,u){var p=u(68),h=u(87);(c.exports=function(b,x){return h[b]||(h[b]=x!==void 0?x:{})})("versions",[]).push({version:"3.17.2",mode:p?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,f){c.exports=!1},function(c,f){var u=0,p=Math.random();c.exports=function(h){return"Symbol("+String(h===void 0?"":h)+")_"+(++u+p).toString(36)}},function(c,f,u){var p,h,b=u(23),x=u(71),E=b.process,S=b.Deno,k=E&&E.versions||S&&S.version,P=k&&k.v8;P?h=(p=P.split("."))[0]<4?1:p[0]+p[1]:x&&(!(p=x.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=x.match(/Chrome\/(\d+)/))&&(h=p[1]),c.exports=h&&+h},function(c,f,u){var p=u(45);c.exports=p("navigator","userAgent")||""},function(c,f,u){var p=u(108),h=u(53);c.exports=function(b){var x=p(b,"string");return h(x)?x:String(x)}},function(c,f,u){var p=u(50),h=Math.max,b=Math.min;c.exports=function(x,E){var S=p(x);return S<0?h(S+E,0):b(S,E)}},function(c,f,u){var p=u(67),h=u(69),b=p("keys");c.exports=function(x){return b[x]||(b[x]=h(x))}},function(c,f,u){var p={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,b=h&&!p.call({1:2},1);f.f=b?function(x){var E=h(this,x);return!!E&&E.enumerable}:p},function(c,f,u){var p=u(27),h=u(31),b=u(74),x=u(115),E=b("IE_PROTO"),S=Object.prototype;c.exports=x?Object.getPrototypeOf:function(k){return k=h(k),p(k,E)?k[E]:typeof k.constructor=="function"&&k instanceof k.constructor?k.constructor.prototype:k instanceof Object?S:null}},function(c,f,u){var p=u(29).f,h=u(27),b=u(21)("toStringTag");c.exports=function(x,E,S){x&&!h(x=S?x:x.prototype,b)&&p(x,b,{configurable:!0,value:E})}},function(c,f,u){var p=u(148),h=u(150);c.exports=p("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},h)},function(c,f,u){var p=u(59);c.exports=function(h,b,x){if(p(h),b===void 0)return h;switch(x){case 0:return function(){return h.call(b)};case 1:return function(E){return h.call(b,E)};case 2:return function(E,S){return h.call(b,E,S)};case 3:return function(E,S,k){return h.call(b,E,S,k)}}return function(){return h.apply(b,arguments)}}},function(c,f,u){var p=u(49);c.exports=Array.isArray||function(h){return p(h)=="Array"}},function(c,f,u){var p=u(15),h=u(73),b=u(50),x=u(32),E=u(31),S=u(97),k=u(62),P=u(61)("splice"),O=Math.max,L=Math.min;p({target:"Array",proto:!0,forced:!P},{splice:function(W,K){var G,H,R,U,V,N,C=E(this),I=x(C.length),B=h(W,I),z=arguments.length;if(z===0?G=H=0:z===1?(G=0,H=I-B):(G=z-2,H=L(O(b(K),0),I-B)),I+G-H>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(R=S(C,H),U=0;U<H;U++)(V=B+U)in C&&k(R,U,C[V]);if(R.length=H,G<H){for(U=B;U<I-H;U++)N=U+G,(V=U+H)in C?C[N]=C[V]:delete C[N];for(U=I;U>I-H+G;U--)delete C[U-1]}else if(G>H)for(U=I-H;U>B;U--)N=U+G-1,(V=U+H-1)in C?C[N]=C[V]:delete C[N];for(U=0;U<G;U++)C[U+B]=arguments[U+2];return C.length=I-H+G,R}})},function(c,f,u){var p,h,b=u(33),x=u(167),E=u(133),S=u(67),k=u(46),P=u(51).get,O=u(168),L=u(169),W=RegExp.prototype.exec,K=S("native-string-replace",String.prototype.replace),G=W,H=(p=/a/,h=/b*/g,W.call(p,"a"),W.call(h,"a"),p.lastIndex!==0||h.lastIndex!==0),R=E.UNSUPPORTED_Y||E.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0;(H||U||R||O||L)&&(G=function(V){var N,C,I,B,z,J,ee,re=this,ie=P(re),be=b(V),fe=ie.raw;if(fe)return fe.lastIndex=re.lastIndex,N=G.call(fe,be),re.lastIndex=fe.lastIndex,N;var pe=ie.groups,se=R&&re.sticky,ce=x.call(re),ye=re.source,de=0,Pe=be;if(se&&((ce=ce.replace("y","")).indexOf("g")===-1&&(ce+="g"),Pe=be.slice(re.lastIndex),re.lastIndex>0&&(!re.multiline||re.multiline&&be.charAt(re.lastIndex-1)!==`
`)&&(ye="(?: "+ye+")",Pe=" "+Pe,de++),C=new RegExp("^(?:"+ye+")",ce)),U&&(C=new RegExp("^"+ye+"$(?!\\s)",ce)),H&&(I=re.lastIndex),B=W.call(se?C:re,Pe),se?B?(B.input=B.input.slice(de),B[0]=B[0].slice(de),B.index=re.lastIndex,re.lastIndex+=B[0].length):re.lastIndex=0:H&&B&&(re.lastIndex=re.global?B.index+B[0].length:I),U&&B&&B.length>1&&K.call(B[0],C,function(){for(z=1;z<arguments.length-2;z++)arguments[z]===void 0&&(B[z]=void 0)}),B&&pe)for(B.groups=J=k(null),z=0;z<pe.length;z++)J[(ee=pe[z])[0]]=B[ee[1]];return B}),c.exports=G},function(c,f,u){var p=u(15),h=u(174);p({target:"String",proto:!0,forced:u(175)("anchor")},{anchor:function(b){return h(this,"a","name",b)}})},function(c,f,u){var p=u(15),h=u(65),b=u(35),x=u(98),E=[].join,S=h!=Object,k=x("join",",");p({target:"Array",proto:!0,forced:S||!k},{join:function(P){return E.call(b(this),P===void 0?",":P)}})},function(c,f,u){(function(p){var h=typeof p=="object"&&p&&p.Object===Object&&p;f.a=h}).call(this,u(86))},function(c,f){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(p){typeof window=="object"&&(u=window)}c.exports=u},function(c,f,u){var p=u(23),h=u(88),b=p["__core-js_shared__"]||h("__core-js_shared__",{});c.exports=b},function(c,f,u){var p=u(23);c.exports=function(h,b){try{Object.defineProperty(p,h,{value:b,configurable:!0,writable:!0})}catch(x){p[h]=b}return b}},function(c,f,u){var p=u(70),h=u(16);c.exports=!!Object.getOwnPropertySymbols&&!h(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(c,f){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,f,u){var p=u(15),h=u(146),b=u(76),x=u(94),E=u(77),S=u(40),k=u(43),P=u(21),O=u(68),L=u(56),W=u(114),K=W.IteratorPrototype,G=W.BUGGY_SAFARI_ITERATORS,H=P("iterator"),R=function(){return this};c.exports=function(U,V,N,C,I,B,z){h(N,V,C);var J,ee,re,ie=function(de){if(de===I&&ce)return ce;if(!G&&de in pe)return pe[de];switch(de){case"keys":case"values":case"entries":return function(){return new N(this,de)}}return function(){return new N(this)}},be=V+" Iterator",fe=!1,pe=U.prototype,se=pe[H]||pe["@@iterator"]||I&&pe[I],ce=!G&&se||ie(I),ye=V=="Array"&&pe.entries||se;if(ye&&(J=b(ye.call(new U)),K!==Object.prototype&&J.next&&(O||b(J)===K||(x?x(J,K):typeof J[H]!="function"&&S(J,H,R)),E(J,be,!0,!0),O&&(L[be]=R))),I=="values"&&se&&se.name!=="values"&&(fe=!0,ce=function(){return se.call(this)}),O&&!z||pe[H]===ce||S(pe,H,ce),L[V]=ce,I)if(ee={values:ie("values"),keys:B?ce:ie("keys"),entries:ie("entries")},z)for(re in ee)(G||fe||!(re in pe))&&k(pe,re,ee[re]);else p({target:V,proto:!0,forced:G||fe},ee);return ee}},function(c,f){f.f=Object.getOwnPropertySymbols},function(c,f,u){var p=u(16),h=/#|\.prototype\./,b=function(P,O){var L=E[x(P)];return L==k||L!=S&&(typeof O=="function"?p(O):!!O)},x=b.normalize=function(P){return String(P).replace(h,".").toLowerCase()},E=b.data={},S=b.NATIVE="N",k=b.POLYFILL="P";c.exports=b},function(c,f,u){var p=u(25),h=u(147);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b,x=!1,E={};try{(b=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),x=E instanceof Array}catch(S){}return function(S,k){return p(S),h(k),x?b.call(S,k):S.__proto__=k,S}}():void 0)},function(c,f,u){var p=u(121),h=u(56),b=u(21)("iterator");c.exports=function(x){if(x!=null)return x[b]||x["@@iterator"]||h[p(x)]}},function(c,f,u){var p={};p[u(21)("toStringTag")]="z",c.exports=String(p)==="[object z]"},function(c,f,u){var p=u(155);c.exports=function(h,b){return new(p(h))(b===0?0:b)}},function(c,f,u){var p=u(16);c.exports=function(h,b){var x=[][h];return!!x&&p(function(){x.call(null,b||function(){throw 1},1)})}},function(c,f){c.exports=function(u){if(!u.webpackPolyfill){var p=Object.create(u);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(c,f,u){u(41);var p=u(43),h=u(82),b=u(16),x=u(21),E=u(40),S=x("species"),k=RegExp.prototype;c.exports=function(P,O,L,W){var K=x(P),G=!b(function(){var V={};return V[K]=function(){return 7},""[P](V)!=7}),H=G&&!b(function(){var V=!1,N=/a/;return P==="split"&&((N={}).constructor={},N.constructor[S]=function(){return N},N.flags="",N[K]=/./[K]),N.exec=function(){return V=!0,null},N[K](""),!V});if(!G||!H||L){var R=/./[K],U=O(K,""[P],function(V,N,C,I,B){var z=N.exec;return z===h||z===k.exec?G&&!B?{done:!0,value:R.call(N,C,I)}:{done:!0,value:V.call(C,N,I)}:{done:!1}});p(String.prototype,P,U[0]),p(k,K,U[1])}W&&E(k[K],"sham",!0)}},function(c,f,u){var p=u(126).charAt;c.exports=function(h,b,x){return b+(x?p(h,b).length:1)}},function(c,f,u){var p=u(49),h=u(82);c.exports=function(b,x){var E=b.exec;if(typeof E=="function"){var S=E.call(b,x);if(typeof S!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return S}if(p(b)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return h.call(b,x)}},function(c,f,u){u(15)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,f){var u,p,h=c.exports={};function b(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function E(H){if(u===setTimeout)return setTimeout(H,0);if((u===b||!u)&&setTimeout)return u=setTimeout,setTimeout(H,0);try{return u(H,0)}catch(R){try{return u.call(null,H,0)}catch(U){return u.call(this,H,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:b}catch(H){u=b}try{p=typeof clearTimeout=="function"?clearTimeout:x}catch(H){p=x}})();var S,k=[],P=!1,O=-1;function L(){P&&S&&(P=!1,S.length?k=S.concat(k):O=-1,k.length&&W())}function W(){if(!P){var H=E(L);P=!0;for(var R=k.length;R;){for(S=k,k=[];++O<R;)S&&S[O].run();O=-1,R=k.length}S=null,P=!1,function(U){if(p===clearTimeout)return clearTimeout(U);if((p===x||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(U);try{p(U)}catch(V){try{return p.call(null,U)}catch(N){return p.call(this,U)}}}(H)}}function K(H,R){this.fun=H,this.array=R}function G(){}h.nextTick=function(H){var R=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)R[U-1]=arguments[U];k.push(new K(H,R)),k.length!==1||P||E(W)},K.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=G,h.addListener=G,h.once=G,h.off=G,h.removeListener=G,h.removeAllListeners=G,h.emit=G,h.prependListener=G,h.prependOnceListener=G,h.listeners=function(H){return[]},h.binding=function(H){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(H){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(c,f,u){var p=u(89);c.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,f,u){var p=u(28),h=u(16),b=u(107);c.exports=!p&&!h(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(c,f,u){var p=u(23),h=u(24),b=p.document,x=h(b)&&h(b.createElement);c.exports=function(E){return x?b.createElement(E):{}}},function(c,f,u){var p=u(24),h=u(53),b=u(143),x=u(21)("toPrimitive");c.exports=function(E,S){if(!p(E)||h(E))return E;var k,P=E[x];if(P!==void 0){if(S===void 0&&(S="default"),k=P.call(E,S),!p(k)||h(k))return k;throw TypeError("Can't convert object to primitive value")}return S===void 0&&(S="number"),b(E,S)}},function(c,f,u){var p=u(27),h=u(35),b=u(110).indexOf,x=u(55);c.exports=function(E,S){var k,P=h(E),O=0,L=[];for(k in P)!p(x,k)&&p(P,k)&&L.push(k);for(;S.length>O;)p(P,k=S[O++])&&(~b(L,k)||L.push(k));return L}},function(c,f,u){var p=u(35),h=u(32),b=u(73),x=function(E){return function(S,k,P){var O,L=p(S),W=h(L.length),K=b(P,W);if(E&&k!=k){for(;W>K;)if((O=L[K++])!=O)return!0}else for(;W>K;K++)if((E||K in L)&&L[K]===k)return E||K||0;return!E&&-1}};c.exports={includes:x(!0),indexOf:x(!1)}},function(c,f,u){var p=u(87),h=Function.toString;typeof p.inspectSource!="function"&&(p.inspectSource=function(b){return h.call(b)}),c.exports=p.inspectSource},function(c,f,u){var p=u(27),h=u(113),b=u(47),x=u(29);c.exports=function(E,S){for(var k=h(S),P=x.f,O=b.f,L=0;L<k.length;L++){var W=k[L];p(E,W)||P(E,W,O(S,W))}}},function(c,f,u){var p=u(45),h=u(58),b=u(92),x=u(25);c.exports=p("Reflect","ownKeys")||function(E){var S=h.f(x(E)),k=b.f;return k?S.concat(k(E)):S}},function(c,f,u){var p,h,b,x=u(16),E=u(76),S=u(40),k=u(27),P=u(21),O=u(68),L=P("iterator"),W=!1;[].keys&&("next"in(b=[].keys())?(h=E(E(b)))!==Object.prototype&&(p=h):W=!0);var K=p==null||x(function(){var G={};return p[L].call(G)!==G});K&&(p={}),O&&!K||k(p,L)||S(p,L,function(){return this}),c.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:W}},function(c,f,u){var p=u(16);c.exports=!p(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(c,f,u){var p=u(15),h=u(55),b=u(24),x=u(27),E=u(29).f,S=u(58),k=u(117),P=u(69),O=u(149),L=!1,W=P("meta"),K=0,G=Object.isExtensible||function(){return!0},H=function(U){E(U,W,{value:{objectID:"O"+K++,weakData:{}}})},R=c.exports={enable:function(){R.enable=function(){},L=!0;var U=S.f,V=[].splice,N={};N[W]=1,U(N).length&&(S.f=function(C){for(var I=U(C),B=0,z=I.length;B<z;B++)if(I[B]===W){V.call(I,B,1);break}return I},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(U,V){if(!b(U))return typeof U=="symbol"?U:(typeof U=="string"?"S":"P")+U;if(!x(U,W)){if(!G(U))return"F";if(!V)return"E";H(U)}return U[W].objectID},getWeakData:function(U,V){if(!x(U,W)){if(!G(U))return!0;if(!V)return!1;H(U)}return U[W].weakData},onFreeze:function(U){return O&&L&&G(U)&&!x(U,W)&&H(U),U}};h[W]=!0},function(c,f,u){var p=u(35),h=u(58).f,b={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(E){return x&&b.call(E)=="[object Window]"?function(S){try{return h(S)}catch(k){return x.slice()}}(E):h(p(E))}},function(c,f,u){var p=u(25),h=u(119),b=u(32),x=u(79),E=u(120),S=u(95),k=u(122),P=function(O,L){this.stopped=O,this.result=L};c.exports=function(O,L,W){var K,G,H,R,U,V,N,C=W&&W.that,I=!(!W||!W.AS_ENTRIES),B=!(!W||!W.IS_ITERATOR),z=!(!W||!W.INTERRUPTED),J=x(L,C,1+I+z),ee=function(ie){return K&&k(K,"normal",ie),new P(!0,ie)},re=function(ie){return I?(p(ie),z?J(ie[0],ie[1],ee):J(ie[0],ie[1])):z?J(ie,ee):J(ie)};if(B)K=O;else{if(typeof(G=S(O))!="function")throw TypeError("Target is not iterable");if(h(G)){for(H=0,R=b(O.length);R>H;H++)if((U=re(O[H]))&&U instanceof P)return U;return new P(!1)}K=E(O,G)}for(V=K.next;!(N=V.call(K)).done;){try{U=re(N.value)}catch(ie){k(K,"throw",ie)}if(typeof U=="object"&&U&&U instanceof P)return U}return new P(!1)}},function(c,f,u){var p=u(21),h=u(56),b=p("iterator"),x=Array.prototype;c.exports=function(E){return E!==void 0&&(h.Array===E||x[b]===E)}},function(c,f,u){var p=u(25),h=u(95);c.exports=function(b,x){var E=arguments.length<2?h(b):x;if(typeof E!="function")throw TypeError(String(b)+" is not iterable");return p(E.call(b))}},function(c,f,u){var p=u(96),h=u(49),b=u(21)("toStringTag"),x=h(function(){return arguments}())=="Arguments";c.exports=p?h:function(E){var S,k,P;return E===void 0?"Undefined":E===null?"Null":typeof(k=function(O,L){try{return O[L]}catch(W){}}(S=Object(E),b))=="string"?k:x?h(S):(P=h(S))=="Object"&&typeof S.callee=="function"?"Arguments":P}},function(c,f,u){var p=u(25);c.exports=function(h,b,x){var E,S;p(h);try{if((E=h.return)===void 0){if(b==="throw")throw x;return x}E=E.call(h)}catch(k){S=!0,E=k}if(b==="throw")throw x;if(S)throw E;return p(E),x}},function(c,f){c.exports=function(u,p,h){if(!(u instanceof p))throw TypeError("Incorrect "+(h?h+" ":"")+"invocation");return u}},function(c,f,u){var p=u(21)("iterator"),h=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){h=!0}};x[p]=function(){return this},Array.from(x,function(){throw 2})}catch(E){}c.exports=function(E,S){if(!S&&!h)return!1;var k=!1;try{var P={};P[p]=function(){return{next:function(){return{done:k=!0}}}},E(P)}catch(O){}return k}},function(c,f,u){var p=u(24),h=u(94);c.exports=function(b,x,E){var S,k;return h&&typeof(S=x.constructor)=="function"&&S!==E&&p(k=S.prototype)&&k!==E.prototype&&h(b,k),b}},function(c,f,u){var p=u(50),h=u(33),b=u(38),x=function(E){return function(S,k){var P,O,L=h(b(S)),W=p(k),K=L.length;return W<0||W>=K?E?"":void 0:(P=L.charCodeAt(W))<55296||P>56319||W+1===K||(O=L.charCodeAt(W+1))<56320||O>57343?E?L.charAt(W):P:E?L.slice(W,W+2):O-56320+(P-55296<<10)+65536}};c.exports={codeAt:x(!1),charAt:x(!0)}},function(c,f){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,f,u){var p=u(21);f.f=p},function(c,f,u){var p=u(156),h=u(27),b=u(128),x=u(29).f;c.exports=function(E){var S=p.Symbol||(p.Symbol={});h(S,E)||x(S,E,{value:b.f(E)})}},function(c,f,u){var p=u(15),h=u(110).includes,b=u(66);p({target:"Array",proto:!0},{includes:function(x){return h(this,x,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(c,f,u){var p=u(15),h=u(165),b=u(38),x=u(33);p({target:"String",proto:!0,forced:!u(166)("includes")},{includes:function(E){return!!~x(b(this)).indexOf(x(h(E)),arguments.length>1?arguments[1]:void 0)}})},function(c,f,u){var p=u(24),h=u(49),b=u(21)("match");c.exports=function(x){var E;return p(x)&&((E=x[b])!==void 0?!!E:h(x)=="RegExp")}},function(c,f,u){var p=u(16),h=u(23).RegExp;f.UNSUPPORTED_Y=p(function(){var b=h("a","y");return b.lastIndex=2,b.exec("abcd")!=null}),f.BROKEN_CARET=p(function(){var b=h("^r","gy");return b.lastIndex=2,b.exec("str")!=null})},function(c,f,u){var p=u(38),h=u(33),b="["+u(135)+"]",x=RegExp("^"+b+b+"*"),E=RegExp(b+b+"*$"),S=function(k){return function(P){var O=h(p(P));return 1&k&&(O=O.replace(x,"")),2&k&&(O=O.replace(E,"")),O}};c.exports={start:S(1),end:S(2),trim:S(3)}},function(c,f){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,f,u){var p=u(100),h=u(25),b=u(32),x=u(33),E=u(38),S=u(101),k=u(102);p("match",function(P,O,L){return[function(W){var K=E(this),G=W==null?void 0:W[P];return G!==void 0?G.call(W,K):new RegExp(W)[P](x(K))},function(W){var K=h(this),G=x(W),H=L(O,K,G);if(H.done)return H.value;if(!K.global)return k(K,G);var R=K.unicode;K.lastIndex=0;for(var U,V=[],N=0;(U=k(K,G))!==null;){var C=x(U[0]);V[N]=C,C===""&&(K.lastIndex=S(G,b(K.lastIndex),R)),N++}return N===0?null:V}]})},function(c,f,u){var p=u(100),h=u(16),b=u(25),x=u(50),E=u(32),S=u(33),k=u(38),P=u(101),O=u(171),L=u(102),W=u(21)("replace"),K=Math.max,G=Math.min,H="a".replace(/./,"$0")==="$0",R=!!/./[W]&&/./[W]("a","$0")==="";p("replace",function(U,V,N){var C=R?"$":"$0";return[function(I,B){var z=k(this),J=I==null?void 0:I[W];return J!==void 0?J.call(I,z,B):V.call(S(z),I,B)},function(I,B){var z=b(this),J=S(I);if(typeof B=="string"&&B.indexOf(C)===-1&&B.indexOf("$<")===-1){var ee=N(V,z,J,B);if(ee.done)return ee.value}var re=typeof B=="function";re||(B=S(B));var ie=z.global;if(ie){var be=z.unicode;z.lastIndex=0}for(var fe=[];;){var pe=L(z,J);if(pe===null||(fe.push(pe),!ie))break;S(pe[0])===""&&(z.lastIndex=P(J,E(z.lastIndex),be))}for(var se,ce="",ye=0,de=0;de<fe.length;de++){pe=fe[de];for(var Pe=S(pe[0]),_e=K(G(x(pe.index),J.length),0),Ue=[],We=1;We<pe.length;We++)Ue.push((se=pe[We])===void 0?se:String(se));var ze=pe.groups;if(re){var Kt=[Pe].concat(Ue,_e,J);ze!==void 0&&Kt.push(ze);var _n=S(B.apply(void 0,Kt))}else _n=O(Pe,J,_e,Ue,ze,B);_e>=ye&&(ce+=J.slice(ye,_e)+_n,ye=_e+Pe.length)}return ce+J.slice(ye)}]},!!h(function(){var U=/./;return U.exec=function(){var V=[];return V.groups={a:"7"},V},"".replace(U,"$<a>")!=="7"})||!H||R)},function(c,f,u){f.a=function(){return!1}},function(c,f,u){(function(p){var h=u(22),b=v&&!v.nodeType&&v,x=b&&typeof p=="object"&&p&&!p.nodeType&&p,E=x&&x.exports===b?h.a.Buffer:void 0,S=E?E.allocUnsafe:void 0;f.a=function(k,P){if(P)return k.slice();var O=k.length,L=S?S(O):new k.constructor(O);return k.copy(L),L}}).call(this,u(99)(c))},function(c,f,u){(function(p){u.d(f,"a",function(){return R});var h=u(0);function b(N){throw new Error("[mobx-utils] "+N)}function x(N,C){C===void 0&&(C="Illegal state"),N||b(C)}var E=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(E(Object.getPrototypeOf(N))||[])},S=function(N){return function(C){var I=E(C);return I.filter(function(B,z){return I.indexOf(B)===z})}(N).filter(function(C){return C!=="constructor"&&!~C.indexOf("__")})};function k(N){switch(this.state){case"pending":return N.pending&&N.pending(this.value);case"rejected":return N.rejected&&N.rejected(this.value);case"fulfilled":return N.fulfilled?N.fulfilled(this.value):this.value}}function P(N,C){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var I=N;N.then(Object(h.i)("observableFromPromise-resolve",function(z){I.value=z,I.state="fulfilled"}),Object(h.i)("observableFromPromise-reject",function(z){I.value=z,I.state="rejected"})),I.isPromiseBasedObservable=!0,I.case=k;var B=C&&C.state==="fulfilled"?C.value:void 0;return Object(h.o)(I,{value:B,state:"pending"},{},{deep:!1}),I}(function(N){N.reject=Object(h.i)("fromPromise.reject",function(C){var I=N(Promise.reject(C));return I.state="rejected",I.value=C,I}),N.resolve=Object(h.i)("fromPromise.resolve",function(C){C===void 0&&(C=void 0);var I=N(Promise.resolve(C));return I.state="fulfilled",I.value=C,I})})(P||(P={}));var O=function(N,C,I,B){var z,J=arguments.length,ee=J<3?C:B===null?B=Object.getOwnPropertyDescriptor(C,I):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(N,C,I,B);else for(var re=N.length-1;re>=0;re--)(z=N[re])&&(ee=(J<3?z(ee):J>3?z(C,I,ee):z(C,I))||ee);return J>3&&ee&&Object.defineProperty(C,I,ee),ee};(function(){function N(C,I){var B=this;Object(h.E)(function(){B.current=I,B.subscription=C.subscribe(B)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(C){this.current=C},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(C){this.current=C,this.dispose()},O([h.A.ref],N.prototype,"current",void 0),O([h.i.bound],N.prototype,"next",null),O([h.i.bound],N.prototype,"complete",null),O([h.i.bound],N.prototype,"error",null)})();var L=function(){return(L=Object.assign||function(N){for(var C,I=1,B=arguments.length;I<B;I++)for(var z in C=arguments[I])Object.prototype.hasOwnProperty.call(C,z)&&(N[z]=C[z]);return N}).apply(this,arguments)},W=function(N,C,I,B){var z,J=arguments.length,ee=J<3?C:B===null?B=Object.getOwnPropertyDescriptor(C,I):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(N,C,I,B);else for(var re=N.length-1;re>=0;re--)(z=N[re])&&(ee=(J<3?z(ee):J>3?z(C,I,ee):z(C,I))||ee);return J>3&&ee&&Object.defineProperty(C,I,ee),ee},K=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(C){var I=this;this.model=C,this.localValues=h.A.map({}),this.localComputedValues=h.A.map({}),this.isPropertyDirty=function(B){return I.localValues.has(B)},x(Object(h.y)(C),"createViewModel expects an observable object"),S(C).forEach(function(B){if(B!==h.a&&B!=="__mobxDidRunLazyInitializers"){if(x(K.indexOf(B)===-1,"The propertyname "+B+" is reserved and cannot be used with viewModels"),Object(h.u)(C,B)){var z=Object(h.f)(C,B).derivation;I.localComputedValues.set(B,Object(h.k)(z.bind(I)))}var J=Object.getOwnPropertyDescriptor(C,B),ee=J?{enumerable:J.enumerable}:{};Object.defineProperty(I,B,L(L({},ee),{configurable:!0,get:function(){return Object(h.u)(C,B)?I.localComputedValues.get(B).get():I.isPropertyDirty(B)?I.localValues.get(B):I.model[B]},set:Object(h.i)(function(re){re!==I.model[B]?I.localValues.set(B,re):I.localValues.delete(B)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var C=this;Object(h.z)(this.localValues).forEach(function(I){var B=C.localValues.get(I),z=C.model[I];Object(h.w)(z)?z.replace(B):Object(h.x)(z)?(z.clear(),z.merge(B)):Object(h.t)(B)||(C.model[I]=B)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(C){this.localValues.delete(C)},W([h.k],N.prototype,"isDirty",null),W([h.k],N.prototype,"changedValues",null),W([h.i.bound],N.prototype,"submit",null),W([h.i.bound],N.prototype,"reset",null),W([h.i.bound],N.prototype,"resetProperty",null)})();function G(N){if(!N)return"ROOT";for(var C=[];N.parent;)C.push(N.path),N=N.parent;return C.reverse().join("/")}function H(N){return Object(h.y)(N)||Object(h.w)(N)||Object(h.x)(N)}function R(N,C){var I=new WeakMap;function B(ee){var re=I.get(ee.object);(function(ie,be){switch(ie.type){case"add":z(ie.newValue,be,ie.name);break;case"update":J(ie.oldValue),z(ie.newValue,be,ie.name||""+ie.index);break;case"remove":case"delete":J(ie.oldValue);break;case"splice":ie.removed.map(J),ie.added.forEach(function(se,ce){return z(se,be,""+(ie.index+ce))});for(var fe=ie.index+ie.addedCount;fe<ie.object.length;fe++)if(H(ie.object[fe])){var pe=I.get(ie.object[fe]);pe&&(pe.path=""+fe)}}})(ee,re),C(ee,G(re),N)}function z(ee,re,ie){if(H(ee)){var be=I.get(ee);if(be){if(be.parent!==re||be.path!==ie)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+G(re)+"/"+ie+"', but it already exists at '"+G(be.parent)+"/"+be.path+"'")}else{var fe={parent:re,path:ie,dispose:Object(h.B)(ee,B)};I.set(ee,fe),Object(h.n)(ee).forEach(function(pe){var se=pe[0];return z(pe[1],fe,se)})}}}function J(ee){if(H(ee)){var re=I.get(ee);if(!re)return;I.delete(ee),re.dispose(),Object(h.J)(ee).forEach(J)}}return z(N,void 0,""),function(){J(N)}}var U,V=(U=function(N,C){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,B){I.__proto__=B}||function(I,B){for(var z in B)B.hasOwnProperty(z)&&(I[z]=B[z])})(N,C)},function(N,C){function I(){this.constructor=N}U(N,C),N.prototype=C===null?Object.create(C):(I.prototype=C.prototype,new I)});(function(N){function C(I,B,z){var J=z===void 0?{}:z,ee=J.name,re=ee===void 0?"ogm"+(1e3*Math.random()|0):ee,ie=J.keyToName,be=ie===void 0?function(se){return""+se}:ie,fe=N.call(this)||this;fe._keyToName=be,fe._groupBy=B,fe._ogmInfoKey=Symbol("ogmInfo"+re),fe._base=I;for(var pe=0;pe<I.length;pe++)fe._addItem(I[pe]);return fe._disposeBaseObserver=Object(h.B)(fe._base,function(se){if(se.type==="splice")Object(h.H)(function(){for(var ce=0,ye=se.removed;ce<ye.length;ce++){var de=ye[ce];fe._removeItem(de)}for(var Pe=0,_e=se.added;Pe<_e.length;Pe++){var Ue=_e[Pe];fe._addItem(Ue)}});else{if(se.type!=="update")throw new Error("illegal state");Object(h.H)(function(){fe._removeItem(se.oldValue),fe._addItem(se.newValue)})}}),fe}V(C,N),C.prototype.clear=function(){throw new Error("not supported")},C.prototype.delete=function(I){throw new Error("not supported")},C.prototype.set=function(I,B){throw new Error("not supported")},C.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var B=this._base[I];B[this._ogmInfoKey].reaction(),delete B[this._ogmInfoKey]}},C.prototype._getGroupArr=function(I){var B=N.prototype.get.call(this,I);return B===void 0&&(B=Object(h.A)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),N.prototype.set.call(this,I,B)),B},C.prototype._removeFromGroupArr=function(I,B){var z=N.prototype.get.call(this,I);z.length===1?N.prototype.delete.call(this,I):(B===z.length-1||(z[B]=z[z.length-1],z[B][this._ogmInfoKey].groupArrIndex=B),z.length--)},C.prototype._addItem=function(I){var B=this,z=this._groupBy(I),J=this._getGroupArr(z),ee={groupByValue:z,groupArrIndex:J.length,reaction:Object(h.D)(function(){return B._groupBy(I)},function(re,ie){var be=I[B._ogmInfoKey];B._removeFromGroupArr(be.groupByValue,be.groupArrIndex);var fe=B._getGroupArr(re),pe=fe.length;fe.push(I),be.groupByValue=re,be.groupArrIndex=pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ee}),J.push(I)},C.prototype._removeItem=function(I){var B=I[this._ogmInfoKey];this._removeFromGroupArr(B.groupByValue,B.groupArrIndex),B.reaction(),delete I[this._ogmInfoKey]}})(h.b),function(){function N(C,I){this.base=C,this.args=I,this.closestIdx=0,this.isDisposed=!1;for(var B=this.closest=this.root=C,z=0;z<this.args.length-1&&(B=B.get(I[z]));z++)this.closest=B;this.closestIdx=z}return N.prototype.exists=function(){this.assertNotDisposed();var C=this.args.length;return this.closestIdx>=C-1&&this.closest.has(this.args[C-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(C){this.assertNotDisposed();for(var I=this.args.length,B=this.closest,z=this.closestIdx;z<I-1;z++){var J=new Map;B.set(this.args[z],J),B=J}this.closestIdx=I-1,this.closest=B,B.set(this.args[I-1],C)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var C=this.args.length;this.closest.delete(this.args[C-1]);for(var I=this.root,B=[I],z=0;z<C-1;z++)I=I.get(this.args[z]),B.push(I);for(z=B.length-1;z>0;z--)B[z].size===0&&B[z-1].delete(this.args[z-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,u(104))},function(c,f,u){var p;(function(h,b,x){if(h){for(var E,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},k={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},O={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},L=1;L<20;++L)S[111+L]="f"+L;for(L=0;L<=9;++L)S[L+96]=L.toString();U.prototype.bind=function(V,N,C){return V=V instanceof Array?V:[V],this._bindMultiple.call(this,V,N,C),this},U.prototype.unbind=function(V,N){return this.bind.call(this,V,function(){},N)},U.prototype.trigger=function(V,N){return this._directMap[V+":"+N]&&this._directMap[V+":"+N]({},V),this},U.prototype.reset=function(){return this._callbacks={},this._directMap={},this},U.prototype.stopCallback=function(V,N){if((" "+N.className+" ").indexOf(" mousetrap ")>-1||function I(B,z){return B!==null&&B!==b&&(B===z||I(B.parentNode,z))}(N,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var C=V.composedPath()[0];C!==V.target&&(N=C)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},U.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},U.addKeycodes=function(V){for(var N in V)V.hasOwnProperty(N)&&(S[N]=V[N]);E=null},U.init=function(){var V=U(b);for(var N in V)N.charAt(0)!=="_"&&(U[N]=function(C){return function(){return V[C].apply(V,arguments)}}(N))},U.init(),h.Mousetrap=U,c.exports&&(c.exports=U),(p=function(){return U}.call(f,u,f,c))===void 0||(c.exports=p)}function W(V,N,C){V.addEventListener?V.addEventListener(N,C,!1):V.attachEvent("on"+N,C)}function K(V){if(V.type=="keypress"){var N=String.fromCharCode(V.which);return V.shiftKey||(N=N.toLowerCase()),N}return S[V.which]?S[V.which]:k[V.which]?k[V.which]:String.fromCharCode(V.which).toLowerCase()}function G(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function H(V,N,C){return C||(C=function(){if(!E)for(var I in E={},S)I>95&&I<112||S.hasOwnProperty(I)&&(E[S[I]]=I);return E}()[V]?"keydown":"keypress"),C=="keypress"&&N.length&&(C="keydown"),C}function R(V,N){var C,I,B,z=[];for(C=function(J){return J==="+"?["+"]:(J=J.replace(/\+{2}/g,"+plus")).split("+")}(V),B=0;B<C.length;++B)I=C[B],O[I]&&(I=O[I]),N&&N!="keypress"&&P[I]&&(I=P[I],z.push("shift")),G(I)&&z.push(I);return{key:I,modifiers:z,action:N=H(I,z,N)}}function U(V){var N=this;if(V=V||b,!(N instanceof U))return new U(V);N.target=V,N._callbacks={},N._directMap={};var C,I={},B=!1,z=!1,J=!1;function ee(se){se=se||{};var ce,ye=!1;for(ce in I)se[ce]?ye=!0:I[ce]=0;ye||(J=!1)}function re(se,ce,ye,de,Pe,_e){var Ue,We,ze,Kt,_n=[],it=ye.type;if(!N._callbacks[se])return[];for(it=="keyup"&&G(se)&&(ce=[se]),Ue=0;Ue<N._callbacks[se].length;++Ue)if(We=N._callbacks[se][Ue],(de||!We.seq||I[We.seq]==We.level)&&it==We.action&&(it=="keypress"&&!ye.metaKey&&!ye.ctrlKey||(ze=ce,Kt=We.modifiers,ze.sort().join(",")===Kt.sort().join(",")))){var He=!de&&We.combo==Pe,ht=de&&We.seq==de&&We.level==_e;(He||ht)&&N._callbacks[se].splice(Ue,1),_n.push(We)}return _n}function ie(se,ce,ye,de){N.stopCallback(ce,ce.target||ce.srcElement,ye,de)||se(ce,ye)===!1&&(function(Pe){Pe.preventDefault?Pe.preventDefault():Pe.returnValue=!1}(ce),function(Pe){Pe.stopPropagation?Pe.stopPropagation():Pe.cancelBubble=!0}(ce))}function be(se){typeof se.which!="number"&&(se.which=se.keyCode);var ce=K(se);ce&&(se.type!="keyup"||B!==ce?N.handleKey(ce,function(ye){var de=[];return ye.shiftKey&&de.push("shift"),ye.altKey&&de.push("alt"),ye.ctrlKey&&de.push("ctrl"),ye.metaKey&&de.push("meta"),de}(se),se):B=!1)}function fe(se,ce,ye,de){function Pe(ze){return function(){J=ze,++I[se],clearTimeout(C),C=setTimeout(ee,1e3)}}function _e(ze){ie(ye,ze,se),de!=="keyup"&&(B=K(ze)),setTimeout(ee,10)}I[se]=0;for(var Ue=0;Ue<ce.length;++Ue){var We=Ue+1===ce.length?_e:Pe(de||R(ce[Ue+1]).action);pe(ce[Ue],We,de,se,Ue)}}function pe(se,ce,ye,de,Pe){N._directMap[se+":"+ye]=ce;var _e,Ue=(se=se.replace(/\s+/g," ")).split(" ");Ue.length>1?fe(se,Ue,ce,ye):(_e=R(se,ye),N._callbacks[_e.key]=N._callbacks[_e.key]||[],re(_e.key,_e.modifiers,{type:_e.action},de,se,Pe),N._callbacks[_e.key][de?"unshift":"push"]({callback:ce,modifiers:_e.modifiers,action:_e.action,seq:de,level:Pe,combo:se}))}N._handleKey=function(se,ce,ye){var de,Pe=re(se,ce,ye),_e={},Ue=0,We=!1;for(de=0;de<Pe.length;++de)Pe[de].seq&&(Ue=Math.max(Ue,Pe[de].level));for(de=0;de<Pe.length;++de)if(Pe[de].seq){if(Pe[de].level!=Ue)continue;We=!0,_e[Pe[de].seq]=1,ie(Pe[de].callback,ye,Pe[de].combo,Pe[de].seq)}else We||ie(Pe[de].callback,ye,Pe[de].combo);var ze=ye.type=="keypress"&&z;ye.type!=J||G(se)||ze||ee(_e),z=We&&ye.type=="keydown"},N._bindMultiple=function(se,ce,ye){for(var de=0;de<se.length;++de)pe(se[de],ce,ye)},W(V,"keypress",be),W(V,"keydown",be),W(V,"keyup",be)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,f,u){var p=u(28),h=u(29),b=u(25),x=u(54);c.exports=p?Object.defineProperties:function(E,S){b(E);for(var k,P=x(S),O=P.length,L=0;O>L;)h.f(E,k=P[L++],S[k]);return E}},function(c,f,u){var p=u(24);c.exports=function(h,b){var x,E;if(b==="string"&&typeof(x=h.toString)=="function"&&!p(E=x.call(h))||typeof(x=h.valueOf)=="function"&&!p(E=x.call(h))||b!=="string"&&typeof(x=h.toString)=="function"&&!p(E=x.call(h)))return E;throw TypeError("Can't convert object to primitive value")}},function(c,f,u){var p=u(45);c.exports=p("document","documentElement")},function(c,f,u){var p=u(23),h=u(111),b=p.WeakMap;c.exports=typeof b=="function"&&/native code/.test(h(b))},function(c,f,u){var p=u(114).IteratorPrototype,h=u(46),b=u(57),x=u(77),E=u(56),S=function(){return this};c.exports=function(k,P,O){var L=P+" Iterator";return k.prototype=h(p,{next:b(1,O)}),x(k,L,!1,!0),E[L]=S,k}},function(c,f,u){var p=u(24);c.exports=function(h){if(!p(h)&&h!==null)throw TypeError("Can't set "+String(h)+" as a prototype");return h}},function(c,f,u){var p=u(15),h=u(23),b=u(93),x=u(43),E=u(116),S=u(118),k=u(123),P=u(24),O=u(16),L=u(124),W=u(77),K=u(125);c.exports=function(G,H,R){var U=G.indexOf("Map")!==-1,V=G.indexOf("Weak")!==-1,N=U?"set":"add",C=h[G],I=C&&C.prototype,B=C,z={},J=function(pe){var se=I[pe];x(I,pe,pe=="add"?function(ce){return se.call(this,ce===0?0:ce),this}:pe=="delete"?function(ce){return!(V&&!P(ce))&&se.call(this,ce===0?0:ce)}:pe=="get"?function(ce){return V&&!P(ce)?void 0:se.call(this,ce===0?0:ce)}:pe=="has"?function(ce){return!(V&&!P(ce))&&se.call(this,ce===0?0:ce)}:function(ce,ye){return se.call(this,ce===0?0:ce,ye),this})};if(b(G,typeof C!="function"||!(V||I.forEach&&!O(function(){new C().entries().next()}))))B=R.getConstructor(H,G,U,N),E.enable();else if(b(G,!0)){var ee=new B,re=ee[N](V?{}:-0,1)!=ee,ie=O(function(){ee.has(1)}),be=L(function(pe){new C(pe)}),fe=!V&&O(function(){for(var pe=new C,se=5;se--;)pe[N](se,se);return!pe.has(-0)});be||((B=H(function(pe,se){k(pe,B,G);var ce=K(new C,pe,B);return se!=null&&S(se,ce[N],{that:ce,AS_ENTRIES:U}),ce})).prototype=I,I.constructor=B),(ie||fe)&&(J("delete"),J("has"),U&&J("get")),(fe||re)&&J(N),V&&I.clear&&delete I.clear}return z[G]=B,p({global:!0,forced:B!=C},z),W(B,G),V||R.setStrong(B,G,U),B}},function(c,f,u){var p=u(16);c.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,f,u){var p=u(29).f,h=u(46),b=u(151),x=u(79),E=u(123),S=u(118),k=u(91),P=u(152),O=u(28),L=u(116).fastKey,W=u(51),K=W.set,G=W.getterFor;c.exports={getConstructor:function(H,R,U,V){var N=H(function(z,J){E(z,N,R),K(z,{type:R,index:h(null),first:void 0,last:void 0,size:0}),O||(z.size=0),J!=null&&S(J,z[V],{that:z,AS_ENTRIES:U})}),C=G(R),I=function(z,J,ee){var re,ie,be=C(z),fe=B(z,J);return fe?fe.value=ee:(be.last=fe={index:ie=L(J,!0),key:J,value:ee,previous:re=be.last,next:void 0,removed:!1},be.first||(be.first=fe),re&&(re.next=fe),O?be.size++:z.size++,ie!=="F"&&(be.index[ie]=fe)),z},B=function(z,J){var ee,re=C(z),ie=L(J);if(ie!=="F")return re.index[ie];for(ee=re.first;ee;ee=ee.next)if(ee.key==J)return ee};return b(N.prototype,{clear:function(){for(var z=C(this),J=z.index,ee=z.first;ee;)ee.removed=!0,ee.previous&&(ee.previous=ee.previous.next=void 0),delete J[ee.index],ee=ee.next;z.first=z.last=void 0,O?z.size=0:this.size=0},delete:function(z){var J=C(this),ee=B(this,z);if(ee){var re=ee.next,ie=ee.previous;delete J.index[ee.index],ee.removed=!0,ie&&(ie.next=re),re&&(re.previous=ie),J.first==ee&&(J.first=re),J.last==ee&&(J.last=ie),O?J.size--:this.size--}return!!ee},forEach:function(z){for(var J,ee=C(this),re=x(z,arguments.length>1?arguments[1]:void 0,3);J=J?J.next:ee.first;)for(re(J.value,J.key,this);J&&J.removed;)J=J.previous},has:function(z){return!!B(this,z)}}),b(N.prototype,U?{get:function(z){var J=B(this,z);return J&&J.value},set:function(z,J){return I(this,z===0?0:z,J)}}:{add:function(z){return I(this,z=z===0?0:z,z)}}),O&&p(N.prototype,"size",{get:function(){return C(this).size}}),N},setStrong:function(H,R,U){var V=R+" Iterator",N=G(R),C=G(V);k(H,R,function(I,B){K(this,{type:V,target:I,state:N(I),kind:B,last:void 0})},function(){for(var I=C(this),B=I.kind,z=I.last;z&&z.removed;)z=z.previous;return I.target&&(I.last=z=z?z.next:I.state.first)?B=="keys"?{value:z.key,done:!1}:B=="values"?{value:z.value,done:!1}:{value:[z.key,z.value],done:!1}:(I.target=void 0,{value:void 0,done:!0})},U?"entries":"values",!U,!0),P(R)}}},function(c,f,u){var p=u(43);c.exports=function(h,b,x){for(var E in b)p(h,E,b[E],x);return h}},function(c,f,u){var p=u(45),h=u(29),b=u(21),x=u(28),E=b("species");c.exports=function(S){var k=p(S),P=h.f;x&&k&&!k[E]&&P(k,E,{configurable:!0,get:function(){return this}})}},function(c,f,u){var p=u(96),h=u(121);c.exports=p?{}.toString:function(){return"[object "+h(this)+"]"}},function(c,f,u){var p=u(60).forEach,h=u(98)("forEach");c.exports=h?[].forEach:function(b){return p(this,b,arguments.length>1?arguments[1]:void 0)}},function(c,f,u){var p=u(24),h=u(80),b=u(21)("species");c.exports=function(x){var E;return h(x)&&(typeof(E=x.constructor)!="function"||E!==Array&&!h(E.prototype)?p(E)&&(E=E[b])===null&&(E=void 0):E=void 0),E===void 0?Array:E}},function(c,f,u){var p=u(23);c.exports=p},function(c,f,u){var p=u(79),h=u(31),b=u(158),x=u(119),E=u(32),S=u(62),k=u(120),P=u(95);c.exports=function(O){var L,W,K,G,H,R,U=h(O),V=typeof this=="function"?this:Array,N=arguments.length,C=N>1?arguments[1]:void 0,I=C!==void 0,B=P(U),z=0;if(I&&(C=p(C,N>2?arguments[2]:void 0,2)),B==null||V==Array&&x(B))for(W=new V(L=E(U.length));L>z;z++)R=I?C(U[z],z):U[z],S(W,z,R);else for(H=(G=k(U,B)).next,W=new V;!(K=H.call(G)).done;z++)R=I?b(G,C,[K.value,z],!0):K.value,S(W,z,R);return W.length=z,W}},function(c,f,u){var p=u(25),h=u(122);c.exports=function(b,x,E,S){try{return S?x(p(E)[0],E[1]):x(E)}catch(k){h(b,"throw",k)}}},function(c,f,u){var p=u(15),h=u(59),b=u(31),x=u(32),E=u(33),S=u(16),k=u(160),P=u(98),O=u(161),L=u(162),W=u(70),K=u(163),G=[],H=G.sort,R=S(function(){G.sort(void 0)}),U=S(function(){G.sort(null)}),V=P("sort"),N=!S(function(){if(W)return W<70;if(!(O&&O>3)){if(L)return!0;if(K)return K<603;var C,I,B,z,J="";for(C=65;C<76;C++){switch(I=String.fromCharCode(C),C){case 66:case 69:case 70:case 72:B=3;break;case 68:case 71:B=4;break;default:B=2}for(z=0;z<47;z++)G.push({k:I+z,v:B})}for(G.sort(function(ee,re){return re.v-ee.v}),z=0;z<G.length;z++)I=G[z].k.charAt(0),J.charAt(J.length-1)!==I&&(J+=I);return J!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:R||!U||!V||!N},{sort:function(C){C!==void 0&&h(C);var I=b(this);if(N)return C===void 0?H.call(I):H.call(I,C);var B,z,J=[],ee=x(I.length);for(z=0;z<ee;z++)z in I&&J.push(I[z]);for(B=(J=k(J,function(re){return function(ie,be){return be===void 0?-1:ie===void 0?1:re!==void 0?+re(ie,be)||0:E(ie)>E(be)?1:-1}}(C))).length,z=0;z<B;)I[z]=J[z++];for(;z<ee;)delete I[z++];return I}})},function(c,f){var u=Math.floor,p=function(x,E){var S=x.length,k=u(S/2);return S<8?h(x,E):b(p(x.slice(0,k),E),p(x.slice(k),E),E)},h=function(x,E){for(var S,k,P=x.length,O=1;O<P;){for(k=O,S=x[O];k&&E(x[k-1],S)>0;)x[k]=x[--k];k!==O++&&(x[k]=S)}return x},b=function(x,E,S){for(var k=x.length,P=E.length,O=0,L=0,W=[];O<k||L<P;)O<k&&L<P?W.push(S(x[O],E[L])<=0?x[O++]:E[L++]):W.push(O<k?x[O++]:E[L++]);return W};c.exports=p},function(c,f,u){var p=u(71).match(/firefox\/(\d+)/i);c.exports=!!p&&+p[1]},function(c,f,u){var p=u(71);c.exports=/MSIE|Trident/.test(p)},function(c,f,u){var p=u(71).match(/AppleWebKit\/(\d+)\./);c.exports=!!p&&+p[1]},function(c,f,u){var p=u(15),h=u(60).find,b=u(66),x=!0;"find"in[]&&Array(1).find(function(){x=!1}),p({target:"Array",proto:!0,forced:x},{find:function(E){return h(this,E,arguments.length>1?arguments[1]:void 0)}}),b("find")},function(c,f,u){var p=u(132);c.exports=function(h){if(p(h))throw TypeError("The method doesn't accept regular expressions");return h}},function(c,f,u){var p=u(21)("match");c.exports=function(h){var b=/./;try{"/./"[h](b)}catch(x){try{return b[p]=!1,"/./"[h](b)}catch(E){}}return!1}},function(c,f,u){var p=u(25);c.exports=function(){var h=p(this),b="";return h.global&&(b+="g"),h.ignoreCase&&(b+="i"),h.multiline&&(b+="m"),h.dotAll&&(b+="s"),h.unicode&&(b+="u"),h.sticky&&(b+="y"),b}},function(c,f,u){var p=u(16),h=u(23).RegExp;c.exports=p(function(){var b=h(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(c,f,u){var p=u(16),h=u(23).RegExp;c.exports=p(function(){var b=h("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(c,f,u){var p=u(25),h=u(59),b=u(21)("species");c.exports=function(x,E){var S,k=p(x).constructor;return k===void 0||(S=p(k)[b])==null?E:h(S)}},function(c,f,u){var p=u(31),h=Math.floor,b="".replace,x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;c.exports=function(S,k,P,O,L,W){var K=P+S.length,G=O.length,H=E;return L!==void 0&&(L=p(L),H=x),b.call(W,H,function(R,U){var V;switch(U.charAt(0)){case"$":return"$";case"&":return S;case"`":return k.slice(0,P);case"'":return k.slice(K);case"<":V=L[U.slice(1,-1)];break;default:var N=+U;if(N===0)return R;if(N>G){var C=h(N/10);return C===0?R:C<=G?O[C-1]===void 0?U.charAt(1):O[C-1]+U.charAt(1):R}V=O[N-1]}return V===void 0?"":V})}},function(c,f,u){var p=u(59),h=u(24),b=[].slice,x={},E=function(S,k,P){if(!(k in x)){for(var O=[],L=0;L<k;L++)O[L]="a["+L+"]";x[k]=Function("C,a","return new C("+O.join(",")+")")}return x[k](S,P)};c.exports=Function.bind||function(S){var k=p(this),P=b.call(arguments,1),O=function(){var L=P.concat(b.call(arguments));return this instanceof O?E(k,L.length,L):k.apply(S,L)};return h(k.prototype)&&(O.prototype=k.prototype),O}},function(c,f,u){var p=u(28),h=u(16),b=u(54),x=u(92),E=u(75),S=u(31),k=u(65),P=Object.assign,O=Object.defineProperty;c.exports=!P||h(function(){if(p&&P({b:1},P(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},W={},K=Symbol();return L[K]=7,"abcdefghijklmnopqrst".split("").forEach(function(G){W[G]=G}),P({},L)[K]!=7||b(P({},W)).join("")!="abcdefghijklmnopqrst"})?function(L,W){for(var K=S(L),G=arguments.length,H=1,R=x.f,U=E.f;G>H;)for(var V,N=k(arguments[H++]),C=R?b(N).concat(R(N)):b(N),I=C.length,B=0;I>B;)V=C[B++],p&&!U.call(N,V)||(K[V]=N[V]);return K}:P},function(c,f,u){var p=u(38),h=u(33),b=/"/g;c.exports=function(x,E,S,k){var P=h(p(x)),O="<"+E;return S!==""&&(O+=" "+S+'="'+h(k).replace(b,"&quot;")+'"'),O+">"+P+"</"+E+">"}},function(c,f,u){var p=u(16);c.exports=function(h){return p(function(){var b=""[h]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(c,f,u){var p=u(15),h=Math.hypot,b=Math.abs,x=Math.sqrt;p({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(E,S){for(var k,P,O=0,L=0,W=arguments.length,K=0;L<W;)K<(k=b(arguments[L++]))?(O=O*(P=K/k)*P+1,K=k):O+=k>0?(P=k/K)*P:k;return K===1/0?1/0:K*x(O)}})},function(c,f,u){var p=u(27);c.exports=function(h){return h!==void 0&&(p(h,"value")||p(h,"writable"))}},function(c,f,u){u(15)({target:"String",proto:!0},{repeat:u(179)})},function(c,f,u){var p=u(50),h=u(33),b=u(38);c.exports=function(x){var E=h(b(this)),S="",k=p(x);if(k<0||k==1/0)throw RangeError("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(E+=E))1&k&&(S+=E);return S}},function(c,f,u){var p=u(28),h=u(54),b=u(35),x=u(75).f,E=function(S){return function(k){for(var P,O=b(k),L=h(O),W=L.length,K=0,G=[];W>K;)P=L[K++],p&&!x.call(O,P)||G.push(S?[P,O[P]]:O[P]);return G}};c.exports={entries:E(!0),values:E(!1)}},function(c,f,u){var p=u(31),h=u(73),b=u(32);c.exports=function(x){for(var E=p(this),S=b(E.length),k=arguments.length,P=h(k>1?arguments[1]:void 0,S),O=k>2?arguments[2]:void 0,L=O===void 0?S:h(O,S);L>P;)E[P++]=x;return E}},function(c,f,u){var p=u(15),h=u(134).trim;p({target:"String",proto:!0,forced:u(183)("trim")},{trim:function(){return h(this)}})},function(c,f,u){var p=u(16),h=u(135);c.exports=function(b){return p(function(){return!!h[b]()||"\u200B\x85\u180E"[b]()!="\u200B\x85\u180E"||h[b].name!==b})}},function(c,f,u){u.r(f),u.d(f,"observer",function(){return Kn}),u.d(f,"LogicFlow",function(){return xc}),u.d(f,"h",function(){return R}),u.d(f,"LogicFlowUtil",function(){return p}),u.d(f,"BaseNode",function(){return ar}),u.d(f,"RectNode",function(){return $s}),u.d(f,"CircleNode",function(){return qs}),u.d(f,"PolygonNode",function(){return Qs}),u.d(f,"DiamondNode",function(){return tc}),u.d(f,"EllipseNode",function(){return nc}),u.d(f,"TextNode",function(){return oc}),u.d(f,"HtmlNode",function(){return uc}),u.d(f,"BaseEdge",function(){return Di}),u.d(f,"LineEdge",function(){return yc}),u.d(f,"PolylineEdge",function(){return vc}),u.d(f,"BezierEdge",function(){return gc}),u.d(f,"Arrow",function(){return By}),u.d(f,"BaseEdgeModel",function(){return rs}),u.d(f,"BezierEdgeModel",function(){return js}),u.d(f,"LineEdgeModel",function(){return as}),u.d(f,"PolylineEdgeModel",function(){return ss}),u.d(f,"BaseNodeModel",function(){return or}),u.d(f,"CircleNodeModel",function(){return As}),u.d(f,"DiamondNodeModel",function(){return Ds}),u.d(f,"EllipseNodeModel",function(){return Ms}),u.d(f,"PolygonNodeModel",function(){return Rs}),u.d(f,"RectNodeModel",function(){return Ls}),u.d(f,"TextNodeModel",function(){return Fs}),u.d(f,"HtmlNodeModel",function(){return Xs}),u.d(f,"EditConfigModel",function(){return Ml}),u.d(f,"GraphModel",function(){return jp}),u.d(f,"SnaplineModel",function(){return Uh}),u.d(f,"Keyboard",function(){return Dv}),u.d(f,"get",function(){return md}),u.d(f,"defaults",function(){return Od});var p={};u.r(p),u.d(p,"createUuid",function(){return Eo}),u.d(p,"refreshGraphId",function(){return Jm}),u.d(p,"createDrag",function(){return bi}),u.d(p,"StepDrag",function(){return mi});var h,b,x,E,S,k,P,O=u(0),L={},W=[],K=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function G(t,e){for(var n in e)t[n]=e[n];return t}function H(t){var e=t.parentNode;e&&e.removeChild(t)}function R(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?h.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return U(t,a,r,i,null)}function U(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++x:i};return b.vnode!=null&&b.vnode(o),o}function V(){return{current:null}}function N(t){return t.children}function C(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function B(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return B(t)}}function z(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!J.__r++||k!==b.debounceRendering)&&((k=b.debounceRendering)||S)(J)}function J(){for(var t;J.__r=E.length;)t=E.sort(function(e,n){return e.__v.__b-n.__v.__b}),E=[],t.some(function(e){var n,r,i,o,a,s;e.__d&&(a=(o=(n=e).__v).__e,(s=n.__P)&&(r=[],(i=G({},o)).__v=o.__v+1,ye(s,o,i,n.__n,s.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a==null?I(o):a,o.__h),de(r,o),o.__e!=a&&B(o)))})}function ee(t,e,n,r,i,o,a,s,l,d){var _,j,A,M,F,$,Y,Z=r&&r.__k||W,q=Z.length;for(n.__k=[],_=0;_<e.length;_++)if((M=n.__k[_]=(M=e[_])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?U(null,M,null,null,M):Array.isArray(M)?U(N,{children:M},null,null,null):M.__b>0?U(M.type,M.props,M.key,null,M.__v):M)!=null){if(M.__=n,M.__b=n.__b+1,(A=Z[_])===null||A&&M.key==A.key&&M.type===A.type)Z[_]=void 0;else for(j=0;j<q;j++){if((A=Z[j])&&M.key==A.key&&M.type===A.type){Z[j]=void 0;break}A=null}ye(t,M,A=A||L,i,o,a,s,l,d),F=M.__e,(j=M.ref)&&A.ref!=j&&(Y||(Y=[]),A.ref&&Y.push(A.ref,null,M),Y.push(j,M.__c||F,M)),F!=null?($==null&&($=F),typeof M.type=="function"&&M.__k!=null&&M.__k===A.__k?M.__d=l=re(M,l,t):l=be(t,M,A,Z,F,l),d||n.type!=="option"?typeof n.type=="function"&&(n.__d=l):t.value=""):l&&A.__e==l&&l.parentNode!=t&&(l=I(A))}for(n.__e=$,_=q;_--;)Z[_]!=null&&(typeof n.type=="function"&&Z[_].__e!=null&&Z[_].__e==n.__d&&(n.__d=I(r,_+1)),Ue(Z[_],Z[_]));if(Y)for(_=0;_<Y.length;_++)_e(Y[_],Y[++_],Y[++_])}function re(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?re(i,e,n):be(n,i,i,t.__k,i.__e,e));return e}function ie(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){ie(n,e)}):e.push(t)),e}function be(t,e,n,r,i,o){var a,s,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function fe(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||K.test(e)?n:n+"px"}function pe(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||fe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||fe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?ce:se,o):t.removeEventListener(e,o?ce:se,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function se(t){this.l[t.type+!1](b.event?b.event(t):t)}function ce(t){this.l[t.type+!0](b.event?b.event(t):t)}function ye(t,e,n,r,i,o,a,s,l){var d,_,j,A,M,F,$,Y,Z,q,te,oe=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,s=e.__e=n.__e,e.__h=null,o=[s]),(d=b.__b)&&d(e);try{e:if(typeof oe=="function"){if(Y=e.props,Z=(d=oe.contextType)&&r[d.__c],q=d?Z?Z.props.value:d.__:r,n.__c?$=(_=e.__c=n.__c).__=_.__E:("prototype"in oe&&oe.prototype.render?e.__c=_=new oe(Y,q):(e.__c=_=new C(Y,q),_.constructor=oe,_.render=We),Z&&Z.sub(_),_.props=Y,_.state||(_.state={}),_.context=q,_.__n=r,j=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),oe.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=G({},_.__s)),G(_.__s,oe.getDerivedStateFromProps(Y,_.__s))),A=_.props,M=_.state,j)oe.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(oe.getDerivedStateFromProps==null&&Y!==A&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(Y,q),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(Y,_.__s,q)===!1||e.__v===n.__v){_.props=Y,_.state=_.__s,e.__v!==n.__v&&(_.__d=!1),_.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(ae){ae&&(ae.__=e)}),_.__h.length&&a.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(Y,_.__s,q),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(A,M,F)})}_.context=q,_.props=Y,_.state=_.__s,(d=b.__r)&&d(e),_.__d=!1,_.__v=e,_.__P=t,d=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(r=G(G({},r),_.getChildContext())),j||_.getSnapshotBeforeUpdate==null||(F=_.getSnapshotBeforeUpdate(A,M)),te=d!=null&&d.type===N&&d.key==null?d.props.children:d,ee(t,Array.isArray(te)?te:[te],e,n,r,i,o,a,s,l),_.base=e.__e,e.__h=null,_.__h.length&&a.push(_),$&&(_.__E=_.__=null),_.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Pe(n.__e,e,n,r,i,o,a,l);(d=b.diffed)&&d(e)}catch(ae){e.__v=null,(l||o!=null)&&(e.__e=s,e.__h=!!l,o[o.indexOf(s)]=null),b.__e(ae,e,n)}}function de(t,e){b.__c&&b.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){b.__e(r,n.__v)}})}function Pe(t,e,n,r,i,o,a,s){var l,d,_,j=n.props,A=e.props,M=e.type,F=0;if(M==="svg"&&(i=!0),o!=null){for(;F<o.length;F++)if((l=o[F])&&(l===t||(M?l.localName==M:l.nodeType==3))){t=l,o[F]=null;break}}if(t==null){if(M===null)return document.createTextNode(A);t=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,A.is&&A),o=null,s=!1}if(M===null)j===A||s&&t.data===A||(t.data=A);else{if(o=o&&h.call(t.childNodes),d=(j=n.props||L).dangerouslySetInnerHTML,_=A.dangerouslySetInnerHTML,!s){if(o!=null)for(j={},F=0;F<t.attributes.length;F++)j[t.attributes[F].name]=t.attributes[F].value;(_||d)&&(_&&(d&&_.__html==d.__html||_.__html===t.innerHTML)||(t.innerHTML=_&&_.__html||""))}if(function($,Y,Z,q,te){var oe;for(oe in Z)oe==="children"||oe==="key"||oe in Y||pe($,oe,null,Z[oe],q);for(oe in Y)te&&typeof Y[oe]!="function"||oe==="children"||oe==="key"||oe==="value"||oe==="checked"||Z[oe]===Y[oe]||pe($,oe,Y[oe],Z[oe],q)}(t,A,j,i,s),_)e.__k=[];else if(F=e.props.children,ee(t,Array.isArray(F)?F:[F],e,n,r,i&&M!=="foreignObject",o,a,o?o[0]:n.__k&&I(n,0),s),o!=null)for(F=o.length;F--;)o[F]!=null&&H(o[F]);s||("value"in A&&(F=A.value)!==void 0&&(F!==t.value||M==="progress"&&!F)&&pe(t,"value",F,j.value,!1),"checked"in A&&(F=A.checked)!==void 0&&F!==t.checked&&pe(t,"checked",F,j.checked,!1))}return t}function _e(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){b.__e(r,n)}}function Ue(t,e,n){var r,i;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||_e(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){b.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Ue(r[i],e,typeof t.type!="function");n||t.__e==null||H(t.__e),t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ze(t,e,n){var r,i,o;b.__&&b.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],ye(e,t=(!r&&n||e).__k=R(N,null,[t]),i||L,L,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?h.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),de(o,t)}function Kt(t,e){ze(t,e,Kt)}function _n(t,e,n){var r,i,o,a=G({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];return arguments.length>2&&(a.children=arguments.length>3?h.call(arguments,2):n),U(t.type,a,r||t.key,i||t.ref,null)}h=W.slice,b={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t}},x=0,C.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=G({},this.state),typeof t=="function"&&(t=t(G({},n),this.props)),t&&G(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),z(this))},C.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),z(this))},C.prototype.render=N,E=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,J.__r=0,P=0;var it,He,ht,Ot=0,On=[],Dt=b.__b,cr=b.__r,oo=b.diffed,yt=b.__c,$t=b.unmount;function Zt(t,e){b.__h&&b.__h(He,t,Ot||e),Ot=0;var n=He.__H||(He.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Rr(t){return Ot=1,Ir(Lr,t)}function Ir(t,e,n){var r=Zt(it++,2);return r.t=t,r.__c||(r.__=[n?n(e):Lr(void 0,e),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=He),r.__}function lr(t,e){var n=Zt(it++,4);!b.__s&&sn(n.__H,e)&&(n.__=t,n.__H=e,He.__h.push(n))}function Cn(t,e){var n=Zt(it++,7);return sn(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function et(){On.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(Ne),t.__H.__h.forEach(St),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}),On=[]}b.__b=function(t){He=null,Dt&&Dt(t)},b.__r=function(t){cr&&cr(t),it=0;var e=(He=t.__c).__H;e&&(e.__h.forEach(Ne),e.__h.forEach(St),e.__h=[])},b.diffed=function(t){oo&&oo(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(On.push(e)!==1&&ht===b.requestAnimationFrame||((ht=b.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Tt&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Tt&&(r=requestAnimationFrame(i))})(et)),He=void 0},b.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Ne),n.__h=n.__h.filter(function(r){return!r.__||St(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],b.__e(r,n.__v)}}),yt&&yt(t,e)},b.unmount=function(t){$t&&$t(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(Ne)}catch(n){b.__e(n,e.__v)}};var Tt=typeof requestAnimationFrame=="function";function Ne(t){var e=He;typeof t.__c=="function"&&t.__c(),He=e}function St(t){var e=He;t.__c=t.__(),He=e}function sn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Lr(t,e){return typeof e=="function"?e(t):e}function fr(t,e){for(var n in e)t[n]=e[n];return t}function cn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function ge(t){this.props=t}(ge.prototype=new C).isPureReactComponent=!0,ge.prototype.shouldComponentUpdate=function(t,e){return cn(this.props,t)||cn(this.state,e)};var Ee=b.__b;b.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ee&&Ee(t)};var Te=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Me(t){function e(n,r){var i=fr({},n);return delete i.ref,t(i,(r=n.ref||r)&&(typeof r!="object"||"current"in r)?r:null)}return e.$$typeof=Te,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var at=function(t,e){return t==null?null:ie(ie(t).map(e))},qn={map:at,forEach:at,count:function(t){return t?ie(t).length:0},only:function(t){var e=ie(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ie},zr=b.__e;b.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}zr(t,e,n)};var Ut=b.unmount;function qt(){this.__u=0,this.t=null,this.__b=null}function io(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function wn(){this.u=null,this.o=null}b.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ut&&Ut(t)},(qt.prototype=new C).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=io(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var d=r.state.__e;r.__v.__k[0]=function j(A,M,F){return A&&(A.__v=null,A.__k=A.__k&&A.__k.map(function($){return j($,M,F)}),A.__c&&A.__c.__P===M&&(A.__e&&F.insertBefore(A.__e,A.__d),A.__c.__e=!0,A.__c.__P=F)),A}(d,d.__c.__P,d.__c.__O)}var _;for(r.setState({__e:r.__b=null});_=r.t.pop();)_.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},qt.prototype.componentWillUnmount=function(){this.t=[]},qt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,s,l){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(d){typeof d.__c=="function"&&d.__c()}),a.__c.__H=null),(a=fr({},a)).__c!=null&&(a.__c.__P===l&&(a.__c.__P=s),a.__c=null),a.__k=a.__k&&a.__k.map(function(d){return o(d,s,l)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&R(N,null,t.fallback);return i&&(i.__h=null),[R(N,null,e.__e?null:t.children),i]};var Xo=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function ao(t){return this.getChildContext=function(){return t.context},t.children}function gu(t){var e=this,n=t.i;e.componentWillUnmount=function(){ze(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),ze(R(ao,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(wn.prototype=new C).__e=function(t){var e=this,n=io(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),Xo(e,t,r)):i()};n?n(o):o()}},wn.prototype.render=function(t){this.u=null,this.o=new Map;var e=ie(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},wn.prototype.componentDidUpdate=wn.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Xo(t,n,e)})};var Ho=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Rn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Wi=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};C.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(C.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Go=b.event;function Vi(){}function bu(){return this.cancelBubble}function Br(){return this.defaultPrevented}b.event=function(t){return Go&&(t=Go(t)),t.persist=Vi,t.isPropagationStopped=bu,t.isDefaultPrevented=Br,t.nativeEvent=t};var pr,xn={configurable:!0,get:function(){return this.class}},Yi=b.vnode;b.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!Wi(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():Rn.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=ie(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=ie(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(xn.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",xn)),t.$$typeof=Ho,Yi&&Yi(t)};var En=b.__r;b.__r=function(t){En&&En(t),pr=t.__c};function Jn(t){return!!t&&t.$$typeof===Ho}function dr(t){return t&&(t.base||t.nodeType===1&&t)||null}var Fr=function(t,e){return t(e)},Wo={useState:Rr,useReducer:Ir,useEffect:function(t,e){var n=Zt(it++,3);!b.__s&&sn(n.__H,e)&&(n.__=t,n.__H=e,He.__H.__h.push(n))},useLayoutEffect:lr,useRef:function(t){return Ot=5,Cn(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){Ot=6,lr(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))},useMemo:Cn,useCallback:function(t,e){return Ot=8,Cn(function(){return t},e)},useContext:function(t){var e=He.context[t.__c],n=Zt(it++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(He)),e.props.value):t.__},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)},version:"17.0.2",Children:qn,render:function(t,e,n){return e.__k==null&&(e.textContent=""),ze(t,e),typeof n=="function"&&n(),t?t.__c:null},hydrate:function(t,e,n){return Kt(t,e),typeof n=="function"&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(ze(null,t),!0)},createPortal:function(t,e){return R(gu,{__v:t,i:e})},createElement:R,createContext:function(t,e){var n={__c:e="__cC"+P++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(z)},this.sub=function(a){i.push(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),s&&s.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(t){return R.bind(null,t)},cloneElement:function(t){return Jn(t)?_n.apply(null,arguments):t},createRef:V,Fragment:N,isValidElement:Jn,findDOMNode:dr,Component:C,PureComponent:ge,memo:function(t,e){function n(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!a:cn(this.props,i)}function r(i){return this.shouldComponentUpdate=n,R(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:Me,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:Fr,StrictMode:N,Suspense:qt,SuspenseList:wn,lazy:function(t){var e,n,r;function i(o){if(e||(e=t()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw e;return R(n,o)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return pr.__n[t.__c].props.value}}}}};/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function he(t){return(he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ur(t,e,n){return e&&Vo(t.prototype,e),n&&Vo(t,n),t}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yo(t,e)}function Xr(t){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Yo(t,e){return(Yo=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qn(t,e){return!e||typeof e!="object"&&typeof e!="function"?function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t):e}function so(t,e){return t(e={exports:{}},e.exports),e.exports}var Hr,Ze=so(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,_=n?Symbol.for("react.async_mode"):60111,j=n?Symbol.for("react.concurrent_mode"):60111,A=n?Symbol.for("react.forward_ref"):60112,M=n?Symbol.for("react.suspense"):60113,F=n?Symbol.for("react.memo"):60115,$=n?Symbol.for("react.lazy"):60116;function Y(q){if(typeof q=="object"&&q!==null){var te=q.$$typeof;switch(te){case r:switch(q=q.type){case _:case j:case o:case s:case a:return q;default:switch(q=q&&q.$$typeof){case d:case A:case l:return q;default:return te}}case i:return te}}}function Z(q){return Y(q)===j}e.typeOf=Y,e.AsyncMode=_,e.ConcurrentMode=j,e.ContextConsumer=d,e.ContextProvider=l,e.Element=r,e.ForwardRef=A,e.Fragment=o,e.Profiler=s,e.Portal=i,e.StrictMode=a,e.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===o||q===j||q===s||q===a||q===M||typeof q=="object"&&q!==null&&(q.$$typeof===$||q.$$typeof===F||q.$$typeof===l||q.$$typeof===d||q.$$typeof===A)},e.isAsyncMode=function(q){return Z(q)||Y(q)===_},e.isConcurrentMode=Z,e.isContextConsumer=function(q){return Y(q)===d},e.isContextProvider=function(q){return Y(q)===l},e.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===r},e.isForwardRef=function(q){return Y(q)===A},e.isFragment=function(q){return Y(q)===o},e.isProfiler=function(q){return Y(q)===s},e.isPortal=function(q){return Y(q)===i},e.isStrictMode=function(q){return Y(q)===a}});(Hr=Ze)&&Hr.__esModule&&Object.prototype.hasOwnProperty.call(Hr,"default")&&Hr.default,Ze.typeOf,Ze.AsyncMode,Ze.ConcurrentMode,Ze.ContextConsumer,Ze.ContextProvider,Ze.Element,Ze.ForwardRef,Ze.Fragment,Ze.Profiler,Ze.Portal,Ze.StrictMode,Ze.isValidElementType,Ze.isAsyncMode,Ze.isConcurrentMode,Ze.isContextConsumer,Ze.isContextProvider,Ze.isElement,Ze.isForwardRef,Ze.isFragment,Ze.isProfiler,Ze.isPortal,Ze.isStrictMode;var co=so(function(t){t.exports=Ze}),Ki={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},In={};In[co.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var Qt=Object.defineProperty,mu=Object.getOwnPropertyNames,Xt=Object.getOwnPropertySymbols,$i=Object.getOwnPropertyDescriptor,_u=Object.getPrototypeOf,Ko=Object.prototype,Zi=function t(e,n,r){if(typeof n!="string"){if(Ko){var i=_u(n);i&&i!==Ko&&t(e,i,r)}var o=mu(n);Xt&&(o=o.concat(Xt(n)));for(var a=In[e.$$typeof]||Ki,s=In[n.$$typeof]||Ki,l=0;l<o.length;++l){var d=o[l];if(!(vt[d]||r&&r[d]||s&&s[d]||a&&a[d])){var _=$i(n,d);try{Qt(e,d,_)}catch(j){}}}return e}return e},Sn=function(){function t(){uo(this,t),this.listeners=[]}return Ur(t,[{key:"on",value:function(e){var n=this;return this.listeners.push(e),function(){var r=n.listeners.indexOf(e);r!==-1&&n.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(n){return n(e)})}}]),t}();function qi(t){function e(r,i,o,a,s,l){for(var d=arguments.length,_=new Array(d>6?d-6:0),j=6;j<d;j++)_[j-6]=arguments[j];return Object(O.I)(function(){if(a=a||"<<anonymous>>",l=l||o,i[o]==null){if(r){var A=i[o]===null?"null":"undefined";return new Error("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `"+A+"`.")}return null}return t.apply(void 0,[i,o,a,s,l].concat(_))})}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function Ji(t){var e=he(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(n,r){return n==="symbol"||r["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&r instanceof Symbol}(e,t)?"symbol":e}function Ln(t,e){return qi(function(n,r,i,o,a){return Object(O.I)(function(){if(t&&Ji(n[r])===e.toLowerCase())return null;var s;switch(e){case"Array":s=O.w;break;case"Object":s=O.y;break;case"Map":s=O.x;break;default:throw new Error("Unexpected mobxType: ".concat(e))}var l=n[r];if(!s(l)){var d=function(j){var A=Ji(j);if(A==="object"){if(j instanceof Date)return"date";if(j instanceof RegExp)return"regexp"}return A}(l),_=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+d+"` supplied to `"+i+"`, expected `mobx.Observable"+e+"`"+_+".")}return null})})}function lo(t,e){return qi(function(n,r,i,o,a){for(var s=arguments.length,l=new Array(s>5?s-5:0),d=5;d<s;d++)l[d-5]=arguments[d];return Object(O.I)(function(){if(typeof e!="function")return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var _=Ln(t,"Array")(n,r,i);if(_ instanceof Error)return _;for(var j=n[r],A=0;A<j.length;A++)if((_=e.apply(void 0,[j,A,i,o,a+"["+A+"]"].concat(l)))instanceof Error)return _;return null})})}Ln(!1,"Array"),lo.bind(null,!1),Ln(!1,"Map"),Ln(!1,"Object"),Ln(!0,"Array"),lo.bind(null,!0);var $o=Ln(!0,"Object"),Zo=0,qo={};function ln(t){return qo[t]||(qo[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react ".concat(e," (").concat(Zo,")");return Zo++,n}(t)),qo[t]}var Jo=ln("patchMixins"),Qi=ln("patchedDefinition");function ea(t,e){var n=t[Jo]=t[Jo]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Qo(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var a;return t!=null&&(a=t.apply(this,i)),a}finally{e.locks--,e.locks===0&&e.methods.forEach(function(s){s.apply(n,i)})}}function ta(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Qo.call.apply(Qo,[this,t,e].concat(r))}}function na(t,e){for(var n=ea(t,e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];for(var a=0;a<i.length;a++){var s=i[a];n.methods.indexOf(s)<0&&n.methods.push(s)}var l=Object.getOwnPropertyDescriptor(t,e);if(!l||!l[Qi]){var d=t[e],_=ra(t,e,l?l.enumerable:void 0,n,d);Object.defineProperty(t,e,_)}}function ra(t,e,n,r,i){var o,a=ta(i,r);return Ct(o={},Qi,!0),Ct(o,"get",function(){return a}),Ct(o,"set",function(s){if(this===t)a=ta(s,r);else{var l=ra(this,e,n,r,s);Object.defineProperty(this,e,l)}}),Ct(o,"configurable",!0),Ct(o,"enumerable",n),o}var ei={mobxStores:$o};Object.seal(ei);var oa={contextTypes:{get:function(){return ei},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function ia(t,e,n){var r="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");n&&(r+="-with-"+n);var i=function(o){function a(){var s,l;uo(this,a);for(var d=arguments.length,_=new Array(d),j=0;j<d;j++)_[j]=arguments[j];return(l=Qn(this,(s=Xr(a)).call.apply(s,[this].concat(_)))).storeRef=function(A){l.wrappedInstance=A},l}return Jt(a,o),Ur(a,[{key:"render",value:function(){var s={};for(var l in this.props)this.props.hasOwnProperty(l)&&(s[l]=this.props[l]);var d=t(this.context.mobxStores||{},s,this.context)||{};for(var _ in d)s[_]=d[_];return function(j){return!(j.prototype&&j.prototype.render)}(e)||(s.ref=this.storeRef),R(e,s)}}]),a}(C);return i.displayName=r,Zi(i,e),i.wrappedComponent=e,Object.defineProperties(i,oa),i}function Ou(t){return function(e,n){return t.forEach(function(r){if(!(r in n)){if(!(r in e))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");n[r]=e[r]}}),n}}function aa(){var t;if(typeof arguments[0]=="function")return t=arguments[0],function(r){var i=ia(t,r);return i.isMobxInjector=!1,(i=lt(i)).isMobxInjector=!0,i};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=Ou(e),function(r){return ia(t,r,e.join("-"))}}var er=O.a||"$mobx",tr=ln("isUnmounted"),nr=!1,ua=!1,hr=typeof WeakMap!="undefined"?new WeakMap:void 0,ti=new Sn,jn=ln("skipRender"),fo=ln("isForcingUpdate"),sa=Me(function(t,e){}).$$typeof;function ct(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function ca(t){if(dr)try{return dr(t)}catch(e){return null}return null}function ni(t){var e=ca(t);e&&hr&&hr.set(e,t),ti.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}var wu=new Sn;function en(t,e){if(yr(t,e))return!0;if(he(t)!=="object"||t===null||he(e)!=="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(e,n[i])||!yr(t[n[i]],e[n[i]]))return!1;return!0}function yr(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function fn(t){var e=this;function n(){var l=this;a=!1;var d=void 0,_=void 0;if(s.track(function(){nr&&(l.__$mobRenderStart=Date.now());try{_=Object(O.d)(!1,o)}catch(j){d=j}nr&&(l.__$mobRenderEnd=Date.now())}),d)throw wu.emit(d),d;return _}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ct(this,jn,!1),ct(this,fo,!1);var o=t.bind(this),a=!1,s=new O.c("".concat(r,"#").concat(i,".render()"),function(){if(!a&&(a=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e[tr]!==!0)){var l=!0;try{ct(e,fo,!0),e[jn]||C.prototype.forceUpdate.call(e),l=!1}finally{ct(e,fo,!1),l&&s.dispose()}}});return s.reactComponent=this,n[er]=s,this.render=n,n.call(this)}var Rt={componentWillUnmount:function(){if(this.render[er]&&this.render[er].dispose(),this[tr]=!0,nr){var t=ca(this);t&&hr&&hr.delete(t),ti.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){nr&&ni(this)},componentDidUpdate:function(){nr&&ni(this)},shouldComponentUpdate:function(t,e){return this.state!==e||!en(this.props,t)}};function vr(t,e){var n=ln("reactProp_".concat(e,"_valueHolder")),r=ln("reactProp_".concat(e,"_atomHolder"));function i(){return this[r]||ct(this,r,Object(O.m)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(o){this[fo]||en(this[n],o)?ct(this,n,o):(ct(this,n,o),ct(this,jn,!0),i.call(this).reportChanged(),ct(this,jn,!1))}})}function lt(t,e){if(typeof t=="string")throw new Error("Store names should be provided as array");if(Array.isArray(t))return ua||(ua=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?aa.apply(null,t)(lt(e)):function(d){return lt(t,d)};var n=t;if(n.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===ge&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),sa&&n.$$typeof===sa){var r=n.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Me(function(){var d=arguments;return Wo.createElement(Gr,null,function(){return r.apply(void 0,d)})})}if(!(typeof n!="function"||n.prototype&&n.prototype.render||n.isReactClass||C.isPrototypeOf(n))){var i,o,a=lt((o=i=function(d){function _(){return uo(this,_),Qn(this,Xr(_).apply(this,arguments))}return Jt(_,d),Ur(_,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),_}(C),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,o));return Zi(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var s=n.prototype||n;(function(d){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(_){(function(j,A){na(j,A,Rt[A])})(d,_)}),d.shouldComponentUpdate?d.shouldComponentUpdate!==Rt.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):d.shouldComponentUpdate=Rt.shouldComponentUpdate})(s),n.isMobXReactObserver=!0,vr(s,"props"),vr(s,"state");var l=s.render;return s.render=function(){return fn.call(this,l)},n}var Gr=lt(function(t){var e=t.children,n=t.inject,r=t.render,i=e||r;if(i===void 0)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var o=aa(n)(i);return Wo.createElement(o,null)});Gr.displayName="Observer";var po=function(t,e,n,r,i){var o=e==="children"?"render":"children";return typeof t[e]=="function"&&typeof t[o]=="function"?new Error("Invalid prop,do not use children and render in the same time in`"+n):typeof t[e]!="function"&&typeof t[o]!="function"?new Error("Invalid prop `"+i+"` of type `"+he(t[e])+"` supplied to `"+n+"`, expected `function`."):void 0};function gr(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Wr(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return n!=null?n:null}.bind(this))}function la(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Gr.propTypes={render:po,children:po},gr.__suppressDeprecationWarning=!0,Wr.__suppressDeprecationWarning=!0,la.__suppressDeprecationWarning=!0;var ri={children:!0,key:!0,ref:!0},Vr=function(t){function e(n,r){var i;return uo(this,e),(i=Qn(this,Xr(e).call(this,n,r))).state={},ho(n,i.state),i}return Jt(e,t),Ur(e,[{key:"render",value:function(){return qn.only(this.props.children)}},{key:"getChildContext",value:function(){var n={};return ho(this.context.mobxStores,n),ho(this.props,n),{mobxStores:n}}}],[{key:"getDerivedStateFromProps",value:function(n,r){if(!n)return null;if(!r)return n;if(Object.keys(n).filter(It).length!==Object.keys(r).filter(It).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!n.suppressChangedStoreWarning)for(var i in n)It(i)&&r[i]!==n[i]&&console.warn("MobX Provider: Provided store '"+i+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return n}}]),e}(C);function ho(t,e){if(t)for(var n in t)It(n)&&(e[n]=t[n])}function It(t){return!ri[t]&&t!=="suppressChangedStoreWarning"}if(Vr.contextTypes={mobxStores:$o},Vr.childContextTypes={mobxStores:$o.isRequired},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=gr,e.componentWillReceiveProps=Wr),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=la;var s=e.componentDidUpdate;e.componentDidUpdate=function(l,d,_){var j=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;s.call(this,l,d,j)}}}(Vr),ln("disposeOnUnmount"),!C)throw new Error("mobx-react requires React to be available");if(!O.F)throw new Error("mobx-react requires mobx to be available");if(Object(O.l)({reactionScheduler:Fr}),(typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="undefined"?"undefined":he(__MOBX_DEVTOOLS_GLOBAL_HOOK__))==="object"){var xu={spy:O.F,extras:{getDebugName:O.r}},fa={renderReporter:ti,componentByNodeRegistry:hr,componentByNodeRegistery:hr,trackComponents:function(){if(typeof WeakMap=="undefined")throw new Error("[mobx-react] tracking components is not supported in this browser.");nr||(nr=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(fa,xu)}u(1),u(78),u(3),u(5),u(4),u(8),u(17),u(36),u(12),u(2),u(19),u(13),u(20),u(6),u(7),u(14),u(18),u(159),u(164),u(81),u(130),u(131);var pa=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},oi=function(){this.__data__=[],this.size=0},yo=function(t,e){return t===e||t!=t&&e!=e},Ht=function(t,e){for(var n=t.length;n--;)if(yo(t[n][0],e))return n;return-1},Eu=Array.prototype.splice,Yr=function(t){var e=this.__data__,n=Ht(e,t);return!(n<0)&&(n==e.length-1?e.pop():Eu.call(e,n,1),--this.size,!0)},vo=function(t){var e=this.__data__,n=Ht(e,t);return n<0?void 0:e[n][1]},Gt=function(t){return Ht(this.__data__,t)>-1},Su=function(t,e){var n=this.__data__,r=Ht(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Pn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pn.prototype.clear=oi,Pn.prototype.delete=Yr,Pn.prototype.get=vo,Pn.prototype.has=Gt,Pn.prototype.set=Su;var Lt=Pn,da=function(){this.__data__=new Lt,this.size=0},ii=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},ju=function(t){return this.__data__.get(t)},ha=function(t){return this.__data__.has(t)},pn=u(22),zt=pn.a.Symbol,ya=Object.prototype,dn=ya.hasOwnProperty,hn=ya.toString,An=zt?zt.toStringTag:void 0,va=function(t){var e=dn.call(t,An),n=t[An];try{t[An]=void 0;var r=!0}catch(o){}var i=hn.call(t);return r&&(e?t[An]=n:delete t[An]),i},ga=Object.prototype.toString,ai=function(t){return ga.call(t)},ui=zt?zt.toStringTag:void 0,br=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ui&&ui in Object(t)?va(t):ai(t)},Bt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},g,m=function(t){if(!Bt(t))return!1;var e=br(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},w=pn.a["__core-js_shared__"],D=(g=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",T=function(t){return!!D&&D in t},X=Function.prototype.toString,Q=function(t){if(t!=null){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""},le=/^\[object .+?Constructor\]$/,me=Function.prototype,De=Object.prototype,xe=me.toString,Be=De.hasOwnProperty,Fe=RegExp("^"+xe.call(Be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xe=function(t){return!(!Bt(t)||T(t))&&(m(t)?Fe:le).test(Q(t))},Je=function(t,e){return t==null?void 0:t[e]},Ve=function(t,e){var n=Je(t,e);return Xe(n)?n:void 0},ot=Ve(pn.a,"Map"),gt=Ve(Object,"create"),si=function(){this.__data__=gt?gt(null):{},this.size=0},Lg=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zg=Object.prototype.hasOwnProperty,Bg=function(t){var e=this.__data__;if(gt){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return zg.call(e,t)?e[t]:void 0},Fg=Object.prototype.hasOwnProperty,Ug=function(t){var e=this.__data__;return gt?e[t]!==void 0:Fg.call(e,t)},Xg=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gt&&e===void 0?"__lodash_hash_undefined__":e,this};function go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}go.prototype.clear=si,go.prototype.delete=Lg,go.prototype.get=Bg,go.prototype.has=Ug,go.prototype.set=Xg;var Gc=go,Hg=function(){this.size=0,this.__data__={hash:new Gc,map:new(ot||Lt),string:new Gc}},Gg=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ba=function(t,e){var n=t.__data__;return Gg(e)?n[typeof e=="string"?"string":"hash"]:n.map},Wg=function(t){var e=ba(this,t).delete(t);return this.size-=e?1:0,e},Vg=function(t){return ba(this,t).get(t)},Yg=function(t){return ba(this,t).has(t)},Kg=function(t,e){var n=ba(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function bo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bo.prototype.clear=Hg,bo.prototype.delete=Wg,bo.prototype.get=Vg,bo.prototype.has=Yg,bo.prototype.set=Kg;var ma=bo,$g=function(t,e){var n=this.__data__;if(n instanceof Lt){var r=n.__data__;if(!ot||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ma(r)}return n.set(t,e),this.size=n.size,this};function mo(t){var e=this.__data__=new Lt(t);this.size=e.size}mo.prototype.clear=da,mo.prototype.delete=ii,mo.prototype.get=ju,mo.prototype.has=ha,mo.prototype.set=$g;var ci=mo,Zg=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},qg=function(t){return this.__data__.has(t)};function _a(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ma;++e<n;)this.add(t[e])}_a.prototype.add=_a.prototype.push=Zg,_a.prototype.has=qg;var Jg=_a,Qg=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},eb=function(t,e){return t.has(e)},Wc=function(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var d=o.get(t),_=o.get(e);if(d&&_)return d==e&&_==t;var j=-1,A=!0,M=2&n?new Jg:void 0;for(o.set(t,e),o.set(e,t);++j<s;){var F=t[j],$=e[j];if(r)var Y=a?r($,F,j,e,t,o):r(F,$,j,t,e,o);if(Y!==void 0){if(Y)continue;A=!1;break}if(M){if(!Qg(e,function(Z,q){if(!eb(M,q)&&(F===Z||i(F,Z,n,r,o)))return M.push(q)})){A=!1;break}}else if(F!==$&&!i(F,$,n,r,o)){A=!1;break}}return o.delete(t),o.delete(e),A},Oa=pn.a.Uint8Array,tb=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},nb=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Vc=zt?zt.prototype:void 0,Pu=Vc?Vc.valueOf:void 0,rb=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Oa(t),new Oa(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return yo(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=tb;case"[object Set]":var l=1&r;if(s||(s=nb),t.size!=e.size&&!l)return!1;var d=a.get(t);if(d)return d==e;r|=2,a.set(t,e);var _=Wc(s(t),s(e),r,i,o,a);return a.delete(t),_;case"[object Symbol]":if(Pu)return Pu.call(t)==Pu.call(e)}return!1},Au=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},tn=Array.isArray,Yc=function(t,e,n){var r=e(t);return tn(t)?r:Au(r,n(t))},ob=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Kc=function(){return[]},ib=Object.prototype.propertyIsEnumerable,$c=Object.getOwnPropertySymbols,ku=$c?function(t){return t==null?[]:(t=Object(t),ob($c(t),function(e){return ib.call(t,e)}))}:Kc,ab=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},mr=function(t){return t!=null&&typeof t=="object"},Zc=function(t){return mr(t)&&br(t)=="[object Arguments]"},qc=Object.prototype,ub=qc.hasOwnProperty,sb=qc.propertyIsEnumerable,Du=Zc(function(){return arguments}())?Zc:function(t){return mr(t)&&ub.call(t,"callee")&&!sb.call(t,"callee")},wa=u(48),cb=/^(?:0|[1-9]\d*)$/,xa=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&cb.test(t))&&t>-1&&t%1==0&&t<e},Tu=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Qe={};Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe["[object Arguments]"]=Qe["[object Array]"]=Qe["[object ArrayBuffer]"]=Qe["[object Boolean]"]=Qe["[object DataView]"]=Qe["[object Date]"]=Qe["[object Error]"]=Qe["[object Function]"]=Qe["[object Map]"]=Qe["[object Number]"]=Qe["[object Object]"]=Qe["[object RegExp]"]=Qe["[object Set]"]=Qe["[object String]"]=Qe["[object WeakMap]"]=!1;var lb=function(t){return mr(t)&&Tu(t.length)&&!!Qe[br(t)]},Mu=function(t){return function(e){return t(e)}},_o=u(42),Jc=_o.a&&_o.a.isTypedArray,Qc=Jc?Mu(Jc):lb,fb=Object.prototype.hasOwnProperty,el=function(t,e){var n=tn(t),r=!n&&Du(t),i=!n&&!r&&Object(wa.a)(t),o=!n&&!r&&!i&&Qc(t),a=n||r||i||o,s=a?ab(t.length,String):[],l=s.length;for(var d in t)!e&&!fb.call(t,d)||a&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||xa(d,l))||s.push(d);return s},pb=Object.prototype,Ea=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||pb)},tl=function(t,e){return function(n){return t(e(n))}},db=tl(Object.keys,Object),hb=Object.prototype.hasOwnProperty,yb=function(t){if(!Ea(t))return db(t);var e=[];for(var n in Object(t))hb.call(t,n)&&n!="constructor"&&e.push(n);return e},Oo=function(t){return t!=null&&Tu(t.length)&&!m(t)},wo=function(t){return Oo(t)?el(t):yb(t)},Nu=function(t){return Yc(t,wo,ku)},vb=Object.prototype.hasOwnProperty,gb=function(t,e,n,r,i,o){var a=1&n,s=Nu(t),l=s.length;if(l!=Nu(e).length&&!a)return!1;for(var d=l;d--;){var _=s[d];if(!(a?_ in e:vb.call(e,_)))return!1}var j=o.get(t),A=o.get(e);if(j&&A)return j==e&&A==t;var M=!0;o.set(t,e),o.set(e,t);for(var F=a;++d<l;){var $=t[_=s[d]],Y=e[_];if(r)var Z=a?r(Y,$,_,e,t,o):r($,Y,_,t,e,o);if(!(Z===void 0?$===Y||i($,Y,n,r,o):Z)){M=!1;break}F||(F=_=="constructor")}if(M&&!F){var q=t.constructor,te=e.constructor;q==te||!("constructor"in t)||!("constructor"in e)||typeof q=="function"&&q instanceof q&&typeof te=="function"&&te instanceof te||(M=!1)}return o.delete(t),o.delete(e),M},Cu=Ve(pn.a,"DataView"),Ru=Ve(pn.a,"Promise"),Iu=Ve(pn.a,"Set"),Lu=Ve(pn.a,"WeakMap"),bb=Q(Cu),mb=Q(ot),_b=Q(Ru),Ob=Q(Iu),wb=Q(Lu),Kr=br;(Cu&&Kr(new Cu(new ArrayBuffer(1)))!="[object DataView]"||ot&&Kr(new ot)!="[object Map]"||Ru&&Kr(Ru.resolve())!="[object Promise]"||Iu&&Kr(new Iu)!="[object Set]"||Lu&&Kr(new Lu)!="[object WeakMap]")&&(Kr=function(t){var e=br(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Q(n):"";if(r)switch(r){case bb:return"[object DataView]";case mb:return"[object Map]";case _b:return"[object Promise]";case Ob:return"[object Set]";case wb:return"[object WeakMap]"}return e});var li=Kr,nl=Object.prototype.hasOwnProperty,xb=function(t,e,n,r,i,o){var a=tn(t),s=tn(e),l=a?"[object Array]":li(t),d=s?"[object Array]":li(e),_=(l=l=="[object Arguments]"?"[object Object]":l)=="[object Object]",j=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",A=l==d;if(A&&Object(wa.a)(t)){if(!Object(wa.a)(e))return!1;a=!0,_=!1}if(A&&!_)return o||(o=new ci),a||Qc(t)?Wc(t,e,n,r,i,o):rb(t,e,l,n,r,i,o);if(!(1&n)){var M=_&&nl.call(t,"__wrapped__"),F=j&&nl.call(e,"__wrapped__");if(M||F){var $=M?t.value():t,Y=F?e.value():e;return o||(o=new ci),i($,Y,n,r,o)}}return!!A&&(o||(o=new ci),gb(t,e,n,r,i,o))},zu=function t(e,n,r,i,o){return e===n||(e==null||n==null||!mr(e)&&!mr(n)?e!=e&&n!=n:xb(e,n,r,i,t,o))},Eb=function(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],d=t[l],_=s[1];if(a&&s[2]){if(d===void 0&&!(l in t))return!1}else{var j=new ci;if(r)var A=r(d,_,l,t,e,j);if(!(A===void 0?zu(_,d,3,r,j):A))return!1}}return!0},rl=function(t){return t==t&&!Bt(t)},Sb=function(t){for(var e=wo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,rl(i)]}return e},ol=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},jb=function(t){var e=Sb(t);return e.length==1&&e[0][2]?ol(e[0][0],e[0][1]):function(n){return n===t||Eb(n,t,e)}},Sa=function(t){return typeof t=="symbol"||mr(t)&&br(t)=="[object Symbol]"},Pb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ab=/^\w*$/,Bu=function(t,e){if(tn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Sa(t))||Ab.test(t)||!Pb.test(t)||e!=null&&t in Object(e)};function Fu(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Fu.Cache||ma),n}Fu.Cache=ma;var kb=Fu,Db=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tb=/\\(\\)?/g,Mb=function(t){var e=kb(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Db,function(n,r,i,o){e.push(i?o.replace(Tb,"$1"):r||n)}),e}),il=zt?zt.prototype:void 0,al=il?il.toString:void 0,Nb=function t(e){if(typeof e=="string")return e;if(tn(e))return pa(e,t)+"";if(Sa(e))return al?al.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Cb=function(t){return t==null?"":Nb(t)},ja=function(t,e){return tn(t)?t:Bu(t,e)?[t]:Mb(Cb(t))},fi=function(t){if(typeof t=="string"||Sa(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Uu=function(t,e){for(var n=0,r=(e=ja(e,t)).length;t!=null&&n<r;)t=t[fi(e[n++])];return n&&n==r?t:void 0},ul=function(t,e,n){var r=t==null?void 0:Uu(t,e);return r===void 0?n:r},Rb=function(t,e){return t!=null&&e in Object(t)},Ib=function(t,e,n){for(var r=-1,i=(e=ja(e,t)).length,o=!1;++r<i;){var a=fi(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&Tu(i)&&xa(a,i)&&(tn(t)||Du(t))},sl=function(t,e){return t!=null&&Ib(t,e,Rb)},Lb=function(t,e){return Bu(t)&&rl(e)?ol(fi(t),e):function(n){var r=ul(n,t);return r===void 0&&r===e?sl(n,t):zu(e,r,3)}},Xu=function(t){return t},zb=function(t){return function(e){return e==null?void 0:e[t]}},Bb=function(t){return function(e){return Uu(e,t)}},Fb=function(t){return Bu(t)?zb(fi(t)):Bb(t)},Ub=function(t){return typeof t=="function"?t:t==null?Xu:typeof t=="object"?tn(t)?Lb(t[0],t[1]):jb(t):Fb(t)},Xb=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}(),Hb=function(t,e){return function(n,r){if(n==null)return n;if(!Oo(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}(function(t,e){return t&&Xb(t,e,wo)}),Gb=function(t,e){var n=-1,r=Oo(t)?Array(t.length):[];return Hb(t,function(i,o,a){r[++n]=e(i,o,a)}),r},Pa=function(t,e){return(tn(t)?pa:Gb)(t,Ub(e))},Aa=function(){try{var t=Ve(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),cl=function(t,e,n){e=="__proto__"&&Aa?Aa(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Wb=Object.prototype.hasOwnProperty,ka=function(t,e,n){var r=t[e];Wb.call(t,e)&&yo(r,n)&&(n!==void 0||e in t)||cl(t,e,n)},pi=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),i?cl(n,s,l):ka(n,s,l)}return n},Vb=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ll=Math.max,fl=function(t,e,n){return e=ll(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ll(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Vb(t,this,s)}},Yb=function(t){return function(){return t}},Kb=Aa?function(t,e){return Aa(t,"toString",{configurable:!0,enumerable:!1,value:Yb(e),writable:!0})}:Xu,$b=Date.now,pl=function(t){var e=0,n=0;return function(){var r=$b(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Kb),Zb=function(t,e){return pl(fl(t,e,Xu),t+"")},qb=function(t,e,n){if(!Bt(n))return!1;var r=typeof e;return!!(r=="number"?Oo(n)&&xa(e,n.length):r=="string"&&e in n)&&yo(n[e],t)},Jb=function(t){return Zb(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&qb(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})},Qb=Object.prototype.hasOwnProperty,ut=Jb(function(t,e){if(Ea(e)||Oo(e))pi(e,wo(e),t);else for(var n in e)Qb.call(e,n)&&ka(t,n,e[n])}),em=function(t,e,n,r){if(!Bt(t))return t;for(var i=-1,o=(e=ja(e,t)).length,a=o-1,s=t;s!=null&&++i<o;){var l=fi(e[i]),d=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var _=s[l];(d=r?r(_,l,s):void 0)===void 0&&(d=Bt(_)?_:xa(e[i+1])?[]:{})}ka(s,l,d),s=s[l]}return t},tm=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Uu(t,a);n(s,a)&&em(o,ja(a,t),s)}return o},nm=function(t,e){return tm(t,e,function(n,r){return sl(t,r)})},dl=zt?zt.isConcatSpreadable:void 0,rm=function(t){return tn(t)||Du(t)||!!(dl&&t&&t[dl])},om=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=rm),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):Au(o,l):i||(o[o.length]=l)}return o},im=function(t){return(t==null?0:t.length)?om(t,1):[]},ft,hl,yl,vl,gl,bl,ml,_l,Ol,wl,xl,El,Sl,jl,Pl,Al,kl,zn=function(t){return pl(fl(t,void 0,im),t+"")}(function(t,e){return t==null?{}:nm(t,e)});function Mt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function am(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var $e,Tl,Ie,bt,Ce,nt,um={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},Hu=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"],Ml=(hl=jt((ft=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Mt(this,"stopZoomGraph",hl,this),Mt(this,"stopScrollGraph",yl,this),Mt(this,"stopMoveGraph",vl,this),Mt(this,"adjustEdge",gl,this),Mt(this,"adjustEdgeMiddle",bl,this),Mt(this,"adjustEdgeStartAndEnd",ml,this),Mt(this,"adjustNodePosition",_l,this),Mt(this,"hideAnchors",Ol,this),Mt(this,"hoverOutline",wl,this),Mt(this,"nodeSelectedOutline",xl,this),Mt(this,"edgeSelectedOutline",El,this),Mt(this,"nodeTextEdit",Sl,this),Mt(this,"edgeTextEdit",jl,this),Mt(this,"nodeTextDraggable",Pl,this),Mt(this,"edgeTextDraggable",Al,this),Mt(this,"metaKeyMultipleSelected",kl,this),Dl(this,"extraConf",{}),Dl(this,"defaultConfig",{}),ut(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);ut(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,a={};if(i===!1&&ut(a,this.defaultConfig),i===!0){var s=zn(um,Hu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},ut(a,s)}o===!1&&ut(a,{nodeTextEdit:!1,edgeTextEdit:!1});var l=zn(r,Hu);return ut(a,l)}},{key:"getConfig",value:function(){return zn(this,Hu)}}])&&am(e.prototype,n),t}()).prototype,"stopZoomGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yl=jt(ft.prototype,"stopScrollGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vl=jt(ft.prototype,"stopMoveGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gl=jt(ft.prototype,"adjustEdge",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bl=jt(ft.prototype,"adjustEdgeMiddle",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ml=jt(ft.prototype,"adjustEdgeStartAndEnd",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_l=jt(ft.prototype,"adjustNodePosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=jt(ft.prototype,"hideAnchors",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wl=jt(ft.prototype,"hoverOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xl=jt(ft.prototype,"nodeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),El=jt(ft.prototype,"edgeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sl=jt(ft.prototype,"nodeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jl=jt(ft.prototype,"edgeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pl=jt(ft.prototype,"nodeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Al=jt(ft.prototype,"edgeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kl=jt(ft.prototype,"metaKeyMultipleSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jt(ft.prototype,"updateEditConfig",[O.i],Object.getOwnPropertyDescriptor(ft.prototype,"updateEditConfig"),ft.prototype),ft);(function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})($e||($e={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(Tl||(Tl={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Ie||(Ie={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(bt||(bt={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(Ce||(Ce={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(nt||(nt={}));var Bn,pt,Nl,Cl,Rl,Il,Ll,zl,Bl;function Da(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Fl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $r(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function sm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Bn||(Bn={}));var cm=(Nl=kn((pt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Gu(this,"MINI_SCALE_SIZE",.2),Gu(this,"MAX_SCALE_SIZE",16),$r(this,"SCALE_X",Nl,this),$r(this,"SKEW_Y",Cl,this),$r(this,"SKEW_X",Rl,this),$r(this,"SCALE_Y",Il,this),$r(this,"TRANSLATE_X",Ll,this),$r(this,"TRANSLATE_Y",zl,this),$r(this,"ZOOM_SIZE",Bl,this),Gu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=Da(r,2),o=i[0],a=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=Da(r,2),o=i[0],a=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var a=Da(r,2),s=a[0],l=a[1];return[s+i/this.SCALE_X,l+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=r?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(o<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||o>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=o,this.SCALE_Y+=o,i&&(this.TRANSLATE_X-=o*i[0],this.TRANSLATE_Y-=o*i[1]),this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Ce.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,a){var s=Da(this.CanvasPointToHtmlPoint([r,i]),2),l=o/2-s[0],d=a/2-s[1];this.TRANSLATE_X+=l,this.TRANSLATE_Y+=d,this.emitGraphTransform("focusOn")}}])&&sm(e.prototype,n),t}()).prototype,"SCALE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cl=kn(pt.prototype,"SKEW_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Rl=kn(pt.prototype,"SKEW_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Il=kn(pt.prototype,"SCALE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ll=kn(pt.prototype,"TRANSLATE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zl=kn(pt.prototype,"TRANSLATE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bl=kn(pt.prototype,"ZOOM_SIZE",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),kn(pt.prototype,"zoom",[O.i],Object.getOwnPropertyDescriptor(pt.prototype,"zoom"),pt.prototype),kn(pt.prototype,"resetZoom",[O.i],Object.getOwnPropertyDescriptor(pt.prototype,"resetZoom"),pt.prototype),kn(pt.prototype,"translate",[O.i],Object.getOwnPropertyDescriptor(pt.prototype,"translate"),pt.prototype),kn(pt.prototype,"focusOn",[O.i],Object.getOwnPropertyDescriptor(pt.prototype,"focusOn"),pt.prototype),pt),lm=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},fm=function(t,e){return t&&pi(e,wo(e),t)},pm=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},dm=Object.prototype.hasOwnProperty,hm=function(t){if(!Bt(t))return pm(t);var e=Ea(t),n=[];for(var r in t)(r!="constructor"||!e&&dm.call(t,r))&&n.push(r);return n},Wu=function(t){return Oo(t)?el(t,!0):hm(t)},ym=function(t,e){return t&&pi(e,Wu(e),t)},vm=u(139),gm=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},bm=function(t,e){return pi(t,ku(t),e)},Ul=tl(Object.getPrototypeOf,Object),Xl=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Au(e,ku(t)),t=Ul(t);return e}:Kc,mm=function(t,e){return pi(t,Xl(t),e)},_m=function(t){return Yc(t,Wu,Xl)},Om=Object.prototype.hasOwnProperty,wm=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Om.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Vu=function(t){var e=new t.constructor(t.byteLength);return new Oa(e).set(new Oa(t)),e},xm=function(t,e){var n=e?Vu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Em=/\w*$/,Sm=function(t){var e=new t.constructor(t.source,Em.exec(t));return e.lastIndex=t.lastIndex,e},Hl=zt?zt.prototype:void 0,Gl=Hl?Hl.valueOf:void 0,jm=function(t){return Gl?Object(Gl.call(t)):{}},Pm=function(t,e){var n=e?Vu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Am=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Vu(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return xm(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Pm(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Sm(t);case"[object Set]":return new r;case"[object Symbol]":return jm(t)}},Wl=Object.create,km=function(){function t(){}return function(e){if(!Bt(e))return{};if(Wl)return Wl(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Dm=function(t){return typeof t.constructor!="function"||Ea(t)?{}:km(Ul(t))},Tm=function(t){return mr(t)&&li(t)=="[object Map]"},Vl=_o.a&&_o.a.isMap,Mm=Vl?Mu(Vl):Tm,Nm=function(t){return mr(t)&&li(t)=="[object Set]"},Yl=_o.a&&_o.a.isSet,Cm=Yl?Mu(Yl):Nm,qe={};qe["[object Arguments]"]=qe["[object Array]"]=qe["[object ArrayBuffer]"]=qe["[object DataView]"]=qe["[object Boolean]"]=qe["[object Date]"]=qe["[object Float32Array]"]=qe["[object Float64Array]"]=qe["[object Int8Array]"]=qe["[object Int16Array]"]=qe["[object Int32Array]"]=qe["[object Map]"]=qe["[object Number]"]=qe["[object Object]"]=qe["[object RegExp]"]=qe["[object Set]"]=qe["[object String]"]=qe["[object Symbol]"]=qe["[object Uint8Array]"]=qe["[object Uint8ClampedArray]"]=qe["[object Uint16Array]"]=qe["[object Uint32Array]"]=!0,qe["[object Error]"]=qe["[object Function]"]=qe["[object WeakMap]"]=!1;var Rm=function t(e,n,r,i,o,a){var s,l=1&n,d=2&n,_=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),s!==void 0)return s;if(!Bt(e))return e;var j=tn(e);if(j){if(s=wm(e),!l)return gm(e,s)}else{var A=li(e),M=A=="[object Function]"||A=="[object GeneratorFunction]";if(Object(wa.a)(e))return Object(vm.a)(e,l);if(A=="[object Object]"||A=="[object Arguments]"||M&&!o){if(s=d||M?{}:Dm(e),!l)return d?mm(e,ym(s,e)):bm(e,fm(s,e))}else{if(!qe[A])return o?e:{};s=Am(e,A,l)}}a||(a=new ci);var F=a.get(e);if(F)return F;a.set(e,s),Cm(e)?e.forEach(function(Y){s.add(t(Y,n,r,Y,e,a))}):Mm(e)&&e.forEach(function(Y,Z){s.set(Z,t(Y,n,r,Z,e,a))});var $=j?void 0:(_?d?_m:Nu:d?Wu:wo)(e);return lm($||e,function(Y,Z){$&&(Y=e[Z=Y]),ka(s,Z,t(Y,n,r,Z,e,a))}),s},Yu=function(t){return Rm(t,5)};function Kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kl(Object(n),!0).forEach(function(r){Im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xo={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},Lm=wt(wt({},xo),{},{width:100,height:80,radius:0}),zm=wt(wt({},xo),{},{r:50}),Bm=wt(wt({},xo),{},{rx:55,ry:45}),Fm=wt(wt({},xo),{},{rx:50,ry:50}),Um=wt({},xo),Xm=wt(wt({},xo),{},{stroke:"#000000",strokeWidth:1,r:4}),Ku={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},Hm=wt({},Ku),Gm=wt(wt({},Ku),{},{offset:30}),Wm=wt(wt({},Ku),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),$l={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},Wt={rect:Lm,circle:zm,diamond:Fm,ellipse:Bm,polygon:Um,anchor:Xm,text:$l,nodeText:wt(wt({},$l),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:Hm,polyline:Gm,bezier:Wm,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#373738",strokeWidth:"2px"}};function Zl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zl(Object(n),!0).forEach(function(r){Vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jl=function(t){var e=Yu(Wt);return t&&Object.keys(t).forEach(function(n){e[n]=ql(ql({},e[n]),t[n])}),e};function Ta(t,e){return e*Math.round(t/e)||t}function Ql(t,e){return t%e}function $u(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ef(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ef(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ef(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zu,qu=function(t,e,n){var r=$u(t,2),i=r[0],o=r[1],a=$u(e,2),s=a[0],l=a[1],d=$u(n,2),_=d[0],j=d[1];return i>s&&i<_&&o>l&&o<j},Ym=(u(30),u(41),u(52),u(63),u(136),u(137),u(64),u(9),u(10),u(11),u(34),new Uint8Array(16));function Km(){if(!Zu&&!(Zu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zu(Ym)}for(var $m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Zm=function(t){return typeof t=="string"&&$m.test(t)},Pt=[],Ju=0;Ju<256;++Ju)Pt.push((Ju+256).toString(16).substr(1));var qm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Pt[t[e+0]]+Pt[t[e+1]]+Pt[t[e+2]]+Pt[t[e+3]]+"-"+Pt[t[e+4]]+Pt[t[e+5]]+"-"+Pt[t[e+6]]+Pt[t[e+7]]+"-"+Pt[t[e+8]]+Pt[t[e+9]]+"-"+Pt[t[e+10]]+Pt[t[e+11]]+Pt[t[e+12]]+Pt[t[e+13]]+Pt[t[e+14]]+Pt[t[e+15]]).toLowerCase();if(!Zm(n))throw TypeError("Stringified UUID is invalid");return n},Qu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Km)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return qm(r)},Eo=function(){return Qu()},Jm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+Qu(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+Qu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},di=(u(83),u(176),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function tf(t){return(tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nf(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ue,of,af,uf,sf,cf,lf,ff,pf,df,hf,yf,vf,gf,bf,mf,_f,Of,wf,xf,Ef,Sf,jf,Pf,es=function(t){return t.anchors},Ma=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(t0(t,e[r])){var i=e0(t,e[r]);if(i){n={node:e[r],anchorIndex:i.index,anchor:i.anchor};break}}return n},e0=function(t,e){for(var n,r=es(e),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var a=Fn(t.x,t.y,r[o].x,r[o].y);a<i&&(i=a,n={index:o,anchor:rf(rf({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Fn=function(t,e,n,r){return Math.hypot(t-n,e-r)},_r=function(t,e){var n=!1,r=nn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},t0=function(t,e){var n=!1,r=nn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},nn=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},Af=function(t,e,n){var r,i=function(a){var s=a,l=s.x,d=s.y,_=s.width,j=s.height,A=s.radius;return[{x:l-_/2+A,y:d-j/2+A,r:A},{x:l+_/2-A,y:d-j/2+A,r:A},{x:l-_/2+A,y:d+j/2-A,r:A},{x:l+_/2-A,y:d+j/2-A,r:A}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(a){var s=Fn(t.x,t.y,a.x,a.y);s<o&&(o=s,r=a)}),ts(t,e,r)},ts=function(t,e,n){var r,i=n,o=i.x,a=i.y,s=i.r;if(e===nt.HORIZONTAL){var l=o-Math.sqrt(s*s-(t.y-a)*(t.y-a)),d=o+Math.sqrt(s*s-(t.y-a)*(t.y-a));r={x:Math.abs(l-t.x)<Math.abs(d-t.x)?l:d,y:t.y}}else if(e===nt.VERTICAL){var _=a-Math.sqrt(s*s-(t.x-o)*(t.x-o)),j=a+Math.sqrt(s*s-(t.x-o)*(t.x-o)),A=Math.abs(_-t.y)<Math.abs(j-t.y)?_:j;r={x:t.x,y:A}}return r},kf=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,s=n.y+n.height/2-n.radius,l=n.x,d=n.y,_=n.width,j=n.height;return t.y===d+j/2||t.y===d-j/2?r=t.x>i&&t.x<o:t.x!==l+_/2&&t.x!==l-_/2||(r=t.y>a&&t.y<s),r},Df=function(t,e,n){var r,i=n,o=i.x,a=i.y,s=i.rx,l=i.ry;if(e===nt.HORIZONTAL){var d=o-Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l)),_=o+Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l));r={x:Math.abs(d-t.x)<Math.abs(_-t.x)?d:_,y:t.y}}else if(e===nt.VERTICAL){var j=a-Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(s*s)),A=a+Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(s*s)),M=Math.abs(j-t.y)<Math.abs(A-t.y)?j:A;r={x:t.x,y:M}}return r},Tf=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,a=[],s=0;s<i.length;s++)a.push({start:i[s],end:i[(s+1)%i.length]});return a.forEach(function(l){var d=l.start,_=l.end,j=d,A=_;d.x>_.x&&(j=_,A=d);var M,F=(A.y-j.y)/(A.x-j.x),$=(j.x*A.y-A.x*j.y)/(j.x-A.x);if(F>Number.MAX_SAFE_INTEGER||$>Number.MAX_SAFE_INTEGER?M={x:t.x,y:t.y}:e===nt.HORIZONTAL?M={x:(t.y-$)/F,y:t.y}:e===nt.VERTICAL&&(M={x:t.x,y:F*t.x+$}),di(M,d,_)){var Y=Fn(M.x,M.y,t.x,t.y);Y<o&&(o=Y,r=M)}}),r},Mf=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},Nf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(s){var l=document.createElement("div");l.textContent=s,o.appendChild(l)}):o.textContent=e,document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},Na=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var a=hs(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},Cf=function(t){return tf(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},yn=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},n0=1e3,r0=999,ns=function(){return++n0};function Rf(t){return(Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ke(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}function If(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var st=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?If(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):If(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},Wt.line),rs=(of=ke((ue=function(){function t(r,i,o){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),Un(this,"id",Eo()),Un(this,"BaseType",bt.EDGE),rt(this,"state",of,this),Un(this,"modelType",Ie.EDGE),Un(this,"additionStateData",void 0),Un(this,"graphModel",void 0),Un(this,"menu",void 0),Un(this,"sourceAnchorId",st.sourceAnchorId),Un(this,"targetAnchorId",st.targetAnchorId),Un(this,"customTextPosition",!1),rt(this,"text",af,this),rt(this,"type",uf,this),rt(this,"properties",sf,this),rt(this,"sourceNodeId",cf,this),rt(this,"targetNodeId",lf,this),rt(this,"startPoint",ff,this),rt(this,"endPoint",pf,this),rt(this,"strokeWidth",df,this),rt(this,"stroke",hf,this),rt(this,"strokeDashArray",yf,this),rt(this,"outlineColor",vf,this),rt(this,"outlineStrokeDashArray",gf,this),rt(this,"strokeOpacity",bf,this),rt(this,"zIndex",mf,this),rt(this,"isSelected",_f,this),rt(this,"isHovered",Of,this),rt(this,"isHitable",wf,this),rt(this,"hoverStroke",xf,this),rt(this,"selectedStroke",Ef,this),rt(this,"points",Sf,this),rt(this,"pointsList",jf,this),rt(this,"draggable",Pf,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var e,n;return e=t,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o);var a=this.createId();a&&(r.id=a)}ut(this,g0(r)),this.graphModel.overlapMode===Bn.INCREASE&&(this.zIndex=r.zIndex||ns())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(r,i){var o,a;return es(r).forEach(function(s){var l=ip(s,i);a?l<a&&(a=l,o=s):(a=l,o=s)}),o}},{key:"getEndAnchor",value:function(r){var i,o,a=this;return es(r).forEach(function(s){var l=ip(s,a.startPoint);o?l<o&&(o=l,i=s):(o=l,i=s)}),i}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(O.G)(this.properties)};return a&&(s.text={x:i,y:o,value:a}),this.graphModel.overlapMode===Bn.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"setProperty",value:function(r,i){this.properties[r]=yn(i),this.setAttributes()}},{key:"setProperties",value:function(r){Object.assign(this.properties,yn(r)),this.setAttributes()}},{key:"updateData",value:function(r){var i=yn(zn(r,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),o=this.text,a=o.x,s=o.y,l=o.draggable,d=o.editable;if(i.text&&typeof i.text=="string"){var _={value:i.text,draggable:l,editable:d},j=this.textPosition;i.text=a||s?Object.assign({},_,{x:a,y:s}):Object.assign({},_,j)}else if(Rf(i.text)==="object"){var A=Object.assign({},this.text,i.text);i.text=zn(A,"x","y","value","draggable","editable")}ut(this,i)}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,a=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||a,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,a=o.x,s=o.y,l=o.value,d=o.draggable,_=o.editable;this.text={value:l,draggable:d,x:a+r,y:s+i,editable:_}}}},{key:"setText",value:function(r){r&&ut(this.text,r)}},{key:"updateText",value:function(r){var i=this.text,o=i.x,a=i.y,s=i.draggable,l=i.editable;this.text={x:o,y:a,draggable:s,editable:l,value:r}}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateStrokeWidth",value:function(r){this.strokeWidth=r}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&ut(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:st.zIndex;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){ut(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&o0(e.prototype,n),t}()).prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),af=ke(ue.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.text}}),uf=ke(ue.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sf=ke(ue.prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),cf=ke(ue.prototype,"sourceNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.sourceNodeId}}),lf=ke(ue.prototype,"targetNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.targetNodeId}}),ff=ke(ue.prototype,"startPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.startPoint}}),pf=ke(ue.prototype,"endPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.endPoint}}),df=ke(ue.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.strokeWidth}}),hf=ke(ue.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.stroke}}),yf=ke(ue.prototype,"strokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.strokeDashArray}}),vf=ke(ue.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.outlineColor}}),gf=ke(ue.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.outlineStrokeDashArray}}),bf=ke(ue.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.strokeOpacity}}),mf=ke(ue.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.zIndex}}),_f=ke(ue.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.isSelected}}),Of=ke(ue.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.isHovered}}),wf=ke(ue.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xf=ke(ue.prototype,"hoverStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.hoverStroke}}),Ef=ke(ue.prototype,"selectedStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.selectedStroke}}),Sf=ke(ue.prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.points}}),jf=ke(ue.prototype,"pointsList",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.pointsList}}),Pf=ke(ue.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ke(ue.prototype,"sourceNode",[O.k],Object.getOwnPropertyDescriptor(ue.prototype,"sourceNode"),ue.prototype),ke(ue.prototype,"targetNode",[O.k],Object.getOwnPropertyDescriptor(ue.prototype,"targetNode"),ue.prototype),ke(ue.prototype,"textPosition",[O.k],Object.getOwnPropertyDescriptor(ue.prototype,"textPosition"),ue.prototype),ke(ue.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setProperty"),ue.prototype),ke(ue.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setProperties"),ue.prototype),ke(ue.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateData"),ue.prototype),ke(ue.prototype,"formatText",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"formatText"),ue.prototype),ke(ue.prototype,"resetTextPosition",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"resetTextPosition"),ue.prototype),ke(ue.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"moveText"),ue.prototype),ke(ue.prototype,"setText",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setText"),ue.prototype),ke(ue.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateText"),ue.prototype),ke(ue.prototype,"setAnchors",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setAnchors"),ue.prototype),ke(ue.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setSelected"),ue.prototype),ke(ue.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setHovered"),ue.prototype),ke(ue.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setHitable"),ue.prototype),ke(ue.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setElementState"),ue.prototype),ke(ue.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateStroke"),ue.prototype),ke(ue.prototype,"updateStrokeWidth",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateStrokeWidth"),ue.prototype),ke(ue.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateStartPoint"),ue.prototype),ke(ue.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateEndPoint"),ue.prototype),ke(ue.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setStyleFromTheme"),ue.prototype),ke(ue.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"setZIndex"),ue.prototype),ke(ue.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"initPoints"),ue.prototype),ke(ue.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateAttributes"),ue.prototype),ke(ue.prototype,"getAdjustStart",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"getAdjustStart"),ue.prototype),ke(ue.prototype,"getAdjustEnd",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"getAdjustEnd"),ue.prototype),ke(ue.prototype,"updateAfterAdjustStartAndEnd",[O.i],Object.getOwnPropertyDescriptor(ue.prototype,"updateAfterAdjustStartAndEnd"),ue.prototype),ue),os=rs;function Lf(t){return(Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function i0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zf(t,e){return(zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function a0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=is(t);if(e){var i=is(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u0(this,n)}}function u0(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bf(t)}function Bf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function is(t){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Le,Ff,as=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&zf(o,a)})(i,t);var e,n,r=a0(i);function i(o,a){var s,l,d,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"line"),l=Bf(s),d="modelType",_=Ie.LINE_EDGE,d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,s}return e=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&i0(e.prototype,n),i}(os);u(37),u(84);function Uf(t){return(Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function s0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Xf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hf(t,e,n){return(Hf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=hi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function Gf(t,e){return(Gf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function l0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hi(t);if(e){var i=hi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f0(this,n)}}function f0(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}function So(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hi(t){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function us(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ss=(Ff=rn((Le=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Gf(o,a)})(i,t);var e,n,r=l0(i);function i(o,a){var s;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),us(So(s=r.call(this,o,a,"polyline")),"modelType",Ie.POLYLINE_EDGE),us(So(s),"offset",Wt.polyline.offset),us(So(s),"draginngPointList",void 0),function(l,d,_,j){_&&Object.defineProperty(l,d,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(So(s),"dbClickPosition",Ff,So(s)),s}return e=i,(n=[{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var s=this.dbClickPosition;return{x:s.x,y:s.y}}var l=jo(this.points),d=s0(y0(l),2),_=d[0],j=d[1];return{x:(_.x+j.x)/2,y:(_.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,a,s){var l,d;return s.forEach(function(_){var j;o===nt.HORIZONTAL?j=Math.abs(a.y-_.y):o===nt.VERTICAL&&(j=Math.abs(a.x-_.x)),(!d||d>j)&&(d=j,l=_)}),l}},{key:"getCorssPoint",value:function(o,a,s){var l;return o===nt.HORIZONTAL?l={x:s.x,y:a.y}:o===nt.VERTICAL&&(l={x:a.x,y:s.y}),l}},{key:"removeCrossPoints",value:function(o,a,s){var l=s.map(function(Z){return Z});if(o===1){var d=l[o],_=l[a],j=l[o-1];if(Qf(j,d,this.sourceNode)){if(ep(d,_,this.sourceNode)){var A=tp(d,_,this.sourceNode);A&&(l[o]=A,l.splice(o-1,1),o--,a--)}}else this.sourceNode.anchors.forEach(function(Z){(Z.x===j.x&&Z.x===d.x||Z.y===j.y&&Z.y===d.y)&&Fn(Z.x,Z.y,d.x,d.y)<Fn(j.x,j.y,d.x,d.y)&&(l[o-1]=Z)})}if(a===s.length-2){var M=l[o],F=l[a],$=l[a+1];if(Qf(F,$,this.targetNode)){if(ep(M,F,this.targetNode)){var Y=tp(M,F,this.targetNode);Y&&(l[a]=Y,l.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(Z){(Z.x===$.x&&Z.x===F.x||Z.y===$.y&&Z.y===F.y)&&Fn(Z.x,Z.y,F.x,F.y)<Fn($.x,$.y,F.x,F.y)&&(l[a+1]=Z)})}return l}},{key:"getDragingPoints",value:function(o,a,s,l,d){var _=d.map(function(M){return M}),j=this.getAfterAnchor(o,s,l),A=this.getCorssPoint(o,s,j);return a==="start"?(_.unshift(A),_.unshift(j)):(_.push(A),_.push(j)),_}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(te){return te}),s=o[0],l=o[1],d=o[a.length-2],_=o[a.length-1],j=this.sourceNode,A=this.targetNode,M=j.modelType,F=A.modelType,$=Ba(s,l),Y=a[0];switch(M){case Ie.RECT_NODE:j.radius!==0&&(kf(s,j)||(Y=Af(s,$,j)));break;case Ie.CIRCLE_NODE:Y=ts(s,$,j);break;case Ie.ELLIPSE_NODE:Y=Df(s,$,j);break;case Ie.DIAMOND_NODE:case Ie.POLYGON_NODE:Y=Tf(s,$,j)}a[0]=Y;var Z=Ba(d,_),q=a[a.length-1];switch(F){case Ie.RECT_NODE:A.radius!==0&&(kf(_,A)||(q=Af(_,Z,A)));break;case Ie.CIRCLE_NODE:q=ts(_,Z,A);break;case Ie.ELLIPSE_NODE:q=Df(_,Z,A);break;case Ie.DIAMOND_NODE:case Ie.POLYGON_NODE:q=Tf(_,Z,A)}return a[a.length-1]=q,a}},{key:"getData",value:function(){var o=Hf(hi(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Jf({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){var s=o.start,l=o.end,d=o.startIndex,_=o.endIndex,j=o.direction,A=this.pointsList,M=A;return j===nt.HORIZONTAL?(A[d]={x:s.x,y:s.y+a.y},A[_]={x:l.x,y:l.y+a.y},M=this.pointsList.map(function(F){return F})):j===nt.VERTICAL&&(A[d]={x:s.x+a.x,y:s.y},A[_]={x:l.x+a.x,y:l.y},M=this.pointsList.map(function(F){return F})),this.updatePointsAfterDrage(M),this.draginngPointList=M,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},A[d]),end:Object.assign({},A[_]),startIndex:d,endIndex:_,direction:j}}},{key:"dragAppend",value:function(o,a){var s=o.start,l=o.end,d=o.startIndex,_=o.endIndex,j=o.direction,A=this.pointsList;if(j===nt.HORIZONTAL){A[d]={x:s.x,y:s.y+a.y},A[_]={x:l.x,y:l.y+a.y};var M=this.pointsList.map(function(Oe){return Oe});if(d!==0&&_!==this.pointsList.length-1&&(M=this.removeCrossPoints(d,_,M)),d===0){var F={x:s.x,y:s.y+a.y};if(!_r(F,this.sourceNode)){var $=this.sourceNode.anchors;M=this.getDragingPoints(j,"start",F,$,M)}}if(_===this.pointsList.length-1){var Y={x:l.x,y:l.y+a.y};if(!_r(Y,this.targetNode)){var Z=this.targetNode.anchors;M=this.getDragingPoints(j,"end",Y,Z,M)}}M=ds(M),this.updatePointsAfterDrage(M),this.draginngPointList=M}else if(j===nt.VERTICAL){A[d]={x:s.x+a.x,y:s.y},A[_]={x:l.x+a.x,y:l.y};var q=this.pointsList.map(function(Oe){return Oe});if(d!==0&&_!==this.pointsList.length-1&&(q=this.removeCrossPoints(d,_,q)),d===0){var te={x:s.x+a.x,y:s.y};if(!_r(te,this.sourceNode)){var oe=this.sourceNode.anchors;q=this.getDragingPoints(j,"start",te,oe,q)}}if(_===this.pointsList.length-1){var ae={x:l.x+a.x,y:l.y};if(!_r(ae,this.targetNode)){var we=this.targetNode.anchors;q=this.getDragingPoints(j,"end",ae,we,q)}}q=ds(q),this.updatePointsAfterDrage(q),this.draginngPointList=q}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},A[d]),end:Object.assign({},A[_]),startIndex:d,endIndex:_,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=jo(this.points);this.pointsList=o.map(function(l){return l}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var s=o[o.length-1];this.endPoint=Object.assign({},s)}}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,l=o.sourceNode,d=o.targetNode,_=Jf({x:a.x,y:a.y},{x:s.x,y:s.y},l,d,this.offset||0);this.pointsList=_,this.initPoints()}}])&&c0(e.prototype,n),i}(os)).prototype,"dbClickPosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn(Le.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"initPoints"),Le.prototype),rn(Le.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"updatePoints"),Le.prototype),rn(Le.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"updateStartPoint"),Le.prototype),rn(Le.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"updateEndPoint"),Le.prototype),rn(Le.prototype,"dragAppendStart",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppendStart"),Le.prototype),rn(Le.prototype,"dragAppendSimple",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppendSimple"),Le.prototype),rn(Le.prototype,"dragAppend",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppend"),Le.prototype),rn(Le.prototype,"dragAppendEnd",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"dragAppendEnd"),Le.prototype),rn(Le.prototype,"updatePointsAfterDrage",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"updatePointsAfterDrage"),Le.prototype),rn(Le.prototype,"getAdjustStart",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"getAdjustStart"),Le.prototype),rn(Le.prototype,"getAdjustEnd",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"getAdjustEnd"),Le.prototype),rn(Le.prototype,"updateAfterAdjustStartAndEnd",[O.i],Object.getOwnPropertyDescriptor(Le.prototype,"updateAfterAdjustStartAndEnd"),Le.prototype),Le),yi=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-e.y)/(n.x-e.x)),l=Math.atan(r/i),d=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(a.leftX=e.x+d*Math.sin(s+l),a.leftY=e.y-d*Math.cos(s+l),a.rightX=e.x-d*Math.sin(s-l),a.rightY=e.y+d*Math.cos(s-l)):(a.leftX=e.x-d*Math.sin(s+l),a.leftY=e.y+d*Math.cos(s+l),a.rightX=e.x+d*Math.sin(s-l),a.rightY=e.y-d*Math.cos(s-l)):o==="end"&&(n.x>=e.x?(a.leftX=n.x+d*Math.sin(s-l),a.leftY=n.y-d*Math.cos(s-l),a.rightX=n.x-d*Math.sin(s+l),a.rightY=n.y+d*Math.cos(s+l)):(a.leftX=n.x-d*Math.sin(s-l),a.leftY=n.y+d*Math.cos(s-l),a.rightX=n.x+d*Math.sin(s+l),a.rightY=n.y-d*Math.cos(s+l))),a};function Wf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wf(Object(n),!0).forEach(function(r){p0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d0(t){return function(e){if(Array.isArray(e))return ls(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Yf(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vf(t){return(Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cs(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||Yf(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yf(t,e){if(t){if(typeof t=="string")return ls(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ls(t,e):void 0}}function ls(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fs=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Ra=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Ia=function(t,e){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?nt.HORIZONTAL:nt.VERTICAL}(e,t)===nt.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Kf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},vi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(_){n.push(_.x),r.push(_.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),a=Math.min.apply(Math,r),s=Math.max.apply(Math,r),l=o-i,d=s-a;return e&&(l+=e,d+=e),{centerX:(i+o)/2,centerY:(a+s)/2,maxX:o,maxY:s,minX:i,minY:a,x:(i+o)/2,y:(a+s)/2,height:d,width:l}},La=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},za=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},ps=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},$f=function(t,e,n,r,i){return ps(t,e)+ps(t,n)+function(o,a){var s=0;return a.forEach(function(l){l&&(o.x===l.x&&(s+=-2),o.y===l.y&&(s+=-2))}),s}(t,[e,n,r,i])},gi=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,s=r.y-n.y,l=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*s),d=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*o+i*s);return l>=0&&l<=1&&d>=0&&d<=1},Zf=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=cs(La(n),4),i=r[0],o=r[1],a=r[2],s=r[3];return gi(t,e,i,o)||gi(t,e,i,s)||gi(t,e,o,a)||gi(t,e,a,s)},h0=function(t,e,n,r,i,o,a){var s=[],l=[e],d={},_={},j={};_[e.id]=0,j[e.id]=$f(e,n,e);var A={};t.forEach(function($){A[$.id]=$});for(var M=function(){var $,Y,Z,q=void 0,te=1/0;if(l.forEach(function(ae){j[ae.id]<te&&(te=j[ae.id],q=ae)}),q===n){var oe=[];return function ae(we,Oe,Ae,Ge,Ke){Ke||(Ke=0),we.unshift(Oe[Ge]),Ae[Ge]&&Ae[Ge]!==Ge&&Ke<=100&&ae(we,Oe,Ae,Ae[Ge],Ke+1)}(oe,A,d,n.id),{v:oe}}Y=q,(Z=($=l).indexOf(Y))>-1&&$.splice(Z,1),s.push(q),function(ae,we,Oe,Ae){var Ge=[];return ae.forEach(function(Ke){Ke!==we&&(Ke.x!==we.x&&Ke.y!==we.y||Zf(Ke,we,Oe)||Zf(Ke,we,Ae)||Ge.push(Ke))}),fs(Ge)}(t,q,r,i).forEach(function(ae){if(s.indexOf(ae)===-1){l.indexOf(ae)===-1&&l.push(ae);var we=j[q.id]+ps(q,ae);_[ae.id]&&we>=_[ae.id]||(d[ae.id]=q.id,_[ae.id]=we,j[ae.id]=_[ae.id]+$f(ae,n,e,o,a))}})};l.length;){var F=M();if(Vf(F)==="object")return F.v}return[e,n]},qf=function(t){return nn(t)},ds=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],i=e[n],o=e[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?e.splice(n,1):n++}return e},Jf=function(t,e,n,r,i){var o,a,s=qf(n),l=qf(r),d=Ra(s,i),_=Ra(l,i),j=Ia(d,t),A=Ia(_,e);if(o=d,a=_,2*Math.abs(o.centerX-a.centerX)<o.width+a.width&&2*Math.abs(o.centerY-a.centerY)<o.height+a.height){var M=v0(t,e,j,A);return[t,j].concat(d0(M),[A,e])}var F=vi([j,A]),$=Kf(d,F),Y=Kf(_,F),Z=[];Z=(Z=Z.concat(La($))).concat(La(Y));var q={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[F,$,Y].forEach(function(oe){Z=Z.concat(function(ae,we){return function(Oe,Ae){return Ae<Oe.minX||Ae>Oe.maxX?[]:[{x:Ae,y:Oe.minY},{x:Ae,y:Oe.maxY}]}(ae,we.x).concat(function(Oe,Ae){return Ae<Oe.minY||Ae>Oe.maxY?[]:[{x:Oe.minX,y:Ae},{x:Oe.maxX,y:Ae}]}(ae,we.y))}(oe,q).filter(function(ae){return za(ae,d)&&za(ae,_)}))}),[{x:j.x,y:A.y},{x:A.x,y:j.y}].forEach(function(oe){za(oe,d)&&za(oe,_)&&Z.push(oe)}),Z.unshift(j),Z.push(A),Z=fs(Z);var te=h0(Z,j,A,s,l,t,e);return te.unshift(t),te.push(e),te.length>2&&(te=ds(te)),fs(te)},y0=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Fn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var a=t[o],s=t[o+1],l=Fn(a.x,a.y,s.x,s.y);l>i&&(i=l,n=a,r=s)}e=[n,r]}return e},Qf=function(t,e,n){var r=_r(t,n),i=_r(e,n);return r&&i},ep=function(t,e,n){var r=_r(t,n),i=_r(e,n);return!(r&&i)&&(r||i)},tp=function(t,e,n){for(var r,i,o=nn(n),a=La(o),s=0;s<a.length;s++)gi(t,e,a[s],a[(s+1)%a.length])&&(i=[a[s],a[(s+1)%a.length]]);return i&&(r=function(l,d,_,j){var A=(d.y-l.y)*(j.x-_.x)-(l.x-d.x)*(_.y-j.y);if(A===0)return!1;var M=((d.x-l.x)*(j.x-_.x)*(_.y-l.y)+(d.y-l.y)*(j.x-_.x)*l.x-(j.y-_.y)*(d.x-l.x)*_.x)/A,F=-((d.y-l.y)*(j.y-_.y)*(_.x-l.x)+(d.x-l.x)*(j.y-_.y)*l.y-(j.x-_.x)*(d.y-l.y)*_.y)/A;return(M-l.x)*(M-d.x)<=0&&(F-l.y)*(F-d.y)<=0&&(M-_.x)*(M-j.x)<=0&&(F-_.y)*(F-j.y)<=0&&{x:M,y:F}}(t,e,i[0],i[1])),r},Ba=function(t,e){var n;return t.x===e.x?n=nt.VERTICAL:t.y===e.y&&(n=nt.HORIZONTAL),n},jo=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=cs(r.split(","),2),o=i[0],a=i[1];n.push({x:Number(o),y:Number(a)})}),n},v0=function(t,e,n,r){var i=[];if(Ba(t,n)===Ba(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},a=di(o,t,n),s=di(o,e,r);if(a||s)o={x:r.x,y:n.y};else{var l=np(o,t,n),d=np(o,e,r);l&&d&&(o={x:r.x,y:n.y})}i.push(o)}return i},np=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},hs=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},rp=function(t){var e=t.start,n=t.end,r=t.sourceNode,i=t.targetNode,o=t.offset,a=nn(r),s=nn(i),l=Ra(a,o),d=Ra(s,o);return{sNext:Ia(l,e),ePre:Ia(d,n)}},Fa=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ua(e[0]),Ua(e[1]),Ua(e[2]),Ua(e[3])]},Ua=function(t){var e=cs(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},op=function(t,e){for(var n,r=t.x,i=t.y,o=jo(e),a=Number.MAX_SAFE_INTEGER,s=[],l=0;l<o.length;l++)s.push({start:o[l],end:o[(l+1)%o.length]});if(s.forEach(function(A){var M=A.start,F=A.end;if(M.x===F.x){var $={x:M.x,y:i};if(di($,M,F)){var Y=Math.abs(M.x-r);Y<a&&(a=Y,n=$)}}else if(M.y===F.y){var Z={x:r,y:M.y};if(di(Z,M,F)){var q=Math.abs(M.y-i);q<a&&(a=q,n=Z)}}}),!n){var d=s[0],_=d.start,j=d.end;n={x:_.x+(j.x-_.x)/2,y:_.y+(j.y-_.y)/2}}return n},g0=function(t){return zn(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},ip=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Po=function(){};function b0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Or=window.document;function bi(t){var e=t.onDragStart,n=e===void 0?Po:e,r=t.onDraging,i=r===void 0?Po:r,o=t.onDragEnd,a=o===void 0?Po:o,s=t.step,l=s===void 0?1:s,d=t.isStopPropagation,_=d===void 0||d,j=!1,A=!1,M=0,F=0,$=0,Y=0;function Z(te){if(_&&te.stopPropagation(),A&&(j=!0,$+=te.clientX-M,Y+=te.clientY-F,M=te.clientX,F=te.clientY,Math.abs($)>l||Math.abs(Y)>l)){var oe=$%l,ae=Y%l,we=$-oe,Oe=Y-ae;$=oe,Y=ae,i({deltaX:we,deltaY:Oe,event:te})}}function q(te){if(_&&te.stopPropagation(),A=!1,Or.removeEventListener("mousemove",Z,!1),Or.removeEventListener("mouseup",q,!1),j)return j=!1,a({event:te})}return function(te){if(te.button===0)return _&&te.stopPropagation(),A=!0,M=te.clientX,F=te.clientY,Or.addEventListener("mousemove",Z,!1),Or.addEventListener("mouseup",q,!1),n({event:te})}}var ne,ap,up,sp,cp,lp,fp,pp,dp,hp,yp,vp,gp,bp,mp,_p,Op,wp,mi=function(){function t(r){var i=this,o=r.onDragStart,a=o===void 0?Po:o,s=r.onDraging,l=s===void 0?Po:s,d=r.onDragEnd,_=d===void 0?Po:d,j=r.eventType,A=j===void 0?"":j,M=r.eventCenter,F=M===void 0?null:M,$=r.step,Y=$===void 0?1:$,Z=r.isStopPropagation,q=Z===void 0||Z,te=r.model,oe=te===void 0?null:te;(function(ae,we){if(!(ae instanceof we))throw new TypeError("Cannot call a class as a function")})(this,t),mt(this,"onDragStart",void 0),mt(this,"onDraging",void 0),mt(this,"onDragEnd",void 0),mt(this,"step",void 0),mt(this,"isStopPropagation",void 0),mt(this,"isDraging",!1),mt(this,"isStartDraging",!1),mt(this,"startX",0),mt(this,"startY",0),mt(this,"sumDeltaX",0),mt(this,"sumDeltaY",0),mt(this,"eventType",void 0),mt(this,"eventCenter",void 0),mt(this,"model",void 0),mt(this,"startTime",void 0),mt(this,"isGrag",void 0),mt(this,"handleMouseDown",function(ae){var we,Oe,Ae;if(ae.button===0){i.isStopPropagation&&ae.stopPropagation(),i.isStartDraging=!0,i.startX=ae.clientX,i.startY=ae.clientY,Or.addEventListener("mousemove",i.handleMouseMove,!1),Or.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:ae});var Ge=(we=i.model)===null||we===void 0?void 0:we.getData();(Oe=i.eventCenter)===null||Oe===void 0||Oe.emit(Ce["".concat(i.eventType,"_MOUSEDOWN")],{e:ae,data:Ge}),(Ae=i.eventCenter)===null||Ae===void 0||Ae.emit(Ce["".concat(i.eventType,"_DRAGSTART")],{e:ae,data:Ge}),i.startTime=new Date().getTime()}}),mt(this,"handleMouseMove",function(ae){if(i.isStopPropagation&&ae.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=ae.clientX-i.startX,i.sumDeltaY+=ae.clientY-i.startY,i.startX=ae.clientX,i.startY=ae.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var we,Oe,Ae,Ge=i.sumDeltaX%i.step,Ke=i.sumDeltaY%i.step,bn=i.sumDeltaX-Ge,Nn=i.sumDeltaY-Ke;i.sumDeltaX=Ge,i.sumDeltaY=Ke,i.onDraging({deltaX:bn,deltaY:Nn,event:ae});var mn=(we=i.model)===null||we===void 0?void 0:we.getData();(Oe=i.eventCenter)===null||Oe===void 0||Oe.emit(Ce["".concat(i.eventType,"_MOUSEMOVE")],{e:ae,data:mn}),(Ae=i.eventCenter)===null||Ae===void 0||Ae.emit(Ce["".concat(i.eventType,"_DRAG")],{e:ae,data:mn})}}),mt(this,"handleMouseUp",function(ae){var we,Oe,Ae;if(i.isStartDraging=!1,i.isStopPropagation&&ae.stopPropagation(),Or.removeEventListener("mousemove",i.handleMouseMove,!1),Or.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:ae});var Ge=(we=i.model)===null||we===void 0?void 0:we.getData();(Oe=i.eventCenter)===null||Oe===void 0||Oe.emit(Ce["".concat(i.eventType,"_MOUSEUP")],{e:ae,data:Ge}),(Ae=i.eventCenter)===null||Ae===void 0||Ae.emit(Ce["".concat(i.eventType,"_DROP")],{e:ae,data:Ge})}}),this.onDragStart=a,this.onDraging=l,this.onDragEnd=_,this.step=Y,this.isStopPropagation=q,this.eventType=A,this.eventCenter=F,this.model=oe}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&b0(e.prototype,n),t}();function xp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xp(Object(n),!0).forEach(function(r){on(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ep(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Sp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Sp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function At(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Se(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var jp=(ap=Se((ne=function(){function t(r){(function(F,$){if(!(F instanceof $))throw new TypeError("Cannot call a class as a function")})(this,t),on(this,"BaseType",bt.GRAPH),on(this,"modelType",Ie.GRAPH),on(this,"rootEl",void 0),on(this,"theme",void 0),on(this,"eventCenter",void 0),on(this,"modelMap",new Map),on(this,"width",void 0),on(this,"height",void 0),on(this,"topElement",void 0),on(this,"selectElement",void 0),on(this,"idGenerator",void 0),on(this,"nodeMoveRules",[]),At(this,"edgeType",ap,this),At(this,"nodes",up,this),At(this,"activeElement",sp,this),At(this,"activeElementState",cp,this),At(this,"state",lp,this),At(this,"additionStateData",fp,this),At(this,"edges",pp,this),At(this,"isSlient",dp,this),At(this,"overlapMode",hp,this),At(this,"plugins",yp,this),At(this,"tools",vp,this),At(this,"background",gp,this),At(this,"transformMatrix",bp,this),At(this,"editConfig",mp,this),At(this,"gridSize",_p,this),At(this,"partial",Op,this),At(this,"fakerNode",wp,this);var i=r.container,o=r.background,a=o===void 0?{}:o,s=r.grid,l=(s=s===void 0?{}:s).size,d=l===void 0?1:l,_=r.isSilentMode,j=_!==void 0&&_,A=r.eventCenter,M=r.idGenerator;this.background=a,this.isSlient=j,this.gridSize=d,this.rootEl=i,this.editConfig=new Ml(r),this.eventCenter=A,this.transformMatrix=new cm(A),this.theme=Jl(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=M}var e,n;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,A){return j.zIndex-A.zIndex});for(var i=[],o=-1,a=[-200,-200],s=[this.width+200,this.height+200],l=0;l<r.length;l++){var d=r[l];this.partial&&!this.isElementInArea(d,a,s,!1)||(d.zIndex===9999&&(o=i.length),i.push(d))}if(o!==-1){var _=i[i.length-1];i[i.length-1]=i[o],i[o]=_}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===$e.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===$e.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],a=[];this.nodes.forEach(function(d){return a.push(d)}),this.edges.forEach(function(d){return a.push(d)});for(var s=0;s<a.length;s++){var l=a[s];this.isElementInArea(l,r,i)&&o.push(l)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModel",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,a=this.rootEl.getBoundingClientRect(),s={x:i-a.left,y:o-a.top},l=Ep(this.transformMatrix.HtmlPointToCanvasPoint([s.x,s.y]),2);return{domOverlayPosition:s,canvasOverlayPosition:{x:l[0],y:l[1]}}}},{key:"isElementInArea",value:function(r,i,o){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===bt.NODE){for(var s=nn(r=r),l=s.minX,d=s.minY,_=s.maxX,j=s.maxY,A=[{x:l,y:d},{x:_,y:d},{x:_,y:j},{x:l,y:j}],M=!0,F=0;F<A.length;F++){var $=A[F],Y=$.x,Z=$.y,q=this.transformMatrix.CanvasPointToHtmlPoint([Y,Z]),te=Ep(q,2);if(Y=te[0],Z=te[1],!qu([Y,Z],i,o)){M=!1;break}}return M}if(r.BaseType===bt.EDGE){var oe=r=r,ae=oe.startPoint,we=oe.endPoint,Oe=this.transformMatrix.CanvasPointToHtmlPoint([ae.x,ae.y]),Ae=this.transformMatrix.CanvasPointToHtmlPoint([we.x,we.y]),Ge=qu(Oe,i,o),Ke=qu(Ae,i,o);return a?Ge&&Ke:Ge||Ke}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=Pa(r.nodes,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,l=o.y;return s&&l&&(o.x=Ta(s,i.gridSize),o.y=Ta(l,i.gridSize),Object.prototype.toString.call(o.text)==="[object Object]"&&(o.text.x-=Ql(s,i.gridSize),o.text.y-=Ql(l,i.gridSize))),new a(o,i)}),this.edges=Pa(r.edges,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,i)})}},{key:"modelToGraphData",value:function(){var r=this.edges.map(function(i){return i.getData()});return{nodes:this.nodes.map(function(i){return i.getData()}),edges:r}}},{key:"getEdgeModel",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){var i=this.getNodeModel(r);return i||this.getEdgeModel(r)}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var a=this.edges[o],s=this.edges[o].sourceNodeId===r,l=this.edges[o].targetNodeId===r;(s||l)&&i.push(a)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(a){if(a.BaseType===bt.NODE&&o.nodes.push(a.getData()),a.BaseType===bt.EDGE){var s=a.getData(),l=i.get(s.sourceNodeId)&&i.get(s.targetNodeId);(r||l)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=Eo()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"changeEdgeId",value:function(r,i){return i||(i=Eo()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"updateEdgeByIndex",value:function(r,i){this.edges[r]=Ao(Ao({},this.edges[r]),i)}},{key:"toFront",value:function(r){var i,o,a,s=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);s&&((a=this.topElement)===null||a===void 0||a.setZIndex(),this.topElement=s,s.setZIndex(9999))}},{key:"setElementZIndex",value:function(r,i){var o,a,s,l=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[r])===null||a===void 0?void 0:a.model);l&&(typeof i=="number"&&(s=i),i==="top"&&(s=ns()),i==="bottom"&&(s=--r0),l.setZIndex(s))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.removeEdgeBySource(r),this.removeEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Ce.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=yn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new o(i,this);this.nodes.push(a);var s=a.getData();return this.eventCenter.emit(Ce.NODE_ADD,{data:s}),a}},{key:"cloneNode",value:function(r){var i=this.getNodeModel(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),i.setSelected(!1),a.getData()}},{key:"moveNode",value:function(r,i,o){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=this.nodesMap[r];if(s){var l=s.model;l.move(i,o,a),this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var a=this.nodesMap[r];if(a){var s=a.model,l=i-s.x,d=o-s.y;this.moveNode(r,l,d)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTextEditable",value:function(r){this.setElementStateById(r,$e.TEXT_EDIT)}},{key:"createEdge",value:function(r){var i=yn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FDE\u7EBF\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FDE\u7EBF\u3002"));var s=new a(Ao(Ao({},i),{},{type:o}),this),l=s.getData();return this.edges.push(s),this.eventCenter.emit(Ce.EDGE_ADD,{data:l}),s}},{key:"moveEdge",value:function(r,i,o){for(var a=0;a<this.edges.length;a++){var s,l=this.edges[a],d=l.textPosition,_=d.x,j=d.y,A=this.edges[a].sourceNodeId===r,M=this.edges[a].targetNodeId===r;if(A&&l.updateStartPoint({x:l.startPoint.x+i,y:l.startPoint.y+o}),M&&l.updateEndPoint({x:l.endPoint.x+i,y:l.endPoint.y+o}),A||M)if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===Ie.POLYLINE_EDGE&&(s=l.text)!==null&&s!==void 0&&s.value){var F=l.text,$=op(F,l.points);l.moveText($.x-F.x,$.y-F.y)}else{var Y=l.textPosition,Z=Y.x,q=Y.y;l.moveText(Z-_,q-j)}}}},{key:"removeEdge",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Ce.EDGE_DELETE,{data:a})}}},{key:"removeEdgeById",value:function(r){var i=this.edgesMap[r].index;if(this.edgesMap[r]){var o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Ce.EDGE_DELETE,{data:o})}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"removeEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Ce.EDGE_DELETE,{data:o})}}},{key:"removeEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Ce.EDGE_DELETE,{data:o})}}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setElementStateById",value:function(r,i,o){this.resetElementState(),this.nodes.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)}),this.edges.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)})}},{key:"setElementTextById",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(r){var i,o,a,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o,a,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectElementById",value:function(r){var i,o,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||((o=this.selectElement)===null||o===void 0||o.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(r),(i=this.selectElement)===null||i===void 0||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode!==Bn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveElements",value:function(r,i,o){var a=this;r.nodes.forEach(function(s){return a.moveNode(s.id,i,o)})}},{key:"moveNodes",value:function(r,i,o){var a=this,s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(l){return a.moveNode(l,i,o,s)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"changeEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModel(r);if(o){var a=o.getData();a.type=i;var s=this.getModel(i);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var l=new s(a,this);this.nodes.splice(this.nodesMap[r].index,1,l),this.getNodeEdges(r).forEach(function(d){if(d.sourceNodeId===r){var _=Mf(l,d.startPoint,l.width,l.height);d.updateStartPoint(_)}if(d.targetNodeId===r){var j=Mf(l,d.endPoint,l.width,l.height);d.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTheme",value:function(r){this.theme=Jl(Ao(Ao({},this.theme),r))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&m0(e.prototype,n),t}()).prototype,"edgeType",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=Se(ne.prototype,"nodes",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sp=Se(ne.prototype,"activeElement",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp=Se(ne.prototype,"activeElementState",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lp=Se(ne.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fp=Se(ne.prototype,"additionStateData",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pp=Se(ne.prototype,"edges",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dp=Se(ne.prototype,"isSlient",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hp=Se(ne.prototype,"overlapMode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Se(ne.prototype,"plugins",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vp=Se(ne.prototype,"tools",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gp=Se(ne.prototype,"background",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp=Se(ne.prototype,"transformMatrix",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mp=Se(ne.prototype,"editConfig",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_p=Se(ne.prototype,"gridSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Op=Se(ne.prototype,"partial",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wp=Se(ne.prototype,"fakerNode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se(ne.prototype,"nodesMap",[O.k],Object.getOwnPropertyDescriptor(ne.prototype,"nodesMap"),ne.prototype),Se(ne.prototype,"edgesMap",[O.k],Object.getOwnPropertyDescriptor(ne.prototype,"edgesMap"),ne.prototype),Se(ne.prototype,"sortElements",[O.k],Object.getOwnPropertyDescriptor(ne.prototype,"sortElements"),ne.prototype),Se(ne.prototype,"textEditElement",[O.k],Object.getOwnPropertyDescriptor(ne.prototype,"textEditElement"),ne.prototype),Se(ne.prototype,"selectElements",[O.k],Object.getOwnPropertyDescriptor(ne.prototype,"selectElements"),ne.prototype),Se(ne.prototype,"setFakerNode",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setFakerNode"),ne.prototype),Se(ne.prototype,"removeFakerNode",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeFakerNode"),ne.prototype),Se(ne.prototype,"setModel",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setModel"),ne.prototype),Se(ne.prototype,"updateEdgeByIndex",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"updateEdgeByIndex"),ne.prototype),Se(ne.prototype,"toFront",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"toFront"),ne.prototype),Se(ne.prototype,"setElementZIndex",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementZIndex"),ne.prototype),Se(ne.prototype,"deleteNode",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"deleteNode"),ne.prototype),Se(ne.prototype,"addNode",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"addNode"),ne.prototype),Se(ne.prototype,"cloneNode",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"cloneNode"),ne.prototype),Se(ne.prototype,"moveNode",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveNode"),ne.prototype),Se(ne.prototype,"moveNode2Coordinate",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveNode2Coordinate"),ne.prototype),Se(ne.prototype,"setTextEditable",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setTextEditable"),ne.prototype),Se(ne.prototype,"createEdge",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"createEdge"),ne.prototype),Se(ne.prototype,"moveEdge",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveEdge"),ne.prototype),Se(ne.prototype,"removeEdge",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdge"),ne.prototype),Se(ne.prototype,"removeEdgeById",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdgeById"),ne.prototype),Se(ne.prototype,"removeEdgeBySource",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdgeBySource"),ne.prototype),Se(ne.prototype,"removeEdgeByTarget",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"removeEdgeByTarget"),ne.prototype),Se(ne.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementState"),ne.prototype),Se(ne.prototype,"setElementStateById",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementStateById"),ne.prototype),Se(ne.prototype,"setElementTextById",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setElementTextById"),ne.prototype),Se(ne.prototype,"resetElementState",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"resetElementState"),ne.prototype),Se(ne.prototype,"selectNodeById",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"selectNodeById"),ne.prototype),Se(ne.prototype,"selectEdgeById",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"selectEdgeById"),ne.prototype),Se(ne.prototype,"selectElementById",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"selectElementById"),ne.prototype),Se(ne.prototype,"clearSelectElements",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"clearSelectElements"),ne.prototype),Se(ne.prototype,"moveElements",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveElements"),ne.prototype),Se(ne.prototype,"moveNodes",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"moveNodes"),ne.prototype),Se(ne.prototype,"changeEdgeType",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"changeEdgeType"),ne.prototype),Se(ne.prototype,"changeNodeType",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"changeNodeType"),ne.prototype),Se(ne.prototype,"setTheme",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"setTheme"),ne.prototype),Se(ne.prototype,"clearData",[O.i],Object.getOwnPropertyDescriptor(ne.prototype,"clearData"),ne.prototype),ne),_0=jp;function Pp(t){return(Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ap(){return(Ap=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function O0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kp(t,e){return(kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function x0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ys(t);if(e){var i=ys(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E0(this,n)}}function E0(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Dp(t){return(Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Tp(){return(Tp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function S0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mp(t,e){return(Mp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function j0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vs(t);if(e){var i=vs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P0(this,n)}}function P0(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xn(t)}function Xn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vs(t){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function rr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Np,Cp,A0=Kn((Np=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Mp(o,a)})(i,t);var e,n,r=j0(i);function i(o){var a;(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),rr(Xn(a=r.call(this)),"stepDrag",void 0),rr(Xn(a),"stepScrollX",0),rr(Xn(a),"stepScrollY",0),rr(Xn(a),"onDraging",function(d){var _=d.deltaX,j=d.deltaY;a.setState({isDraging:!0});var A=a.props.graphModel,M=A.transformMatrix;A.editConfig.stopMoveGraph||M.translate(_,j)}),rr(Xn(a),"onDragEnd",function(){a.setState({isDraging:!1})}),rr(Xn(a),"zoomHandler",function(d){var _=a.props,j=_.graphModel,A=j.editConfig,M=j.transformMatrix,F=j.gridSize,$=_.graphModel,Y=d.deltaX,Z=d.deltaY;if(A.stopScrollGraph||d.ctrlKey===!0){if(!A.stopZoomGraph){d.preventDefault();var q=$.getPointByClient({x:d.clientX,y:d.clientY}).canvasOverlayPosition,te=q.x,oe=q.y;M.zoom(d.deltaY<0,[te,oe])}}else{if(d.preventDefault(),a.stepScrollX+=Y,a.stepScrollY+=Z,Math.abs(a.stepScrollX)>=F){var ae=a.stepScrollX%F,we=a.stepScrollX-ae;M.translate(-we*M.SCALE_X,0),a.stepScrollX=ae}if(Math.abs(a.stepScrollY)>=F){var Oe=a.stepScrollY%F,Ae=a.stepScrollY-Oe;M.translate(0,-Ae*M.SCALE_Y),a.stepScrollY=Oe}}}),rr(Xn(a),"clickHandler",function(d){if(d.target.getAttribute("name")==="canvas-overlay"){var _=a.props,j=_.graphModel,A=_.eventCenter,M=j.textEditElement;j.selectElements.size>0&&j.clearSelectElements(),M&&M.setElementState($e.DEFAULT),A.emit(Ce.BLANK_CLICK,{e:d})}}),rr(Xn(a),"handleContextMenu",function(d){if(d.target.getAttribute("name")==="canvas-overlay"){d.preventDefault();var _=a.props,j=_.graphModel,A=_.eventCenter,M=j.getPointByClient({x:d.clientX,y:d.clientY});j.setElementState($e.SHOW_MENU,M.domOverlayPosition),A.emit(Ce.BLANK_CONTEXTMENU,{e:d,position:M})}}),rr(Xn(a),"mouseDownHandler",function(d){var _=a.props,j=_.eventCenter,A=_.graphModel,M=A.editConfig,F=A.transformMatrix.SCALE_X,$=A.gridSize;M.stopMoveGraph?j.emit(Ce.BLANK_MOUSEDOWN,{e:d}):(a.stepDrag.setStep($*F),a.stepDrag.handleMouseDown(d)),a.clickHandler(d)});var s=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new mi({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:s,eventType:"BLANK",eventCenter:l,model:null}),a.state={isDraging:!1},a}return e=i,(n=[{key:"InjectedProps",get:function(){return this.props}},{key:"render",value:function(){var o=this.InjectedProps.transformStyle.transform,a=this.props,s=a.children,l=a.dnd,d=this.state.isDraging;return R("svg",Tp({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:d?"lf-dragging":"lf-drag-able"},l.eventMap()),R("g",{transform:o},s))}}])&&S0(e.prototype,n),i}(C),function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&kp(o,a)})(i,t);var e,n,r=x0(i);function i(){return O0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getMatrixString",value:function(){var o=this.props.graphModel.transformMatrix,a=[o.SCALE_X,o.SKEW_Y,o.SKEW_X,o.SCALE_Y,o.TRANSLATE_X,o.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(a,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return R(Np,Ap({},this.props,{transformStyle:this.getMatrixString()}))}}])&&w0(e.prototype,n),i}(C)));function Rp(t){return(Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function k0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ip(t,e){return(Ip=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function T0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gs(t);if(e){var i=gs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M0(this,n)}}function M0(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lp(t)}function Lp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function N0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C0=Kn(Cp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ip(o,a)})(i,t);var e,n,r=T0(i);function i(){var o;k0(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return N0(Lp(o=r.call.apply(r,[this].concat(s))),"setToolOverlayRef",function(d){var _=o.props.tool.getInstance();_.components.forEach(function(j){return j(_,d)}),_.components=[]}),o}return e=i,(n=[{key:"getTools",value:function(){var o=this.props,a=o.tool,s=o.graphModel,l=a.getTools().map(function(d){return R(d,{graphModel:s,logicFlow:a.instance})});return a.components=l,l}},{key:"render",value:function(){return R("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&D0(e.prototype,n),i}(C))||Cp;u(178);function zp(t){return(zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function R0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bp(t,e){return(Bp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function L0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bs(t);if(e){var i=bs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z0(this,n)}}function z0(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Fp,B0=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Bp(o,a)})(i,t);var e,n,r=L0(i);function i(){return R0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.background,a=o.image,s=a===void 0?"":a,l=o.color,d=l===void 0?"":l,_=o.repeat,j=_===void 0?"no-repeat":_,A=o.position,M=A===void 0?"center":A,F=o.size,$=F===void 0?"auto auto":F,Y=o.opacity,Z=Y===void 0?1:Y;return d?{color:d,opacity:Z,image:"none"}:s?{image:"url(".concat(s,")"),repeat:j,position:M,size:$,opacity:Z}:{}}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.image,s=o.color,l=o.repeat,d=o.size;return R("div",{className:"lf-background"},R("div",{style:{backgroundImage:a,backgroundColor:s,backgroundRepeat:l,backgroundPosition:o.position,backgroundSize:d,opacity:o.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&I0(e.prototype,n),i}(C);function Up(t){return(Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function F0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xp(t,e){return(Xp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function X0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ms(t);if(e){var i=ms(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H0(this,n)}}function H0(t,e){if(e&&(Up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hp(t)}function Hp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ms(t){return(ms=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function G0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gp=Kn(Fp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Xp(o,a)})(i,t);var e,n,r=X0(i);function i(){var o;F0(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return G0(Hp(o=r.call.apply(r,[this].concat(s))),"id",Eo()),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,a=o.config,s=a.color,l=a.thickness,d=l===void 0?2:l,_=o.size,j=o.visible,A=Math.min(Math.max(2,d),_/2),M=1;return j||(M=0),R("rect",{width:A,height:A,rx:A/2,ry:A/2,fill:s,opacity:M})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,s=a.color,l=a.thickness,d=l===void 0?1:l,_=o.size,j=o.visible,A=Math.min(Math.max(1,d),_/2),M=1;return j||(M=0),R("path",{d:"M ".concat(_," 0 H0 M0 0 V0 ").concat(_),stroke:s,strokeWidth:A,opacity:M})}},{key:"render",value:function(){var o=this.props,a=o.type,s=o.size,l=o.graphModel.transformMatrix,d=[l.SCALE_X,l.SKEW_Y,l.SKEW_X,l.SCALE_Y,l.TRANSLATE_X,l.TRANSLATE_Y].join(","),_="matrix(".concat(d,")");return R("div",{className:"lf-grid"},R("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},R("defs",null,R("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:_,x:"0",y:"0",width:s,height:s,style:{transition:"all 0.1s ease"}},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),R("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&U0(e.prototype,n),i}(C))||Fp;Gp.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},u(44);function Wp(t){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function W0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yp,ko=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=W0(n,2),i=r[0],o=r[1];Wp(o)!=="object"&&(e[i]=o)}),R("line",e)};function Kp(t){return(Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function V0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $p(t,e){return($p=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function K0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_s(t);if(e){var i=_s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $0(this,n)}}function $0(t,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function _s(t){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Zp,Z0=Kn(Yp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&$p(o,a)})(i,t);var e,n,r=K0(i);function i(){return V0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,s=o.isShowHorizontal,l=o.isShowVertical,d=o.stroke,_=o.strokeWidth,j=a.x,A=j===void 0?0:j,M=a.y,F=M===void 0?0:M,$={x1:A,y1:-1e5,x2:A,y2:1e5,stroke:l?d:"none",strokeWidth:_};return R("g",{className:"lf-snapline"},R(ko,{x1:-1e5,y1:F,x2:1e5,y2:F,stroke:s?d:"none",strokeWidth:_}),R(ko,$))}}])&&Y0(e.prototype,n),i}(C))||Yp;function qp(t){return(qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function q0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Jp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wr(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,a=t.className,s=e-r/2,l=n-i/2,d={width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a),x:0,y:0};return Object.entries(t).forEach(function(_){var j=q0(_,2),A=j[0],M=j[1];qp(M)!=="object"&&(d[A]=M)}),d.x=s,d.y=l,R("rect",d)}function Qp(t){return(Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function J0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ed(t,e){return(ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function e_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Os(t);if(e){var i=Os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}wr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var td,n_=Kn(Zp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ed(o,a)})(i,t);var e,n,r=e_(i);function i(){return J0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodeOutline",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.editConfig,l=s.hoverOutline,d=s.nodeSelectedOutline,_=[];return a.forEach(function(j){if(j.BaseType===bt.NODE){var A=j.isHovered,M=j.isSelected,F=j.x,$=j.y,Y=j.width,Z=j.height,q=j.outlineColor,te=j.hoverOutlineColor,oe=j.outlineStrokeDashArray,ae=j.hoverOutlineStrokeDashArray;if(d||l&&A){var we=M?q:te,Oe=M?oe:ae;_.push(R(wr,{className:"lf-outline-node",x:F,y:$,width:Y+10,height:Z+10,radius:0,fill:"none",stroke:we,strokeDasharray:Oe}))}}}),_}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,s=o.editConfig.edgeSelectedOutline,l=[],d=0;d<a.length;d++){var _=a[d];_.isSelected&&s&&(_.modelType===Ie.LINE_EDGE?l.push(this.getLineOutline(_)):_.modelType===Ie.POLYLINE_EDGE?l.push(this.getPolylineOutline(_)):_.modelType===Ie.BEZIER_EDGE&&l.push(this.getBezierOutline(_)))}return l}},{key:"getLineOutline",value:function(o){var a=o.startPoint,s=o.endPoint,l=(a.x+s.x)/2,d=(a.y+s.y)/2,_=Math.abs(a.x-s.x)+10,j=Math.abs(a.y-s.y)+10,A=this.props.graphModel.theme.line;return R(wr,{className:"lf-outline-edge",x:l,y:d,width:_,height:j,radius:0,fill:"none",stroke:A.outlineColor,strokeDasharray:A.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(o){var a=o.points,s=jo(a),l=vi(s,8),d=l.x,_=l.y,j=l.width,A=l.height,M=this.props.graphModel.theme.polyline;return R(wr,{className:"lf-outline",x:d,y:_,width:j,height:A,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(o){var a=o.path,s=Fa(a),l=vi(s,8),d=l.x,_=l.y,j=l.width,A=l.height,M=this.props.graphModel.theme.bezier;return R(wr,{className:"lf-outline",x:d,y:_,width:j,height:A,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"render",value:function(){return R("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&Q0(e.prototype,n),i}(C))||Zp;function nd(t){return(nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function r_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _i(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,a={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach(function(s){var l=r_(s,2),d=l[0],_=l[1];nd(_)!=="object"&&(a[d]=_)}),R("circle",a)}function od(t){return(od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function id(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ad(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ad(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ad(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ud(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cd(t,e,n){return e&&sd(t.prototype,e),n&&sd(t,n),t}function ld(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fd(t,e)}function fd(t,e){return(fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function pd(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ws(t);if(e){var i=ws(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o_(this,n)}}function o_(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xa(t)}function Xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ws(t){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function xs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dd,hd=function(t){ld(n,t);var e=pd(n);function n(r){var i;ud(this,n),xs(Xa(i=e.call(this)),"dragHandler",void 0),xs(Xa(i),"onDraging",function(a){var s=a.deltaX,l=a.deltaY,d=i.props,_=d.graphModel,j=d.bezierModel,A=d.type,M=_.transformMatrix,F=i.state,$=F.endX,Y=F.endY,Z=id(M.moveCanvasPointByHtml([$,Y],s,l),2),q=Z[0],te=Z[1];i.setState({endX:q,endY:te}),j.updateAdjustAnchor({x:q,y:te},A)}),xs(Xa(i),"onDragEnd",function(){var a=i.state,s=a.endX,l=a.endY,d=i.props,_=d.bezierModel,j=d.type;_.updateAdjustAnchor({x:s,y:l},j)}),i.dragHandler=bi({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return cd(n,[{key:"render",value:function(){var r,i,o,a=this.props.position,s=a.x,l=a.y,d=(r=this.props)===null||r===void 0||(i=r.graphModel)===null||i===void 0||(o=i.theme)===null||o===void 0?void 0:o.bezier;return R(_i,{className:"lf-bezier-adjust-anchor",x:s,y:l,r:4,stroke:d.adjustAnchorStroke,fill:d.adjustAnchorFill,fillOpacity:d.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),n}(C),i_=Kn(td=function(t){ld(n,t);var e=pd(n);function n(){return ud(this,n),e.apply(this,arguments)}return cd(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,a=r.id,s=id(Fa(o),4),l=s[0],d=s[1],_=s[2],j=s[3],A=i.theme.bezier.adjustLineColor,M=[];return M.push(R(ko,{x1:l.x,y1:l.y,x2:d.x,y2:d.y,stroke:A})),M.push(R(hd,{position:d,bezierModel:r,graphModel:i,key:"".concat(a,"_ePre"),type:"sNext"})),M.push(R(ko,{x1:j.x,y1:j.y,x2:_.x,y2:_.y,stroke:A})),M.push(R(hd,{position:_,bezierModel:r,graphModel:i,key:"".concat(a,"_sNext"),type:"ePre"})),M}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],a=0;a<i.length;a++){var s=i[a];s.isSelected&&s.modelType===Ie.BEZIER_EDGE&&s.draggable&&o.push(this.getBezierAdjust(s,r))}return o}},{key:"render",value:function(){return R("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(C))||td;function yd(t){return(yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vd(){return(vd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gd(t,e){return(gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function s_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Es(t);if(e){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c_(this,n)}}function c_(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Es(t){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var l_=Kn(dd=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&gd(o,a)})(i,t);var e,n,r=s_(i);function i(){return a_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getComponent",value:function(o,a,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"canvas-overlay",d=this.props.getView,_=d(o.type);return R(_,{key:o.id,model:o,graphModel:a,overlay:l,eventCenter:s})}},{key:"render",value:function(){var o=this,a=this.props,s=a.graphModel,l=a.tool,d=a.options,_=a.eventCenter,j=a.dnd,A=a.snaplineModel,M={};d.width&&(M.width="".concat(d.width,"px")),d.height&&(M.height="".concat(d.height,"px"));var F=s.fakerNode,$=s.editConfig.adjustEdge;return R("div",{className:"lf-graph",style:M},R(A0,{graphModel:s,eventCenter:_,dnd:j},R("g",{className:"lf-base"},Pa(s.sortElements,function(Y){return o.getComponent(Y,s,_)})),F?this.getComponent(F,s,_):"",d.hideOutline?"":R(n_,{graphModel:s}),$?R(i_,{graphModel:s}):"",d.isSilentMode||d.snapline===!1?"":R(Z0,{snaplineModel:A})),R(C0,{graphModel:s,tool:l}),d.background&&R(B0,{background:d.background}),d.grid&&R(Gp,vd({},d.grid,{graphModel:s})))}}])&&u_(e.prototype,n),i}(C))||dd;function bd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bd(Object(n),!0).forEach(function(r){Hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p_=function(){function t(r){var i=this;(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),Hn(this,"nodeConfig",void 0),Hn(this,"lf",void 0),Hn(this,"options",void 0),Hn(this,"fakerNode",void 0),Hn(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),Hn(this,"dragEnter",function(s){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(Ha(Ha({},i.nodeConfig),i.clientToLocalPoint({x:s.clientX,y:s.clientY}))))}),Hn(this,"onDragOver",function(s){if(s.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:s.clientX,y:s.clientY}),d=l.x,_=l.y;i.fakerNode.moveTo(d,_);var j=i.fakerNode.getData();i.lf.setNodeSnapLine(j),i.lf.eventCenter.emit(Ce.NODE_DND_DRAG,{data:j})}return!1}),Hn(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),Hn(this,"onDrop",function(s){if(i.lf.graphModel&&s&&i.nodeConfig){var l=i.lf.addNode(Ha(Ha({},i.nodeConfig),i.clientToLocalPoint({x:s.clientX,y:s.clientY})));s.preventDefault(),s.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var d=l.getData();i.lf.eventCenter.emit(Ce.NODE_DND_ADD,{data:d})}});var o=r.options,a=r.lf;this.lf=a,this.options=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,a=ul(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,l=s.x,d=s.y;return{x:Ta(l,a),y:Ta(d,a)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&f_(e.prototype,n),t}();function md(t){var e=t.container,n=t.grid;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");return n&&(t.grid=ut({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),ut({},Od,t)}var Ye,_d,Od={background:!1,grid:!1,textEdit:!0};function wd(t){return(wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function xd(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ed(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ed(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ed(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sd(Object(n),!0).forEach(function(r){Ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pd(t,e,n){return(Pd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=wi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function Ad(t,e){return(Ad=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function h_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wi(t);if(e){var i=wi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y_(this,n)}}function y_(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oi(t)}function Oi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wi(t){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ss(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ve,kd,Dd,Td,Md,Nd,Cd,Rd,Id,Ld,zd,Bd,Fd,Ud,Xd,Hd,Gd,Wd,Vd,Yd,Kd,$d,Zd,qd,Jd,js=(_d=Gn((Ye=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ad(o,a)})(i,t);var e,n,r=h_(i);function i(o,a){var s;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),Ss(Oi(s=r.call(this,o,a,"bezier")),"modelType",Ie.BEZIER_EDGE),Ss(Oi(s),"offset",Wt.bezier.offset),function(l,d,_,j){_&&Object.defineProperty(l,d,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(Oi(s),"path",_d,Oi(s)),s}return e=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(s){var l=s.x,d=s.y;o+=l,a+=d}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Pd(wi(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return jd(jd({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint;return rp({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var a=xd(o,4),s=a[0],l=a[1],d=a[2],_=a[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(l.x," ").concat(l.y,`,
    `).concat(d.x," ").concat(d.y,`,
    `).concat(_.x," ").concat(_.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},s=this.getControls(),l=s.sNext,d=s.ePre;this.pointsList=[o,l,d,a],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},s=xd(this.pointsList,3),l=s[1],d=s[2];this.pointsList=[o,l,d,a],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePath()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePath()}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,l=o.sourceNode,d=o.targetNode,_=rp({start:a,end:s,sourceNode:l,targetNode:d,offset:this.offset}),j=_.sNext,A=_.ePre;this.pointsList=[a,j,A,s],this.initPoints()}}])&&d_(e.prototype,n),i}(os)).prototype,"path",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gn(Ye.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"initPoints"),Ye.prototype),Gn(Ye.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"updatePoints"),Ye.prototype),Gn(Ye.prototype,"updatePath",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"updatePath"),Ye.prototype),Gn(Ye.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStartPoint"),Ye.prototype),Gn(Ye.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"updateEndPoint"),Ye.prototype),Gn(Ye.prototype,"updateAdjustAnchor",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAdjustAnchor"),Ye.prototype),Gn(Ye.prototype,"getAdjustStart",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"getAdjustStart"),Ye.prototype),Gn(Ye.prototype,"getAdjustEnd",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"getAdjustEnd"),Ye.prototype),Gn(Ye.prototype,"updateAfterAdjustStartAndEnd",[O.i],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAfterAdjustStartAndEnd"),Ye.prototype),Ye);u(39);function Qd(t){return(Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eh(Object(n),!0).forEach(function(r){vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function th(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(l,d){if(!!l){if(typeof l=="string")return nh(l,d);var _=Object.prototype.toString.call(l).slice(8,-1);if(_==="Object"&&l.constructor&&(_=l.constructor.name),_==="Map"||_==="Set")return Array.from(l);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return nh(l,d)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function nh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Re(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Dn,rh,kt=ut({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},Wt.rect,Wt.circle),or=(kd=Re((ve=function(){function t(r,i,o){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),vn(this,"id",""),vn(this,"BaseType",bt.NODE),vn(this,"modelType",Ie.NODE),vn(this,"additionStateData",void 0),vn(this,"targetRules",[]),vn(this,"sourceRules",[]),vn(this,"moveRules",[]),vn(this,"hasSetTargetRules",!1),vn(this,"hasSetSourceRules",!1),tt(this,"properties",kd,this),tt(this,"type",Dd,this),tt(this,"x",Td,this),tt(this,"y",Md,this),tt(this,"_width",Nd,this),vn(this,"graphModel",void 0),tt(this,"_height",Cd,this),tt(this,"fill",Rd,this),tt(this,"fillOpacity",Id,this),tt(this,"strokeWidth",Ld,this),tt(this,"stroke",zd,this),tt(this,"strokeOpacity",Bd,this),tt(this,"opacity",Fd,this),tt(this,"outlineColor",Ud,this),tt(this,"hoverOutlineColor",Xd,this),tt(this,"outlineStrokeDashArray",Hd,this),tt(this,"hoverOutlineStrokeDashArray",Gd,this),tt(this,"isSelected",Wd,this),tt(this,"isHovered",Vd,this),tt(this,"isHitable",Yd,this),tt(this,"zIndex",Kd,this),tt(this,"anchorsOffset",$d,this),tt(this,"state",Zd,this),tt(this,"text",qd,this),tt(this,"draggable",Jd,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initNodeData(r),this.setAttributes()}var e,n;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o),r.id=this.createId()}this.formatText(r),ut(this,function(a){return zn(a,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===Bn.INCREASE&&(this.zIndex=r.zIndex||ns())}},{key:"createId",value:function(){return Eo()}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,s=this.properties;Object(O.v)(s)&&(s=Object(O.G)(s));var l={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===Bn.INCREASE&&(l.zIndex=this.zIndex),a&&(l.text={x:i,y:o,value:a}),l}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s,l=!0,d=0;d<a.length;d++){var _=a[d];if(!_.validate.call(this,this,r,i,o)){l=!1,s=_.message;break}}return{isAllPass:l,msg:s}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s,l=!0,d=0;d<a.length;d++){var _=a[d];if(!_.validate.call(this,r,this,i,o)){l=!1,s=_.message;break}}return{isAllPass:l,msg:s}}},{key:"isAllowMoveNode",value:function(r,i){var o,a=th(this.moveRules);try{for(a.s();!(o=a.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(d){a.e(d)}finally{a.f()}var s,l=th(this.graphModel.nodeMoveRules);try{for(l.s();!(s=l.n()).done;)if(!(0,s.value)(this,r,i))return!1}catch(d){l.e(d)}finally{l.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.x,o=this.y,a=this.id;return r.map(function(s,l){return s.length?{id:"".concat(a,"_").concat(l),x:i+s[0],y:o+s[1]}:xr(xr({},s),{},{x:i+s.x,y:o+s.y,id:s.id||"".concat(a,"_").concat(l)})})}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.anchorsOffset;return r&&r.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o||this.isAllowMoveNode(r,i)){var a=this.x+r,s=this.y+i;this.x=a,this.y=s,this.text&&this.moveText(r,i)}}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=r-this.x,s=i-this.y;(o||this.isAllowMoveNode(a,s))&&(this.text&&this.text&&this.moveText(a,s),this.x=r,this.y=i)}},{key:"moveText",value:function(r,i){var o=this.text,a=o.x,s=o.y,l=o.value,d=o.draggable,_=o.editable;this.text={value:l,editable:_,draggable:d,x:a+r,y:s+i}}},{key:"updateText",value:function(r){this.text.value=r}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateData",value:function(r){var i=yn(zn(r,"type","x","y","text","properties")),o=this.text,a=o.x,s=o.y,l=o.draggable,d=o.editable;if(i.text&&typeof i.text=="string")i.text={x:a,y:s,value:i.text,draggable:l,editable:d};else if(Qd(i.text)==="object"){var _=xr(xr({},this.text),i.text);i.text=zn(_,"x","y","value","draggable","editable")}ut(this,i)}},{key:"setProperty",value:function(r,i){this.properties=xr(xr({},this.properties),{},vn({},r,yn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=xr(xr({},this.properties),yn(r)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&ut(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kt.zIndex;this.zIndex=r}},{key:"updateAttributes",value:function(r){ut(this,r)}}])&&v_(e.prototype,n),t}()).prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Dd=Re(ve.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Td=Re(ve.prototype,"x",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.x}}),Md=Re(ve.prototype,"y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.y}}),Nd=Re(ve.prototype,"_width",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.width}}),Cd=Re(ve.prototype,"_height",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.height}}),Rd=Re(ve.prototype,"fill",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.fill}}),Id=Re(ve.prototype,"fillOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.fillOpacity}}),Ld=Re(ve.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.strokeWidth}}),zd=Re(ve.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.stroke}}),Bd=Re(ve.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.strokeOpacity}}),Fd=Re(ve.prototype,"opacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.opacity}}),Ud=Re(ve.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.outlineColor}}),Xd=Re(ve.prototype,"hoverOutlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.hoverOutlineColor}}),Hd=Re(ve.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.outlineStrokeDashArray}}),Gd=Re(ve.prototype,"hoverOutlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.hoverOutlineStrokeDashArray}}),Wd=Re(ve.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=Re(ve.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Re(ve.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kd=Re(ve.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.zIndex}}),$d=Re(ve.prototype,"anchorsOffset",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zd=Re(ve.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qd=Re(ve.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kt.text}}),Jd=Re(ve.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Re(ve.prototype,"addNodeMoveRules",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"addNodeMoveRules"),ve.prototype),Re(ve.prototype,"move",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"move"),ve.prototype),Re(ve.prototype,"moveTo",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"moveTo"),ve.prototype),Re(ve.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"moveText"),ve.prototype),Re(ve.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateText"),ve.prototype),Re(ve.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setSelected"),ve.prototype),Re(ve.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setHovered"),ve.prototype),Re(ve.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setHitable"),ve.prototype),Re(ve.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setElementState"),ve.prototype),Re(ve.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateStroke"),ve.prototype),Re(ve.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateData"),ve.prototype),Re(ve.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setProperty"),ve.prototype),Re(ve.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setProperties"),ve.prototype),Re(ve.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setStyleFromTheme"),ve.prototype),Re(ve.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"setZIndex"),ve.prototype),Re(ve.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(ve.prototype,"updateAttributes"),ve.prototype),ve);function oh(t){return(oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function g_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e){return(ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function b_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ps(t);if(e){var i=Ps(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}function Ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Wa(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var xt,ah,uh,As=(rh=Wa((Dn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ih(o,a)})(i,t);var e,n,r=b_(i);function i(o,a){var s,l,d,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"circle"),l=Ga(s),d="modelType",_=Ie.CIRCLE_NODE,d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,function(j,A,M,F){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(F):void 0})}(Ga(s),"r",rh,Ga(s)),s}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.r;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-l,id:"".concat(this.id,"_0")},{x:a+l,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+l,id:"".concat(this.id,"_2")},{x:a-l,y:s,id:"".concat(this.id,"_3")}]}}])&&g_(e.prototype,n),i}(or)).prototype,"r",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.circle.r}}),Wa(Dn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(Dn.prototype,"width"),Dn.prototype),Wa(Dn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(Dn.prototype,"height"),Dn.prototype),Wa(Dn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Dn.prototype,"anchors"),Dn.prototype),Dn);u(103);function sh(t){return(sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ks(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ch(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lh(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ph(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function __(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dh(t,e,n){return(dh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=xi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function hh(t,e){return(hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function O_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xi(t);if(e){var i=xi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w_(this,n)}}function w_(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Do(t)}function Do(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xi(t){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function yh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var gn,vh,gh,Ds=(ah=Zr((xt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&hh(o,a)})(i,t);var e,n,r=O_(i);function i(o,a){var s;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),yh(Do(s=r.call(this,o,a,"diamond")),"modelType",Ie.DIAMOND_NODE),ph(Do(s),"rx",ah,Do(s)),ph(Do(s),"ry",uh,Do(s)),s}return e=i,(n=[{key:"getData",value:function(){var o=this.rx,a=this.ry;return fh(fh({},dh(xi(i.prototype),"getData",this).call(this)),{},{rx:o,ry:a})}},{key:"points",get:function(){var o=this.x,a=this.y,s=this.rx,l=this.ry;return[[o,a-l],[o+s,a],[o,a+l],[o-s,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=ks(s,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=ks(s,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,s=this.points;return a&&a.length>0?this.getAnchorsByOffset():s.map(function(l,d){var _=ks(l,2);return{x:_[0],y:_[1],id:"".concat(o.id,"_").concat(d)}})}}])&&__(e.prototype,n),i}(or)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=Zr(xt.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr(xt.prototype,"points",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"points"),xt.prototype),Zr(xt.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"pointsPosition"),xt.prototype),Zr(xt.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"width"),xt.prototype),Zr(xt.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"height"),xt.prototype),Zr(xt.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(xt.prototype,"anchors"),xt.prototype),xt);function bh(t){return(bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function mh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function x_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _h(t,e){return(_h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function E_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ts(t);if(e){var i=Ts(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S_(this,n)}}function S_(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return To(t)}function To(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ts(t){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ei(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Vt,Oh,Ms=(vh=Ei((gn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&_h(o,a)})(i,t);var e,n,r=E_(i);function i(o,a){var s,l,d,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"ellipse"),l=To(s),d="modelType",_=Ie.ELLIPSE_NODE,d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,mh(To(s),"rx",vh,To(s)),mh(To(s),"ry",gh,To(s)),s}return e=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.rx,d=this.ry;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-d,id:"".concat(this.id,"_0")},{x:a+l,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+d,id:"".concat(this.id,"_2")},{x:a-l,y:s,id:"".concat(this.id,"_3")}]}}])&&x_(e.prototype,n),i}(or)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.ellipse.rx}}),gh=Ei(gn.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.ellipse.ry}}),Ei(gn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(gn.prototype,"width"),gn.prototype),Ei(gn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(gn.prototype,"height"),gn.prototype),Ei(gn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(gn.prototype,"anchors"),gn.prototype),gn);function wh(t){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ns(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eh(t,e){return(Eh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function P_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cs(t);if(e){var i=Cs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A_(this,n)}}function A_(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Va(t)}function Va(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Si(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ji,Sh,Rs=(Oh=Si((Vt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Eh(o,a)})(i,t);var e,n,r=P_(i);function i(o,a){var s,l,d,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"polygon"),l=Va(s),d="modelType",_=Ie.POLYGON_NODE,d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,function(j,A,M,F){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(F):void 0})}(Va(s),"points",Oh,Va(s)),s}return e=i,(n=[{key:"pointsPosition",get:function(){var o=this.x,a=this.y,s=this.width,l=this.height;return this.points.map(function(d){return{x:d[0]+o-s/2,y:d[1]+a-l/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=Ns(s,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var l=Ns(s,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,s=this.x,l=this.y,d=this.width,_=this.height,j=this.points;return a&&a.length>0?this.getAnchorsByOffset():j.map(function(A,M){var F=Ns(A,2),$=F[0],Y=F[1];return{x:s+$-d/2,y:l+Y-_/2,id:"".concat(o.id,"_").concat(M)}})}}])&&j_(e.prototype,n),i}(or)).prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Si(Vt.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"pointsPosition"),Vt.prototype),Si(Vt.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"width"),Vt.prototype),Si(Vt.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"height"),Vt.prototype),Si(Vt.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Vt.prototype,"anchors"),Vt.prototype),Vt);function jh(t){return(jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function k_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ph(t,e){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function D_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Is(t);if(e){var i=Is(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T_(this,n)}}function T_(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ya(t)}function Ya(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Is(t){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ah(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Wn,kh,Dh,Th,Ls=(Sh=Ah((ji=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ph(o,a)})(i,t);var e,n,r=D_(i);function i(o,a){var s,l,d,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"rect"),l=Ya(s),d="modelType",_=Ie.RECT_NODE,d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,function(j,A,M,F){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(F):void 0})}(Ya(s),"radius",Sh,Ya(s)),s}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.width,d=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-d/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+d/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:s,id:"".concat(this.id,"_3")}]}}])&&k_(e.prototype,n),i}(or)).prototype,"radius",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.rect.radius}}),Ah(ji.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(ji.prototype,"anchors"),ji.prototype),ji);function Mh(t){return(Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zs(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function M_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nh(t,e){return(Nh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function N_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bs(t);if(e){var i=Bs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C_(this,n)}}function C_(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Er(t)}function Er(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bs(t){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Pi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ka,Fs=(kh=Pi((Wn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Nh(o,a)})(i,t);var e,n,r=N_(i);function i(o,a){var s,l,d,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"text"),l=Er(s),d="modelType",_=Ie.TEXT_NODE,d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,zs(Er(s),"fontSize",kh,Er(s)),zs(Er(s),"fontFamily",Dh,Er(s)),zs(Er(s),"fontWeight",Th,Er(s)),s}return e=i,(n=[{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Na({rows:o,fontSize:this.fontSize,rowsLength:o.length}).width;return a>100?a:100}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Na({rows:o,fontSize:this.fontSize,rowsLength:o.length}).height;return a>20?a:20}}])&&M_(e.prototype,n),i}(or)).prototype,"fontSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.text.fontSize}}),Dh=Pi(Wn.prototype,"fontFamily",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.text.fontFamily}}),Th=Pi(Wn.prototype,"fontWeight",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wt.text.fontWeight}}),Pi(Wn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(Wn.prototype,"width"),Wn.prototype),Pi(Wn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(Wn.prototype,"height"),Wn.prototype),Wn);function Ch(t){return(Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function R_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rh(t,e){return(Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function I_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Us(t);if(e){var i=Us(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L_(this,n)}}function L_(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ih(t)}function Ih(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Us(t){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Nt,Lh,zh,Bh,Xs=(function(t,e,n,r,i){var o={};Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null)}((Ka=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Rh(o,a)})(i,t);var e,n,r=I_(i);function i(o,a){var s,l,d,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),s=r.call(this,o,a,"html"),l=Ih(s),d="modelType",_=Ie.HTML_NODE,d in l?Object.defineProperty(l,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[d]=_,s}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,s=this.y,l=this.width,d=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:s-d/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:s,id:"".concat(this.id,"_1")},{x:a,y:s+d/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:s,id:"".concat(this.id,"_3")}]}}])&&R_(e.prototype,n),i}(or)).prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Ka.prototype,"anchors"),Ka.prototype),Ka);function Hs(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,s){return s(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Fh=Wt.snapline,Uh=(Lh=qr((Nt=function(){function t(r){var i,o,a;(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),a=void 0,(o="graphModel")in(i=this)?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,Hs(this,"isShowHorizontal",Lh,this),Hs(this,"isShowVertical",zh,this),Hs(this,"position",Bh,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||Fh.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||Fh.strokeWidth}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,a=r.y,s=!1,l=!1,d=0;d<i.length;d++){var _=i[d];if(_.id!==r.id&&(o===_.x&&(s=!0),a===_.y&&(l=!0),s&&l))break}return{isShowVertical:s,isShowHorizontal:l,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,a,s=!1,l=r.id;if(l){var d=this.graphModel.fakerNode;if(d&&d.id===l)a=nn(d);else{var _=this.graphModel.getNodeModel(l);a=nn(_)}}for(var j=0;j<i.length;j++){var A=i[j];if(A.id!==r.id){var M=nn(A);if(M.minY===a.minY||M.maxY===a.minY){s=!0,o=a.minY;break}if(M.minY===a.maxY||M.maxY===a.maxY){s=!0,o=a.maxY;break}}}return ut({isShowHorizontal:s,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,a,s=!1,l=r.id;if(l){var d=this.graphModel.fakerNode;if(d&&d.id===l)a=nn(d);else{var _=this.graphModel.getNodeModel(l);a=nn(_)}}for(var j=0;j<i.length;j++){var A=i[j];if(A.id!==r.id){var M=nn(A);if(M.minX===a.minX||M.maxX===a.minX){s=!0,o=a.minX;break}if(M.minX===a.maxX||M.maxX===a.maxX){s=!0,o=a.maxX;break}}}return ut({isShowVertical:s,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),a=o.isShowHorizontal,s=o.isShowVertical;if(!a){var l=this.getHorizontalSnapline(r,i);l.isShowHorizontal&&(o.isShowHorizontal=l.isShowHorizontal,o.position.y=l.position.y)}if(!s){var d=this.getVerticalSnapline(r,i);d.isShowVertical&&(o.isShowVertical=d.isShowVertical,o.position.x=d.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,a=r.position;this.position=a,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&z_(e.prototype,n),t}()).prototype,"isShowHorizontal",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zh=qr(Nt.prototype,"isShowVertical",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=qr(Nt.prototype,"position",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr(Nt.prototype,"stroke",[O.k],Object.getOwnPropertyDescriptor(Nt.prototype,"stroke"),Nt.prototype),qr(Nt.prototype,"strokeWidth",[O.k],Object.getOwnPropertyDescriptor(Nt.prototype,"strokeWidth"),Nt.prototype),qr(Nt.prototype,"clearSnapline",[O.i],Object.getOwnPropertyDescriptor(Nt.prototype,"clearSnapline"),Nt.prototype),qr(Nt.prototype,"setNodeSnapLine",[O.i],Object.getOwnPropertyDescriptor(Nt.prototype,"setNodeSnapLine"),Nt.prototype),Nt);function Xh(t){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $a(){return($a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function B_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Hh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gh(t,e){return(Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function U_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gs(t);if(e){var i=Gs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ir(t)}function ir(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gs(t){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H_=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Gh(o,a)})(i,t);var e,n,r=U_(i);function i(){var o;return function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),Sr(ir(o=r.call(this)),"preTargetNode",void 0),Sr(ir(o),"dragHandler",void 0),Sr(ir(o),"sourceRuleResults",void 0),Sr(ir(o),"targetRuleResults",void 0),Sr(ir(o),"onDragStart",function(){var a=o.props,s=a.x,l=a.y,d=a.nodeModel,_=a.graphModel,j=_.overlapMode;_.selectNodeById(d.id),j!==Bn.INCREASE&&_.toFront(d.id),o.setState({startX:s,startY:l,endX:s,endY:l})}),Sr(ir(o),"onDraging",function(a){var s=a.deltaX,l=a.deltaY,d=o.state,_=d.endX,j=d.endY,A=o.props,M=A.graphModel,F=A.nodeModel,$=M.transformMatrix,Y=M.nodes,Z=B_($.moveCanvasPointByHtml([_,j],s,l),2),q=Z[0],te=Z[1];o.setState({endX:q,endY:te,draging:!0});var oe=Ma({x:_,y:j},Y);if(oe){var ae=oe.node;o.preTargetNode=ae;var we=oe.anchor.id,Oe="".concat(ae.id,"_").concat(we);if(!o.targetRuleResults.has(Oe)){var Ae=o.props.anchorData,Ge=oe.anchor,Ke=F.isAllowConnectedAsSource(ae,Ae,Ge),bn=ae.isAllowConnectedAsTarget(F,Ae,Ge);o.sourceRuleResults.set(ae.id,Cf(Ke)),o.targetRuleResults.set(Oe,Cf(bn))}var Nn=o.sourceRuleResults.get(ae.id).isAllPass,mn=o.targetRuleResults.get(Oe).isAllPass;Nn&&mn?ae.setElementState($e.ALLOW_CONNECT):ae.setElementState($e.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT)}),Sr(ir(o),"onDragEnd",function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear()}),Sr(ir(o),"checkEnd",function(){var a=o.props,s=a.graphModel,l=a.nodeModel,d=a.x,_=a.y,j=a.eventCenter,A=a.id,M=s.nodes,F=s.edgeType,$=o.state,Y=$.endX,Z=$.endY,q=$.draging,te=Ma({x:Y,y:Z},M);if(o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT),q&&te&&te.node){var oe=te.node,ae=o.sourceRuleResults.get(oe.id)||{},we=ae.isAllPass,Oe=ae.msg,Ae=te.anchor.id,Ge="".concat(oe.id,"_").concat(Ae),Ke=o.targetRuleResults.get(Ge)||{},bn=Ke.isAllPass,Nn=Ke.msg;if(we&&bn)oe.setElementState($e.ALLOW_CONNECT),d===te.anchor.x&&_===te.anchor.y||s.createEdge({type:F,sourceNodeId:l.id,sourceAnchorId:A,startPoint:{x:d,y:_},targetNodeId:te.node.id,targetAnchorId:te.anchor.id,endPoint:{x:te.anchor.x,y:te.anchor.y}});else{var mn=oe.getData();j.emit(Ce.CONNECTION_NOT_ALLOWED,{data:mn,msg:Nn||Oe})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=bi({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"isShowLine",value:function(){var o=this.state,a=o.startX,s=o.startY,l=o.endX,d=o.endY;return Fn(a,s,l,d)>10}},{key:"render",value:function(){var o=this.state,a=o.startX,s=o.startY,l=o.endX,d=o.endY,_=this.props,j=_.x,A=_.y,M=_.style,F=_.edgeStyle;return R("g",{className:"lf-anchor"},R(_i,$a({className:"lf-node-anchor-hover",x:j,y:A},_.hoverStyle,{onMouseDown:this.dragHandler})),R(_i,$a({className:"lf-node-anchor",x:j,y:A},M,{onMouseDown:this.dragHandler})),this.isShowLine()&&R(ko,$a({x1:a,y1:s,x2:l,y2:d,"pointer-events":"none"},F)))}}])&&F_(e.prototype,n),i}(C);function Wh(t){return(Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function G_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ws(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,a=t.color,s=a===void 0?"#000000":a,l=t.fontSize,d=t.fill,_=d===void 0?"currentColor":d,j=t.model,A=t.fontFamily,M=A===void 0?"":A,F=t.lineHeight,$=t.autoWrap,Y=$!==void 0&&$,Z=t.wrapPadding,q=Z===void 0?"0, 0":Z,te={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:_};if(Object.entries(t).forEach(function(Tr){var to=G_(Tr,2),Ec=to[0],ou=to[1];Wh(ou)!=="object"&&(te[Ec]=ou)}),o){var oe=String(o).split(/[\r\n]/g),ae=oe.length,we=j.BaseType,Oe=j.width,Ae=j.textWidth,Ge=j.modelType;if(we===bt.NODE&&Ge!==Ie.TEXT_NODE&&Y||we===bt.EDGE&&Y&&Ae){var Ke=Ae||Oe,bn=Nf({rows:oe,style:{fontSize:"".concat(l,"px"),width:"".concat(Ke,"px"),fontFamily:M,lineHeight:F,padding:q},rowsLength:ae,className:"lf-get-text-height"}),Nn=j.height>bn?j.height:bn;return R("g",null,R("foreignObject",{width:Ke,height:Nn,x:te.x-Ke/2,y:te.y-Nn/2},R("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:j.height,width:Ke,color:s,padding:q}},R("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:l,fontFamily:M,lineHeight:F,background:"transparent",textAlign:"center",wordBreak:"break-all"}},oe.map(function(Tr){return R("div",null,Tr)})))))}if(ae>1){var mn=oe.map(function(Tr,to){return R("tspan",{className:"lf-text-tspan",x:n,y:i+(to-(ae-1)/2)*(l+2)},Tr)});return R("text",te,mn)}return R("text",te,o)}}function Yh(t){return(Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Kh(){return(Kh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function W_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return $h(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $h(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $h(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zh(t,e){return(Zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Y_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vs(t);if(e){var i=Vs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K_(this,n)}}function K_(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jr(t)}function jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vs(t){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qh=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Zh(o,a)})(i,t);var e,n,r=Y_(i);function i(o){var a;(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Jr(jr(a=r.call(this)),"dragHandler",void 0),Jr(jr(a),"sumDeltaX",0),Jr(jr(a),"sumDeltaY",0),Jr(jr(a),"stepDrag",void 0),Jr(jr(a),"onDraging",function(d){var _=d.deltaX,j=d.deltaY,A=a.props,M=A.model,F=W_(A.graphModel.transformMatrix.fixDeltaXY(_,j),2),$=F[0],Y=F[1];M.moveText($,Y)}),Jr(jr(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState($e.TEXT_EDIT)}),Jr(jr(a),"mouseDownHandle",function(d){var _=a.props,j=_.draggable,A=_.graphModel.editConfig.nodeTextDraggable;(j||A)&&a.stepDrag.handleMouseDown(d)});var s=o.model,l=o.draggable;return a.stepDrag=new mi({onDraging:a.onDraging,step:1,model:s,isStopPropagation:l}),a}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.style,l=a.text,d=l.value;return R(Ws,Kh({},{x:l.x,y:l.y,className:"lf-element-text",value:d},s,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return R("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&V_(e.prototype,n),i}(C),$_=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Jh(t){return(Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Qh(){return(Qh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(n),!0).forEach(function(r){un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ty(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ty(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ny(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ry(t,e){return(ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function q_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ys(t);if(e){var i=Ys(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J_(this,n)}}function J_(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}function an(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ys(t){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ar=function(t){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&ry(a,s)})(o,t);var e,n,r,i=q_(o);function o(a){var s;(function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")})(this,o),un(an(s=i.call(this)),"stepDrag",void 0),un(an(s),"contextMenuTime",void 0),un(an(s),"startTime",void 0),un(an(s),"clickTimer",void 0),un(an(s),"onDraging",function(j){var A=j.deltaX,M=j.deltaY,F=s.props,$=F.model,Y=F.graphModel;s.state.isDraging||s.setState({isDraging:!0});var Z=Z_(Y.transformMatrix.fixDeltaXY(A,M),2),q=Z[0],te=Z[1];Y.moveNode($.id,q,te)}),un(an(s),"onDragEnd",function(){s.setState({isDraging:!1})}),un(an(s),"handleClick",function(j){if(s.startTime&&!(new Date().getTime()-s.startTime>200)){var A=s.props,M=A.model,F=A.eventCenter,$=A.graphModel,Y={data:M.getData(),e:j,position:$.getPointByClient({x:j.clientX,y:j.clientY})},Z=j.button===2,q=j.detail===2;if(!Z){var te=$.editConfig.metaKeyMultipleSelected;$.selectNodeById(M.id,j.metaKey&&te),s.toFront(),q?($.editConfig.nodeTextEdit&&M.text.editable&&(M.setSelected(!1),$.setElementStateById(M.id,$e.TEXT_EDIT)),F.emit(Ce.NODE_DBCLICK,Y)):(F.emit(Ce.ELEMENT_CLICK,Y),F.emit(Ce.NODE_CLICK,Y))}}}),un(an(s),"handleContextMenu",function(j){j.preventDefault();var A=s.props,M=A.model,F=A.eventCenter,$=A.graphModel,Y=M.getData(),Z=$.getPointByClient({x:j.clientX,y:j.clientY});$.setElementStateById(M.id,$e.SHOW_MENU,Z.domOverlayPosition),$.selectNodeById(M.id),F.emit(Ce.NODE_CONTEXTMENU,{data:Y,e:j,position:Z}),s.toFront()}),un(an(s),"handleMouseDown",function(j){var A=s.props,M=A.model,F=A.graphModel;s.toFront(),s.startTime=new Date().getTime(),F.editConfig.adjustNodePosition&&M.draggable&&s.stepDrag&&s.stepDrag.handleMouseDown(j)}),un(an(s),"setHoverON",function(j){if(!s.state.isHovered){s.setState({isHovered:!0});var A=s.props,M=A.model,F=A.eventCenter,$=M.getData();M.setHovered(!0),F.emit(Ce.NODE_MOUSEENTER,{data:$,e:j})}}),un(an(s),"setHoverOFF",function(j){s.setState({isHovered:!1});var A=s.props,M=A.model,F=A.eventCenter,$=M.getData();M.setHovered(!1),F.emit(Ce.NODE_MOUSELEAVE,{data:$,e:j})}),un(an(s),"onMouseOut",function(j){$_&&s.setHoverOFF(j)});var l=a.graphModel.gridSize,d=a.eventCenter,_=a.model;return s.stepDrag=new mi({onDraging:s.onDraging,onDragEnd:s.onDragEnd,step:l,eventType:"NODE",eventCenter:d,model:_}),s.state={isDraging:!1,isHovered:!1},s}return e=o,r=[{key:"getModel",value:function(a){return a}}],(n=[{key:"getShapeStyle",value:function(){var a=this.props.model;return{width:a.width,height:a.height,fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,opacity:a.opacity,outlineColor:a.outlineColor}}},{key:"getAttributes",value:function(){var a=this.props.model,s=a.id,l=a.properties,d=l===void 0?{}:l,_=a.type,j=a.x,A=a.y,M=a.isSelected,F=a.isHovered,$=a.text,Y=this.getShapeStyle();return Qr({id:s,properties:Qr({},d),type:_,x:j,y:A,isSelected:M,isHovered:F,text:Qr({},$)},Y)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return Qr({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return Qr({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return Qr({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var a=this,s=this.props,l=s.model,d=s.graphModel,_=s.eventCenter,j=l.isSelected,A=l.isHitable,M=this.state,F=M.isHovered,$=M.isDraging;if(A&&(j||F)){var Y=this.getAnchorStyle(),Z=this.getAnchorHoverStyle(),q=this.getNewEdgeStyle();return Pa(l.anchors,function(te,oe){return R(H_,Qh({},te,{anchorData:te,nodeDraging:$,style:Y,hoverStyle:Z,edgeStyle:q,anchorIndex:oe,nodeModel:l,eventCenter:_,graphModel:d,setHoverOFF:a.setHoverOFF}))})}return[]}},{key:"getTextStyle",value:function(){return Qr({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var a=this.props,s=a.model,l=a.graphModel;if(s.state===$e.TEXT_EDIT)return"";var d=this.getTextStyle();if(s.text){var _=l.editConfig,j=!1;return(s.text.draggable||_.nodeTextDraggable)&&(j=!0),R(qh,{editable:_.nodeTextEdit&&s.text.editable,style:d,model:s,graphModel:l,draggable:j})}}},{key:"getStateClassName",value:function(){var a="lf-node";switch(this.props.model.state){case $e.ALLOW_CONNECT:a+=" lf-node-allow";break;case $e.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default"}return this.state.isDraging&&(a+=" lf-dragging"),a}},{key:"toFront",value:function(){var a=this.props,s=a.model,l=a.graphModel;l.overlapMode!==Bn.INCREASE&&l.toFront(s.id)}},{key:"render",value:function(){var a,s=this.props,l=s.model,d=s.graphModel,_=d.editConfig,j=_.hideAnchors,A=_.adjustNodePosition,M=d.gridSize,F=d.transformMatrix.SCALE_X,$=l.isHitable,Y=l.draggable,Z=R("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return $?(A&&Y&&this.stepDrag.setStep(M*F),a=R("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Z)):a=R("g",{className:this.getStateClassName()},Z),a}}])&&ny(e.prototype,n),r&&ny(e,r),o}(C);function oy(t){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(n),!0).forEach(function(r){Q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ks(t,e,n){return(Ks=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=Mo(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function ay(t,e){return(ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function nO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mo(t);if(e){var i=Mo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rO(this,n)}}function rO(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var $s=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ay(o,a)})(i,t);var e,n,r=nO(i);function i(){return eO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Ks(Mo(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.radius;return Za(Za({},o),{},{radius:a})}},{key:"getAttributes",value:function(){var o=Ks(Mo(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Za(Za({},o),a)}},{key:"getShape",value:function(){return R(wr,this.getAttributes())}}])&&tO(e.prototype,n),i}(ar);function uy(t){return(uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(n),!0).forEach(function(r){oO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zs(t,e,n){return(Zs=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=No(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function cy(t,e){return(cy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function uO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=No(t);if(e){var i=No(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sO(this,n)}}function sO(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function No(t){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&cy(o,a)})(i,t);var e,n,r=uO(i);function i(){return iO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Zs(No(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.r;return qa(qa({},o),{},{r:a})}},{key:"getAttributes",value:function(){var o=Zs(No(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return qa(qa({},o),a)}},{key:"getShape",value:function(){return R(_i,this.getAttributes())}}])&&aO(e.prototype,n),i}(ar);function ly(t){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return fy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function py(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(t).forEach(function(i){var o=cO(i,2),a=o[0],s=o[1];ly(s)!=="object"&&(r[a]=s)}),r.points=e.map(function(i){return i.join(",")}).join(" "),R("polygon",r)}function dy(t){return(dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function hy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hy(Object(n),!0).forEach(function(r){lO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Js(t,e,n){return(Js=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=Co(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function yy(t,e){return(yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function dO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Co(t);if(e){var i=Co(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hO(this,n)}}function hO(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Qs=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&yy(o,a)})(i,t);var e,n,r=dO(i);function i(){return fO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Js(Co(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.points;return Ja(Ja({},o),{},{points:a})}},{key:"getAttributes",value:function(){var o=Js(Co(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Ja(Ja({},o),a)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.width,s=o.height,l=o.x,d=o.y,_=o.fill,j=o.fillOpacity,A=o.strokeWidth,M=o.stroke,F=o.strokeOpacity,$=o.points;return R("g",{transform:"matrix(1 0 0 1 ".concat(l-a/2," ").concat(d-s/2,")")},R(py,{fill:_,fillOpacity:j,strokeWidth:A,stroke:M,strokeOpacity:F,points:$}))}}])&&pO(e.prototype,n),i}(ar);function vy(t){return(vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gy(Object(n),!0).forEach(function(r){yO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ec(t,e,n){return(ec=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=Ro(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function by(t,e){return(by=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function bO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ro(t);if(e){var i=Ro(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mO(this,n)}}function mO(t,e){if(e&&(vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var tc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&by(o,a)})(i,t);var e,n,r=bO(i);function i(){return vO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=this.props.model.points;return Qa(Qa({},ec(Ro(i.prototype),"getShapeStyle",this).call(this)),{},{points:o})}},{key:"getAttributes",value:function(){var o=ec(Ro(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Qa(Qa({},o),a)}},{key:"getShape",value:function(){var o=this.props.model.points,a=this.getAttributes();return R("g",null,R(py,{fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,points:o}))}}])&&gO(e.prototype,n),i}(ar);function my(t){return(my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function _O(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return _y(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _y(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OO(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,a=o===void 0?4:o,s=t.ry,l={cx:n,cy:i,rx:a,ry:s===void 0?4:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(d){var _=_O(d,2),j=_[0],A=_[1];my(A)!=="object"&&(l[j]=A)}),R("ellipse",l)}function Oy(t){return(Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(n),!0).forEach(function(r){wO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ey(t,e,n){return(Ey=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=Ai(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function Sy(t,e){return(Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function SO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ai(t);if(e){var i=Ai(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ai(t){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var nc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Sy(o,a)})(i,t);var e,n,r=SO(i);function i(){return xO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=Ey(Ai(i.prototype),"getAttributes",this).call(this),a=this.props.model,s=a.rx,l=a.ry;return xy(xy({},o),{},{rx:s,ry:l})}},{key:"getShape",value:function(){return R(OO,this.getAttributes())}}])&&EO(e.prototype,n),i}(ar);function jy(t){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Py(Object(n),!0).forEach(function(r){PO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function DO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rc(t);if(e){var i=rc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function rc(t){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var oc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ky(o,a)})(i,t);var e,n,r=DO(i);function i(){return AO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.getAttributes().text,a=this.getTextStyle();if(o&&o.value&&a.backgroundStyle&&a.backgroundStyle.fill!=="transparnet"){var s=a.fontSize,l=o.value,d=o.x,_=o.y,j=String(l).split(/[\r\n]/g),A=j.length;j&&j.forEach(function(Y){hs(Y)});var M=Na({rows:j,fontSize:s,rowsLength:A}),F=M.width,$=M.height;return R(wr,Ay(Ay({},a.backgroundStyle),{},{x:d-1,y:_-1,width:F,height:$}))}}},{key:"getShape",value:function(){var o=this.getAttributes();return R("g",null,this.getBackgroud(),R(Ws,o))}}])&&kO(e.prototype,n),i}(ar);function Dy(t){return(Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function MO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ty(t,e){return(Ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function CO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ac(t);if(e){var i=ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(t,e){if(e&&(Dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ic(t)}function ic(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ac(t){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function My(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ty(o,a)})(i,t);var e,n,r=CO(i);function i(){var o;MO(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return My(ic(o=r.call.apply(r,[this].concat(s))),"ref",void 0),My(ic(o),"setRef",function(d){o.ref=d}),o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.x,s=o.y,l=o.width,d=o.height;return R("foreignObject",{x:a-l/2,y:s-d/2,width:l,height:d,ref:this.setRef})}}])&&NO(e.prototype,n),i}(ar);function Ny(t){return(Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function IO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Cy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Cy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ry(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=IO(n,2),i=r[0],o=r[1];Ny(o)!=="object"&&(e[i]=o)}),R("path",e)}Ry.defaultProps={strokeDasharray:""};var ki=Ry;function Iy(t){return(Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zy(t,e){return(zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function FO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sc(t);if(e){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return UO(this,n)}}function UO(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sc(t){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var By=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&zy(o,a)})(i,t);var e,n,r=FO(i);function i(){return zO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getArrowAttibutes",value:function(){var o=this.props,a=o.arrowInfo,s=o.style,l=a.start,d=a.end,_={start:l,end:d,offset:s.offset,verticalLength:s.verticalLength,type:"end"},j=yi(_),A=j.leftX,M=j.leftY,F=j.rightX,$=j.rightY;return function(Y){for(var Z=1;Z<arguments.length;Z++){var q=arguments[Z]!=null?arguments[Z]:{};Z%2?Ly(Object(q),!0).forEach(function(te){LO(Y,te,q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(q)):Ly(Object(q)).forEach(function(te){Object.defineProperty(Y,te,Object.getOwnPropertyDescriptor(q,te))})}return Y}({d:"M".concat(A," ").concat(M," L").concat(d.x," ").concat(d.y," L").concat(F," ").concat($," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttibutes(),a=o.d,s=o.strokeWidth,l=o.stroke,d=o.fill;return R(ki,{d:a,fill:d,strokeWidth:s,stroke:l})}},{key:"render",value:function(){return R("g",{className:"lf-arrow"},this.getShape())}}])&&BO(e.prototype,n),i}(C);function Fy(t){return(Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Uy(){return(Uy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Xy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xy(Object(n),!0).forEach(function(r){fc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return(Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function HO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lc(t);if(e){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return GO(this,n)}}function GO(t,e){if(e&&(Fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cc(t)}function cc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lc(t){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function fc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pr,WO=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Hy(o,a)})(i,t);var e,n,r=HO(i);function i(o){var a;return function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),fc(cc(a=r.call(this,o)),"setHoverON",function(){a.setState({isHoverd:!0})}),fc(cc(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,a=this.props.style,s=o.text,l=o.textWidth,d=zn(a.background,"fill","stroke","radius","height");if(this.state.isHoverd&&a.hoverBackground&&(d=eo(eo({},d),a.hoverBackground)),s&&s.value&&d.fill!=="transparnet"){var _,j=a.fontSize,A=a.autoWrap,M=a.lineHeight,F=a.wrapPadding,$=s.value,Y=s.x,Z=s.y,q=String($).split(/[\r\n]/g),te=q.length;if(A&&l){var oe=Nf({rows:q,style:{fontSize:"".concat(j,"px"),width:"".concat(l,"px"),lineHeight:M,padding:F},rowsLength:te,className:"lf-get-text-height"});_=eo(eo({},d),{},{x:Y-1,y:Z-1,width:l,height:oe})}else{q&&q.forEach(function(Ae){hs(Ae)});var ae=Na({rows:q,fontSize:j,rowsLength:te}),we=ae.width,Oe=ae.height;_=eo(eo({},d),{},{x:Y-1,y:Z-1,width:we,height:Oe})}return R(wr,_)}}},{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.style,l=a.text,d=l.value,_=eo({x:l.x,y:l.y,className:"lf-element-text",value:d},s);return R("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),R(Ws,Uy({},_,{model:a})))}}])&&XO(e.prototype,n),i}(qh);function Gy(t){return(Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wy(){return(Wy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vy(Object(n),!0).forEach(function(r){kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Yy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ky(t,e){return(Ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function KO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pc(t);if(e){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(t,e){if(e&&(Gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(t)}function Ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pc(t){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function kr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Pr||(Pr={}));var $y=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ky(o,a)})(i,t);var e,n,r=KO(i);function i(){var o;return function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),kr(Ar(o=r.call(this)),"dragHandler",void 0),kr(Ar(o),"oldEdge",void 0),kr(Ar(o),"onDragStart",function(){var a=o.props,s=a.x,l=a.y,d=a.edgeModel,_=d.startPoint,j=d.endPoint,A=d.pointsList;o.oldEdge={startPoint:_,endPoint:j,pointsList:A},o.setState({endX:s,endY:l,draging:!0})}),kr(Ar(o),"onDraging",function(a){var s=a.deltaX,l=a.deltaY,d=o.state,_=d.endX,j=d.endY,A=o.props,M=A.graphModel,F=A.type,$=VO(M.transformMatrix.moveCanvasPointByHtml([_,j],s,l),2),Y=$[0],Z=$[1];o.setState({endX:Y,endY:Z,draging:!0});var q=o.props.edgeModel,te=M.nodes,oe=Ma({x:_,y:j},te);if(oe&&oe.node){var ae,we=q.startPoint,Oe=q.endPoint,Ae=q.sourceNode,Ge=q.targetNode;F===Pr.SOURCE?ae={startPoint:{x:oe.anchor.x,y:oe.anchor.y},endPoint:{x:Oe.x,y:Oe.y},sourceNode:oe.node,targetNode:Ge}:F===Pr.TARGET&&(ae={startPoint:{x:we.x,y:we.y},endPoint:{x:oe.anchor.x,y:oe.anchor.y},sourceNode:Ae,targetNode:oe.node}),q.updateAfterAdjustStartAndEnd(ae)}else F===Pr.SOURCE?q.updateStartPoint({x:Y,y:Z}):F===Pr.TARGET&&q.updateEndPoint({x:Y,y:Z})}),kr(Ar(o),"onDragEnd",function(){o.setState({draging:!1});var a=o.props,s=a.graphModel,l=a.edgeModel,d=a.type,_=a.eventCenter,j=s.nodes,A=o.state,M=A.endX,F=A.endY,$=A.draging,Y=Ma({x:M,y:F},j);if($)if(Y&&Y.node){var Z,q=l.getData(),te=ur(ur({},q),{},{sourceAnchorId:"",targetAnchorId:"",text:(q==null||(Z=q.text)===null||Z===void 0?void 0:Z.value)||""});d===Pr.SOURCE?te=ur(ur({},te),{},{sourceNodeId:Y.node.id,sourceAnchorId:Y.anchor.id,startPoint:{x:Y.anchor.x,y:Y.anchor.y},targetNodeId:l.targetNodeId,endPoint:ur({},l.endPoint)}):d===Pr.TARGET&&(te=ur(ur({},te),{},{sourceNodeId:l.sourceNodeId,startPoint:ur({},l.startPoint),targetNodeId:Y.node.id,targetAnchorId:Y.anchor.id,endPoint:{x:Y.anchor.x,y:Y.anchor.y}})),s.removeEdgeById(l.id);var oe=s.createEdge(ur({},te));_.emit(Ce.EDGE_EXCHANGE_NODE,{data:{newEdge:oe.getData(),oldEdge:l.getData()}})}else o.recoveryEdge()}),kr(Ar(o),"recoveryEdge",function(){var a=o.props.edgeModel,s=o.oldEdge,l=s.startPoint,d=s.endPoint,_=s.pointsList;a.updateStartPoint(l),a.updateEndPoint(d),a.modelType!==Ie.LINE_EDGE&&(a.pointsList=_,a.initPoints())}),kr(Ar(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.dragHandler=bi({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"render",value:function(){var o=this.props,a=o.x,s=o.y,l=this.state.draging;return R("g",null,R(_i,Wy({className:"lf-edge-adjust-point"},this.getAdjustPointStyle(),{x:a,y:s,onMouseDown:this.dragHandler,"pointer-events":l?"none":""})))}}])&&YO(e.prototype,n),i}(C);function Zy(t){return(Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dc(){return(dc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function qy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qy(Object(n),!0).forEach(function(r){Mn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jy(t,e){return(Jy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function QO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hc(t);if(e){var i=hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ew(this,n)}}function ew(t,e){if(e&&(Zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tn(t)}function Tn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Di=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Jy(o,a)})(i,t);var e,n,r=QO(i);function i(){var o;qO(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return Mn(Tn(o=r.call.apply(r,[this].concat(s))),"startTime",void 0),Mn(Tn(o),"contextMenuTime",void 0),Mn(Tn(o),"clickTimer",void 0),Mn(Tn(o),"handleHover",function(d,_){var j=o.props,A=j.model,M=j.eventCenter;A.setHovered(d);var F=d?Ce.EDGE_MOUSEENTER:Ce.EDGE_MOUSELEAVE,$=A.getData();M.emit(F,{data:$,e:_})}),Mn(Tn(o),"setHoverON",function(d){o.handleHover(!0,d)}),Mn(Tn(o),"setHoverOFF",function(d){o.handleHover(!1,d)}),Mn(Tn(o),"handleContextMenu",function(d){d.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var _=o.props,j=_.model,A=_.graphModel,M=_.eventCenter,F=A.getPointByClient({x:d.clientX,y:d.clientY});A.setElementStateById(j.id,$e.SHOW_MENU,F.domOverlayPosition),o.toFront(),A.selectEdgeById(j.id);var $=j==null?void 0:j.getData();M.emit(Ce.EDGE_CONTEXTMENU,{data:$,e:d,position:F})}),Mn(Tn(o),"handleMouseDown",function(d){d.stopPropagation(),o.startTime=new Date().getTime()}),Mn(Tn(o),"handleMouseUp",function(d){if(o.startTime&&!(new Date().getTime()-o.startTime>200||d.button===2)){var _=d.detail===2,j=o.props,A=j.model,M=j.graphModel,F=j.eventCenter,$=A==null?void 0:A.getData(),Y=M.getPointByClient({x:d.clientX,y:d.clientY});if(_){var Z=M.editConfig,q=M.textEditElement;if(q&&q.id===A.id&&M.setElementStateById(A.id,$e.DEFAULT),Z.edgeTextEdit&&A.text.editable&&M.setElementStateById(A.id,$e.TEXT_EDIT),A.modelType===Ie.POLYLINE_EDGE){var te=A,oe=M.getPointByClient({x:d.x,y:d.y}).canvasOverlayPosition,ae=oe.x,we=oe.y,Oe=op({x:ae,y:we},te.points);te.dbClickPosition=Oe}F.emit(Ce.EDGE_DBCLICK,{data:$,e:d,position:Y})}else F.emit(Ce.ELEMENT_CLICK,{data:$,e:d,position:Y}),F.emit(Ce.EDGE_CLICK,{data:$,e:d,position:Y});var Ae=M.editConfig.metaKeyMultipleSelected;M.selectEdgeById(A.id,d.metaKey&&Ae),o.toFront()}}),Mn(Tn(o),"getIsDraging",function(){return!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.strokeWidth,s=o.strokeOpacity,l=o.strokeDashArray,d=o.isSelected,_=o.isHovered,j=o.hoverStroke,A=o.selectedStroke,M=o.properties,F=this.props.model.stroke;return _?F=j:d&&(F=A),{stroke:F,strokeWidth:a,strokeOpacity:s,strokeDashArray:l,isSelected:d,isHovered:_,hoverStroke:j,selectedStroke:A,properties:ZO({},M)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===$e.TEXT_EDIT)return"";var l=s.theme.edgeText,d=this.getTextStyle(),_=ut({},l,d),j=!1,A=s.editConfig;return(a.text.draggable||A.edgeTextDraggable)&&(j=!0),R(WO,{editable:A.edgeTextEdit&&a.text.editable,model:a,graphModel:s,style:_,draggable:j})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,l=o.isSelected;return{start:a,end:s,hover:this.state.hover,isSelected:l}}},{key:"getArrowStyle",value:function(){var o=this.getAttributes().stroke,a=this.props.graphModel.theme.arrow;return{stroke:o,strokeWidth:1,fill:o,offset:a.offset,verticalLength:a.verticalLength}}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),a=o.start,s=o.end;if(a&&s&&(a.x!==s.x||a.y!==s.y)){var l=this.getArrowStyle();return R(By,{arrowInfo:o,style:l})}}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,s=o.graphModel,l=o.eventCenter,d=a.getAdjustStart(),_=a.getAdjustEnd();return R("g",null,R($y,dc({type:"SOURCE"},d,{edgeModel:a,graphModel:s,eventCenter:l})),R($y,dc({type:"TARGET"},_,{edgeModel:a,graphModel:s,eventCenter:l})))}},{key:"getAppendWidth",value:function(){return R("g",null)}},{key:"getAppend",value:function(){return R("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,s=o.model;a.overlapMode!==Bn.INCREASE&&a.toFront(s.id)}},{key:"render",value:function(){var o=this.props,a=o.model.isSelected,s=o.graphModel.editConfig,l=this.getIsDraging(),d=s.adjustEdgeStartAndEnd;return R("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow(),d&&a&&!l?this.getAdjustPoints():"")}}])&&JO(e.prototype,n),i}(C);function Qy(t){return(Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ev(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ev(Object(n),!0).forEach(function(r){tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e,n){return(nv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=Ti(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function rv(t,e){return(rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ow(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ti(t);if(e){var i=Ti(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(t,e){if(e&&(Qy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ti(t){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var yc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&rv(o,a)})(i,t);var e,n,r=ow(i);function i(){return nw(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint;return tv(tv({},nv(Ti(i.prototype),"getAttributes",this).call(this)),{},{startPoint:a,endPoint:s})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.stroke,s=o.startPoint,l=o.endPoint,d=o.strokeWidth,_=o.strokeOpacity,j=o.strokeDashArray;return R(ko,{x1:s.x,y1:s.y,x2:l.x,y2:l.y,strokeOpacity:_,strokeWidth:d,stroke:a,strokeDasharray:j})}},{key:"getShape",value:function(){return R("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=function(A){var M,F=A.start,$=A.end;if(F.x===$.x&&F.y===$.y)M="";else{var Y={start:F,end:$,offset:10,verticalLength:5},Z=yi(Ca(Ca({},Y),{},{type:"start"})),q=yi(Ca(Ca({},Y),{},{type:"end"}));M="M".concat(Z.leftX," ").concat(Z.leftY,` 
    L`).concat(Z.rightX," ").concat(Z.rightY,` 
    L`).concat(q.rightX," ").concat(q.rightY,`
    L`).concat(q.leftX," ").concat(q.leftY," z")}return{d:M,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),s=a.d,l=a.strokeWidth,d=a.fill,_=a.strokeDasharray,j=a.stroke;return R(ki,{d:s,fill:d,strokeWidth:l,stroke:j,strokeDasharray:_})}}])&&rw(e.prototype,n),i}(Di);function ov(t){return(ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function aw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return iv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return iv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uw=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=aw(n,2),i=r[0],o=r[1];ov(o)!=="object"&&(e[i]=o)}),R("polyline",e)};function av(t){return(av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uv(Object(n),!0).forEach(function(r){Yn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return sv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cv(t,e,n){return(cv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=Mi(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function lv(t,e){return(lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function lw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mi(t);if(e){var i=Mi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fw(this,n)}}function fw(t,e){if(e&&(av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vn(t)}function Vn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&lv(o,a)})(i,t);var e,n,r=lw(i);function i(){var o;return function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),Yn(Vn(o=r.call(this)),"drag",void 0),Yn(Vn(o),"isDraging",void 0),Yn(Vn(o),"appendInfo",void 0),Yn(Vn(o),"dragHandler",void 0),Yn(Vn(o),"onDragStart",function(){o.props.model.dragAppendStart()}),Yn(Vn(o),"onDraging",function(a){var s=a.deltaX,l=a.deltaY,d=o.props,_=d.model,j=d.graphModel;o.isDraging=!0;var A=j.transformMatrix,M=j.editConfig,F=sw(A.fixDeltaXY(s,l),2),$=F[0],Y=F[1],Z=_,q=M.adjustEdgeMiddle;o.appendInfo=q?Z.dragAppendSimple(o.appendInfo,{x:$,y:Y}):Z.dragAppend(o.appendInfo,{x:$,y:Y})}),Yn(Vn(o),"onDragEnd",function(){var a=o.props,s=a.model,l=a.eventCenter,d=s;d.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,l.emit(Ce.EDGE_ADJUST,{data:d.getData()})}),Yn(Vn(o),"beforeDragStart",function(a,s){s.dragAble&&o.dragHandler(a),o.appendInfo=s}),Yn(Vn(o),"getIsDraging",function(){return o.isDraging}),o.drag=bi({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=cv(Mi(i.prototype),"getAttributes",this).call(this),a=this.props.model.points;return Io(Io({},o),{},{points:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.points,s=o.strokeWidth,l=o.stroke,d=o.strokeDashArray;return R(uw,{points:a,strokeWidth:s,stroke:l,strokeDasharray:d})}},{key:"getShape",value:function(){return R("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,s=o.isSelected,l={start:null,end:null,hover:this.state.hover,isSelected:s},d=jo(a);return d.length>=2&&(l.start=d[d.length-2],l.end=d[d.length-1]),l}},{key:"getAppendAttibutes",value:function(o){var a,s=o.start,l=o.end;if(s.x===l.x&&s.y===l.y)a="";else{var d={start:s,end:l,offset:10,verticalLength:5},_=yi(Io(Io({},d),{},{type:"start"})),j=yi(Io(Io({},d),{},{type:"end"}));a="M".concat(_.leftX," ").concat(_.leftY,` 
      L`).concat(_.rightX," ").concat(_.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttibutes(o),s=a.d,l=a.strokeWidth,d=a.fill,_=a.strokeDasharray,j=a.stroke;return R(ki,{d:s,fill:d,strokeWidth:l,stroke:j,strokeDasharray:_})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,s=a.model,l=a.graphModel,d=s.pointsList,_=s.draggable,j=[],A=d.length,M=function($){var Y="lf-polyline-append",Z={start:{x:d[$].x,y:d[$].y},end:{x:d[$+1].x,y:d[$+1].y},startIndex:$,endIndex:$+1,direction:"",dragAble:!0},q=R("g",{className:Y},o.getAppendShape(Z)),te=l.editConfig,oe=te.adjustEdge,ae=te.adjustEdgeMiddle;if(oe&&_){o.dragHandler=o.drag;var we=Z.startIndex,Oe=Z.endIndex,Ae=ae&&(we===0||Oe===A-1);Z.dragAble=!Ae,Z.start.x===Z.end.x?(Z.dragAble&&(Y+="-ew-resize"),Z.direction=nt.VERTICAL):Z.start.y===Z.end.y&&(Z.dragAble&&(Y+="-ns-resize"),Z.direction=nt.HORIZONTAL),q=R("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Ge){return o.beforeDragStart(Ge,Z)}},R("g",{className:Y},o.getAppendShape(Z)))}else o.dragHandler=function(){};j.push(q)},F=0;F<A-1;F++)M(F);return R("g",null,j)}}])&&cw(e.prototype,n),i}(Di);function fv(t){return(fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function pw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return pv(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dv(Object(n),!0).forEach(function(r){dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e,n){return(yv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,d){for(;!Object.prototype.hasOwnProperty.call(l,d)&&(l=Ni(l))!==null;);return l}(r,i);if(a){var s=Object.getOwnPropertyDescriptor(a,i);return s.get?s.get.call(o):s.value}})(t,e,n||t)}function vv(t,e){return(vv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ni(t);if(e){var i=Ni(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gw(this,n)}}function gw(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ni(t){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var gc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&vv(o,a)})(i,t);var e,n,r=vw(i);function i(){return hw(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=yv(Ni(i.prototype),"getAttributes",this).call(this),a=this.props.model.path;return hv(hv({},o),{},{path:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.path,s=o.strokeWidth,l=o.stroke,d=o.strokeDashArray;return R(ki,{d:a,strokeWidth:s,stroke:l,fill:"none",strokeDasharray:d})}},{key:"getShape",value:function(){return R("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.getAttributes().path;return R(ki,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state.hover,s=o,l=s.path,d=s.isSelected,_=pw(function(j){var A=Fa(j);return[A[2],A[3]]}(l),2);return{start:_[0],end:_[1],hover:a,isSelected:d}}}])&&yw(e.prototype,n),i}(Di),gv=function(t,e){return zu(t,e)},bw=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},bc=function(){return pn.a.Date.now()},mw=/\s/,_w=function(t){for(var e=t.length;e--&&mw.test(t.charAt(e)););return e},Ow=/^\s+/,ww=function(t){return t&&t.slice(0,_w(t)+1).replace(Ow,"")},xw=/^[-+]0x[0-9a-f]+$/i,Ew=/^0b[01]+$/i,Sw=/^0o[0-7]+$/i,jw=parseInt,bv=function(t){if(typeof t=="number")return t;if(Sa(t))return NaN;if(Bt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ww(t);var n=Ew.test(t);return n||Sw.test(t)?jw(t.slice(2),n?2:8):xw.test(t)?NaN:+t},Pw=Math.max,Aw=Math.min,kw=function(t,e,n){var r,i,o,a,s,l,d=0,_=!1,j=!1,A=!0;if(typeof t!="function")throw new TypeError("Expected a function");function M(te){var oe=r,ae=i;return r=i=void 0,d=te,a=t.apply(ae,oe)}function F(te){return d=te,s=setTimeout(Y,e),_?M(te):a}function $(te){var oe=te-l;return l===void 0||oe>=e||oe<0||j&&te-d>=o}function Y(){var te=bc();if($(te))return Z(te);s=setTimeout(Y,function(oe){var ae=e-(oe-l);return j?Aw(ae,o-(oe-d)):ae}(te))}function Z(te){return s=void 0,A&&r?M(te):(r=i=void 0,a)}function q(){var te=bc(),oe=$(te);if(r=arguments,i=this,l=te,oe){if(s===void 0)return F(l);if(j)return clearTimeout(s),s=setTimeout(Y,e),M(l)}return s===void 0&&(s=setTimeout(Y,e)),a}return e=bv(e)||0,Bt(n)&&(_=!!n.leading,o=(j="maxWait"in n)?Pw(bv(n.maxWait)||0,e):o,A="trailing"in n?!!n.trailing:A),q.cancel=function(){s!==void 0&&clearTimeout(s),d=0,r=l=i=s=void 0},q.flush=function(){return s===void 0?a:Z(bc())},q},Dw=u(140);function Tw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mv,Mw=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Dr(this,"undos",[]),Dr(this,"redos",[]),Dr(this,"callbacks",[]),Dr(this,"stopWatch",null),Dr(this,"curData",null),Dr(this,"maxSize",50),Dr(this,"waitTime",100),Dr(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){gv(bw(this.undos),r)||(this.undos.push(r),gv(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Ce.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Yu(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Yu(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Dw.a)(r,kw(function(){var o=r.modelToGraphData();i.add(o)},this.waitTime))}}])&&Tw(e.prototype,n),t}();function _v(t){return(_v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Nw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ov(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ov(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wv(Object(n),!0).forEach(function(r){tu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return(Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Cw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=mc(t);if(e){var i=mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rw(this,n)}}function Rw(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eu(t)}function eu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mc(t){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function tu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sv,Iw=Kn(mv=function(t){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&Ev(a,s)})(o,t);var e,n,r,i=Cw(o);function o(){var a;return function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),tu(eu(a=i.call(this)),"ref",{current:null}),tu(eu(a),"__prevText",{type:"",text:"",id:""}),tu(eu(a),"keyupHandler",function(s){var l=s.target.innerText,d=a.props.graphModel.textEditElement;s.keyCode===13&&s.altKey&&d.setElementState(0),a.__prevText={type:d.type,text:l,id:d.id}}),a.state={style:{left:0,top:0}},a}return e=o,r=[{key:"getDerivedStateFromProps",value:function(a){var s,l=a.graphModel,d=l.transformMatrix,_=l.theme,j=l.textEditElement;if(j){var A;if((A=j.text)===null||A===void 0||!A.value)if(j.BaseType===bt.EDGE){var M=(j=j).text,F=j.textPosition,$=F.x,Y=F.y;M.x=$,M.y=Y,j.setText(M)}else j=j;var Z={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===bt.EDGE){var q=_.edgeText,te=q.autoWrap,oe=q.lineHeight,ae=q.wrapPadding,we=j.textWidth;te&&we&&(s=Lo(Lo({},Z),{},{width:we,minWidth:we,lineHeight:oe,padding:ae}))}else if(j.BaseType===bt.NODE){var Oe=_.nodeText,Ae=Oe.autoWrap,Ge=Oe.lineHeight,Ke=Oe.wrapPadding,bn=j,Nn=bn.width,mn=bn.textWidth,Tr=bn.modelType;(Tr!==Ie.TEXT_NODE&&Ae||Tr===Ie.TEXT_NODE&&Ae&&mn)&&(s=Lo(Lo({},Z),{},{width:mn||Nn,minWidth:mn||Nn,lineHeight:Ge,padding:Ke}))}var to=j.text,Ec=to.x,ou=to.y,Lv=Nw(d.CanvasPointToHtmlPoint([Ec,ou]),2);return{style:Lo({left:Lv[0],top:Lv[1]},s)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var a=this.props.graphModel,s=a.eventCenter,l=a.editConfig,d=l.edgeTextEdit,_=l.nodeTextEdit;(d||_)&&s.on(Ce.GRAPH_TRANSFORM,function(){a.textEditElement&&a.textEditElement.setElementState($e.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var a=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var s=this.__prevText,l=s.text,d=s.id;a.setElementTextById(d,l),a.eventCenter.emit(Ce.TEXT_UPDATE,Lo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(a){if(window.getSelection!==void 0&&document.createRange!==void 0){var s=document.createRange();s.selectNodeContents(a),s.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(s)}}},{key:"render",value:function(){var a,s=this.props.graphModel.textEditElement,l=this.state.style;return s?R("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:s.id,onKeyUp:this.keyupHandler},(a=s.text)===null||a===void 0?void 0:a.value):null}}])&&xv(e.prototype,n),r&&xv(e,r),o}(C))||mv,Lw=function(t){return t.modelType===Ie.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,a=Math.abs(n.x-r.x)+10,s=Math.abs(n.y-r.y)+10;return{x:i-a/2,y:o-s/2,x1:i+a/2,y1:o+s/2}}(t):t.modelType===Ie.POLYLINE_EDGE?function(e){var n=e.points,r=jo(n),i=vi(r,8),o=i.x,a=i.y,s=i.width,l=i.height;return{x:o-s/2,y:a-l/2,x1:o+s/2,y1:a+l/2}}(t):t.modelType===Ie.BEZIER_EDGE?function(e){var n=e.path,r=Fa(n),i=vi(r,8),o=i.x,a=i.y,s=i.width,l=i.height;return{x:o-s/2,y:a-l/2,x1:o+s/2,y1:a+l/2}}(t):void 0};function jv(t){return(jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Pv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,d=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(_){d=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(d)throw a}}return s}}(t,e)||Av(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zw(t){return function(e){if(Array.isArray(e))return _c(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Av(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Av(t,e){if(t){if(typeof t=="string")return _c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(t,e):void 0}}function _c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kv(t,e){return(kv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Fw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oc(t);if(e){var i=Oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Uw(this,n)}}function Uw(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xw=Kn(Sv=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&kv(o,a)})(i,t);var e,n,r=Fw(i);function i(o){var a;(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),nu(Ci(a=r.call(this)),"stepDrag",void 0),nu(Ci(a),"handleMouseDown",function(d){a.stepDrag.handleMouseDown(d)}),nu(Ci(a),"onDraging",function(d){var _=d.deltaX,j=d.deltaY,A=a.props.graphModel;A.moveElements(A.getSelectElements(!0),_,j)}),nu(Ci(a),"handleContextMenu",function(d){d.preventDefault();var _=a.props,j=_.graphModel,A=_.graphModel,M=A.eventCenter,F=A.selectElements,$=j.getPointByClient({x:d.clientX,y:d.clientY}),Y={nodes:[],edges:[]};zw(F.values()).forEach(function(Z){Z.BaseType===bt.NODE&&Y.nodes.push(Z.getData()),Z.BaseType===bt.EDGE&&Y.edges.push(Z.getData())}),M.emit(Ce.SELECTION_CONTEXTMENU,{data:Y,e:d,position:$})});var s=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new mi({onDraging:a.onDraging,step:s,eventType:"multiple:select",eventCenter:l}),a}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.transformMatrix;if(!(a.size<=1)){var l=Number.MAX_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;a.forEach(function(F){var $={x:0,y:0,x1:0,y1:0};F.BaseType===bt.NODE&&($=function(Y){var Z=Y.x,q=Y.y,te=Y.width,oe=Y.height;return{x:Z-te/2,y:q-oe/2,x1:Z+te/2,y1:q+oe/2}}(F)),F.BaseType===bt.EDGE&&($=Lw(F)),l=Math.min(l,$.x),d=Math.min(d,$.y),_=Math.max(_,$.x1),j=Math.max(j,$.y1)});var A=Pv(s.CanvasPointToHtmlPoint([l,d]),2);l=A[0],d=A[1];var M=Pv(s.CanvasPointToHtmlPoint([_,j]),2);return _=M[0],j=M[1],R("div",{className:"lf-multiple-select",style:{left:"".concat(l-10,"px"),top:"".concat(d-10,"px"),width:"".concat(_-l+20,"px"),height:"".concat(j-d+20,"px")},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Bw(e.prototype,n),i}(C))||Sv;function Hw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ru(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gw=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),ru(this,"tools",void 0),ru(this,"components",void 0),ru(this,"toolMap",new Map),ru(this,"instance",void 0),this.instance=r,this.registerTool("textEdit",Iw),this.registerTool("multipleSelect",Xw)}var e,n;return e=t,(n=[{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Hw(e.prototype,n),t}();u(182);function Ww(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vw=function(){function t(){var r,i,o;(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var a=this;return r.split(",").forEach(function(s){s=s.trim(),a._events[s]||(a._events[s]=[]),a._events[s].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){return this.on(r,i,!0)}},{key:"emit",value:function(r,i){var o=this,a=this._events[r]||[],s=this._events["*"]||[],l=function(d){for(var _=d.length,j=0;j<_;j++)if(d[j]){var A=d[j],M=A.callback;A.once&&(d.splice(j,1),d.length===0&&delete o._events[r],_--,j--),M.apply(o,[i])}};l(a),l(s)}},{key:"off",value:function(r,i){if(r)if(i){for(var o=this._events[r]||[],a=o.length,s=0;s<a;s++)o[s].callback===i&&(o.splice(s,1),a--,s--);o.length===0&&delete this._events[r]}else delete this._events[r];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&Ww(e.prototype,n),t}(),Yw=u(141),Kw=u.n(Yw);function $w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dv=function(){function t(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),wc(this,"mousetrap",void 0),wc(this,"options",void 0),wc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new Kw.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(tn(i))i.forEach(function(l){var d=l.keys,_=l.callback,j=l.action;return r.on(d,_,j)});else{var o=i.keys,a=i.callback,s=i.action;this.on(o,a,s)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&$w(e.prototype,n),t}(),Zw=Dv,sr=null;function Tv(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Mv(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function Nv(t){return(Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cv(Object(n),!0).forEach(function(r){_t(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xc=function(){function t(i){var o=this;(function($,Y){if(!($ instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,t),_t(this,"container",void 0),_t(this,"width",void 0),_t(this,"height",void 0),_t(this,"graphModel",void 0),_t(this,"history",void 0),_t(this,"viewMap",new Map),_t(this,"tool",void 0),_t(this,"keyboard",void 0),_t(this,"dnd",void 0),_t(this,"options",void 0),_t(this,"getSnapshot",void 0),_t(this,"eventCenter",void 0),_t(this,"snaplineModel",void 0),_t(this,"components",[]),_t(this,"adapterIn",void 0),_t(this,"adapterOut",void 0),_t(this,"getView",function($){return o.viewMap.get($)});var a,s,l=i.container,d=i.width,_=i.height,j=i.dndOptions,A=i.keyboard,M=i.isSilentMode,F=i.snapline;this.options=md(i),this.container=l,this.width=d||l.getBoundingClientRect().width,this.height=_||l.getBoundingClientRect().height,this.tool=new Gw(this),this.eventCenter=new Vw,this.history=new Mw(this.eventCenter),this.dnd=new p_({options:j,lf:this}),this.keyboard=new Zw({lf:this,keyboard:A}),this.graphModel=new _0(Rv(Rv({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),M||F===!1||(this.snaplineModel=new Uh(this.graphModel),a=this.eventCenter,s=this.snaplineModel,a.on("node:mousemove",function($){var Y=$.data;s.setNodeSnapLine(Y)}),a.on("node:mouseup",function(){s.clearSnapline()})),this.defaultRegister(),this.installPlugins(i.disabledPlugins),function($,Y){var Z=$.keyboard,q=Z.options.keyboard;Z.on(["cmd + c","ctrl + c"],function(){if(q.enabled&&!Y.textEditElement){var te=$.options.guards,oe=Y.getSelectElements(!1);return te&&te.beforeClone&&!te.beforeClone(oe)?(sr=null,!1):((sr=oe).nodes.forEach(function(ae){return Tv(ae,40)}),sr.edges.forEach(function(ae){return Mv(ae,40)}),!1)}}),Z.on(["cmd + v","ctrl + v"],function(){if(q.enabled&&!Y.textEditElement){if(sr&&(sr.nodes||sr.edges)){$.clearSelectElements();var te=$.addElements(sr);if(!te)return;te.nodes.forEach(function(oe){return $.select(oe.id,!0)}),te.edges.forEach(function(oe){return $.select(oe.id,!0)}),sr.nodes.forEach(function(oe){return Tv(oe,40)}),sr.edges.forEach(function(oe){return Mv(oe,40)})}return!1}}),Z.on(["cmd + z","ctrl + z"],function(){if(q.enabled&&!Y.textEditElement)return $.undo(),!1}),Z.on(["cmd + y","ctrl + y"],function(){if(q.enabled&&!Y.textEditElement)return $.redo(),!1}),Z.on(["backspace"],function(){if(q.enabled&&!Y.textEditElement){var te=Y.getSelectElements(!0);return $.clearSelectElements(),te.edges.forEach(function(oe){return $.deleteEdge(oe.id)}),te.nodes.forEach(function(oe){return $.deleteNode(oe.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts()}var e,n,r;return e=t,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var a=this.extensions.get(o);a&&a.destroy&&a.destroy(),this.extensions.set(o,i)}}],(n=[{key:"on",value:function(i,o){this.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.extensions.forEach(function(a){var s=a.pluginName||a.name;o.indexOf(s)===-1&&i.__installPlugin(a)})}},{key:"__installPlugin",value:function(i){if(Nv(i)==="object"){var o=i.install,a=i.render;return o&&o.call(i,this,t),void(a&&this.components.push(a.bind(i)))}var s=new i({lf:this,LogicFlow:t});s.render&&this.components.push(s.render.bind(s))}},{key:"register",value:function(i,o){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var s={BaseEdge:Di,BaseEdgeModel:rs,BaseNode:ar,BaseNodeModel:or,RectNode:$s,RectNodeModel:Ls,CircleNode:qs,CircleNodeModel:As,PolygonNode:Qs,PolygonNodeModel:Rs,TextNode:oc,TextNodeModel:Fs,LineEdge:yc,LineEdgeModel:as,DiamondNode:tc,DiamondNodeModel:Ds,PolylineEdge:vc,PolylineEdgeModel:ss,BezierEdge:gc,BezierEdgeModel:js,EllipseNode:nc,EllipseNodeModel:Ms,HtmlNode:uc,HtmlNodeModel:Xs,h:R,type:i};this.viewMap.forEach(function(A){var M=A.extendKey;M&&(s[M]=A)}),this.graphModel.modelMap.forEach(function(A){var M=A.extendKey;M&&(s[M]=A)});var l=o(s),d=l.view,_=l.model,j=d;a&&!j.isObervered&&(j.isObervered=!0,j=lt(j)),this.setView(i,j),this.graphModel.setModel(i,_)}else this._registerElement(i)}},{key:"_registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=lt(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:$s,model:Ls,type:"rect"}),this._registerElement({type:"circle",view:qs,model:As}),this._registerElement({type:"polygon",view:Qs,model:Rs}),this._registerElement({type:"line",view:yc,model:as}),this._registerElement({type:"polyline",view:vc,model:ss}),this._registerElement({type:"bezier",view:gc,model:js}),this._registerElement({type:"text",view:oc,model:Fs}),this._registerElement({type:"ellipse",view:nc,model:Ms}),this._registerElement({type:"diamond",view:tc,model:Ds}),this._registerElement({type:"html",view:uc,model:Xs})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=yn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=yn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=this.graphModel.transformMatrix;return o.zoom(i),"".concat(100*o.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformMatrix.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformMatrix.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformMatrix;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformMatrix.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformMatrix,o=i.TRANSLATE_X,a=i.TRANSLATE_Y;this.translate(-o,-a)}},{key:"select",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformMatrix,a=i.coordinate,s=i.id;if(!a){var l=this.getNodeModel(s);l&&(a=l.getData());var d=this.getEdgeModelById(s);d&&(a=d.textPosition)}var _=a,j=_.x,A=_.y;o.focusOn(j,A,this.width,this.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"setDefaultEdgeType",value:function(i){this.options.edgeType=i,this.graphModel.changeEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.setElementTextById(i,o)}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;(!a||!a.beforeDelete||a.beforeDelete(o))&&this.graphModel.deleteNode(i)}},{key:"editNodeText",value:function(i){this.graphModel.setTextEditable(i)}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;if(!a||!a.beforeClone||a.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"createEdge",value:function(i){this.graphModel.createEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,a=this.graphModel.edgesMap[i];if(a){var s=a.model.getData();(!o||!o.beforeDelete||o.beforeDelete(s))&&this.graphModel.removeEdgeById(i)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(i,"\u7684\u8FB9"))}},{key:"removeEdge",value:function(i){var o=i.sourceNodeId,a=i.targetNodeId;o&&a?this.graphModel.removeEdge(o,a):o?this.graphModel.removeEdgeBySource(o):a&&this.graphModel.removeEdgeByTarget(a)}},{key:"getNodeModel",value:function(i){return this.graphModel.getNodeModel(i)}},{key:"getNodeData",value:function(i){return this.graphModel.getNodeModel(i).getData()}},{key:"setNodeData",value:function(i){var o=i.id;this.graphModel.getNodeModel(o).updateData(i)}},{key:"getEdgeModel",value:function(i){return this.getEdge(i)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdge",value:function(i){var o=this.graphModel,a=o.edges,s=o.edgesMap,l=i.id,d=i.sourceNodeId,_=i.targetNodeId;if(l)return s[l]?[s[l].model]:void console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(l,"\u7684\u8FB9"));if(d&&_){var j=[];return a.forEach(function(F){F.sourceNodeId===d&&F.targetNodeId===_&&j.push(F)}),j}if(d){var A=[];return a.forEach(function(F){F.sourceNodeId===d&&A.push(F)}),A}if(_){var M=[];return a.forEach(function(F){F.targetNodeId===_&&M.push(F)}),M}return[]}},{key:"getEdgeData",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"setEdgeData",value:function(i){var o,a=i.id;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.updateData(i)}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(i,o){var a;(a=this.graphModel.getElement(i))===null||a===void 0||a.setProperties(yn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfig.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,a=i.nodes,s=i.edges,l={},d={nodes:[],edges:[]},_=0;_<a.length;_++){var j=a[_],A=j.id,M=this.addNode(j);if(!M)return;A&&(l[A]=M.id),d.nodes.push(M)}return s.forEach(function(F){var $=F.sourceNodeId,Y=F.targetNodeId;l[$]&&(F.sourceNodeId=l[$]),l[Y]&&(F.targetNodeId=l[Y]);var Z=o.graphModel.createEdge(F);d.edges.push(Z)}),d}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var a=new o(i,this.graphModel);return this.graphModel.setFakerNode(a),a}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(a){return a.getData()})}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(yn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),ze(R(l_,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&Iv(e.prototype,n),r&&Iv(e,r),t}();function Kn(t){return lt(t)}_t(xc,"extensions",new Map),f.default=xc}])})})(je,je.exports);var zo=v1(je.exports);function D1(y,v){return v={exports:{}},y(v,v.exports),v.exports}var T1=D1(function(y){var v=y.exports=function(c,f){if(f||(f=16),c===void 0&&(c=128),c<=0)return"0";for(var u=Math.log(Math.pow(2,c))/Math.log(f),p=2;u===1/0;p*=2)u=Math.log(Math.pow(2,c/p))/Math.log(f)*p;for(var h=u-Math.floor(u),b="",p=0;p<Math.floor(u);p++){var x=Math.floor(Math.random()*f).toString(f);b=x+b}if(h){var E=Math.pow(f,h),x=Math.floor(Math.random()*E).toString(f);b=x+b}var S=parseInt(b,f);return S!==1/0&&S>=Math.pow(2,c)?v(c,f):b};v.rack=function(c,f,u){var p=function(b){var x=0;do{if(x++>10)if(u)c+=u;else throw new Error("too many ID collisions, use more bits");var E=v(c,f)}while(Object.hasOwnProperty.call(h,E));return h[E]=b,E},h=p.hats={};return p.get=function(b){return p.hats[b]},p.set=function(b,x){return p.hats[b]=x,p},p.bits=c||128,p.base=f||16,p}});function $n(y){if(!(this instanceof $n))return new $n(y);y=y||[128,36,1],this._seed=y.length?T1.rack(y[0],y[1],y[2]):y}$n.prototype.next=function(y){return this._seed(y||!0)};$n.prototype.nextPrefixed=function(y,v){var c;do c=y+this.next(!0);while(this.assigned(c));return this.claim(c,v),c};$n.prototype.claim=function(y,v){this._seed.set(y,v||!0)};$n.prototype.assigned=function(y){return this._seed.get(y)||!1};$n.prototype.unclaim=function(y){delete this._seed.hats[y]};$n.prototype.clear=function(){var y=this._seed.hats,v;for(v in y)this.unclaim(v)};var M1=new $n([32,32,1]);function Bo(){return M1.next()}var Wv=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Dc=globalThis&&globalThis.__assign||function(){return Dc=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},Dc.apply(this,arguments)},N1=function(y){Wv(v,y);function v(c,f){var u=this;return c.id||(c.id="Event_"+Bo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),u=y.call(this,c,f)||this,u}return v.prototype.getConnectedTargetRules=function(){var c=y.prototype.getConnectedTargetRules.call(this),f={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(f),c},v.extendKey="StartEventModel",v}(je.exports.CircleNodeModel),C1=function(y){Wv(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getAttributes=function(){var c=y.prototype.getAttributes.call(this);return Dc({},c)},v.extendKey="StartEventNode",v}(je.exports.CircleNode),R1={type:"bpmn:startEvent",view:C1,model:N1},Vv=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),I1=function(y){Vv(v,y);function v(c,f){var u=this;return c.id||(c.id="Event_"+Bo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),u=y.call(this,c,f)||this,u}return v.prototype.getConnectedSourceRules=function(){var c=y.prototype.getConnectedSourceRules.call(this),f={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(f),c},v.extendKey="EndEventModel",v}(je.exports.CircleNodeModel),L1=function(y){Vv(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var c=this.getAttributes(),f=c.x,u=c.y,p=c.fill,h=c.stroke,b=c.strokeWidth,x=c.r,E=y.prototype.getShape.call(this);return je.exports.h("g",{},E,je.exports.h("circle",{cx:f,cy:u,fill:p,stroke:h,strokeWidth:b,r:x-5}))},v.extendKey="EndEventView",v}(je.exports.CircleNode),z1={type:"bpmn:endEvent",view:L1,model:I1},Yv=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),B1=function(y){Yv(v,y);function v(c,f){var u=this;return c.id||(c.id="Gateway_"+Bo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),u=y.call(this,c,f)||this,u.points=[[25,0],[50,25],[25,50],[0,25]],u}return v.extendKey="ExclusiveGatewayModel",v}(je.exports.PolygonNodeModel),F1=function(y){Yv(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getShape=function(){var c=y.prototype.getAttributes.call(this),f=c.x,u=c.y,p=c.fill,h=c.stroke,b=c.strokeWidth,x=c.width,E=c.height,S=c.points;return je.exports.h("g",{transform:"matrix(1 0 0 1 "+(f-x/2)+" "+(u-E/2)+")"},je.exports.h("polygon",{fill:p,x:f,y:u,stroke:h,strokeWidth:b,points:S}),je.exports.h("path",{fill:p,stroke:h,strokeWidth:b,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},v.extendKey="ExclusiveGatewayNode",v}(je.exports.PolygonNode),U1={type:"bpmn:exclusiveGateway",view:F1,model:B1},Kv=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),X1=function(y){Kv(v,y);function v(c,f){var u=this;return c.id||(c.id="Activity_"+Bo()),u=y.call(this,c,f)||this,u}return v.extendKey="UserTaskModel",v}(je.exports.RectNodeModel),H1=function(y){Kv(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var c=y.prototype.getAttributes.call(this),f=c.x,u=c.y,p=c.width,h=c.height,b=c.stroke;return je.exports.h("svg",{x:f-p/2+5,y:u-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},je.exports.h("path",{fill:b,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var c=y.prototype.getAttributes.call(this),f=c.x,u=c.y,p=c.width,h=c.height,b=c.fill,x=c.stroke,E=c.strokeWidth,S=c.radius;return je.exports.h("g",{},[je.exports.h("rect",{x:f-p/2,y:u-h/2,rx:S,ry:S,fill:b,stroke:x,strokeWidth:E,width:p,height:h}),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(je.exports.RectNode),G1={type:"bpmn:userTask",view:H1,model:X1},$v=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),W1=function(y){$v(v,y);function v(c,f){var u=this;return c.id||(c.id="Activity_"+Bo()),u=y.call(this,c,f)||this,u}return v.extendKey="ServiceTaskModel",v}(je.exports.RectNodeModel),V1=function(y){$v(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var c=y.prototype.getAttributes.call(this),f=c.x,u=c.y,p=c.width,h=c.height,b=c.stroke;return je.exports.h("svg",{x:f-p/2+5,y:u-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},je.exports.h("path",{fill:b,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var c=y.prototype.getAttributes.call(this),f=c.x,u=c.y,p=c.width,h=c.height,b=c.fill,x=c.stroke,E=c.strokeWidth,S=c.radius;return je.exports.h("g",{},[je.exports.h("rect",{x:f-p/2,y:u-h/2,rx:S,ry:S,fill:b,stroke:x,strokeWidth:E,width:p,height:h}),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(je.exports.RectNode),Y1={type:"bpmn:serviceTask",view:V1,model:W1},Zv=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),K1=function(y){Zv(v,y);function v(c,f){var u=this;return c.id||(c.id="Flow_"+Bo()),u=y.call(this,c,f)||this,u}return v.extendKey="SequenceFlowModel",v}(je.exports.PolylineEdgeModel),$1=function(y){Zv(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(je.exports.PolylineEdge),Z1={type:"bpmn:sequenceFlow",view:$1,model:K1},qv={width:40,height:40},Jv={width:40,height:40},Qv={width:40,height:40},eg={width:100,height:80},tg={width:100,height:80},q1={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},J1=function(){function y(v){var c=v.lf;c.setTheme(q1),c.register(R1),c.register(z1),c.register(U1),c.register(G1),c.register(Y1),c.register(Z1),c.setDefaultEdgeType("bpmn:sequenceFlow")}return y.pluginName="BpmnElement",y}(),Q1={pluginName:"snapshot",install:function(y){var v=this;this.lf=y,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,y.getSnapshot=function(c,f){v.fileName=c||"logic-flow."+Date.now()+".png";var u=v.getSvgRootElement(y);v.downloadSvg(u,v.fileName,f)},y.getSnapshotBlob=function(c){var f=v.getSvgRootElement(y);return v.getBlob(f,c)},y.getSnapshotBase64=function(c){var f=v.getSvgRootElement(y);return v.getBase64(f,c)}},getSvgRootElement:function(y){var v=this;y.graphModel.nodes.forEach(function(f){var u=f.x,p=f.width,h=f.y,b=f.height,x=u-p/2,E=h-b/2;x<v.offsetX&&(v.offsetX=x-5),E<v.offsetY&&(v.offsetY=E-5)}),y.graphModel.edges.forEach(function(f){f.pointsList&&f.pointsList.forEach(function(u){var p=u.x,h=u.y;p<v.offsetX&&(v.offsetX=p-5),h<v.offsetY&&(v.offsetY=h-5)})});var c=y.container.querySelector("svg");return c},triggerDownload:function(y){var v=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",y),c.setAttribute("target","_blank"),c.dispatchEvent(v)},removeAnchor:function(y){for(var v=y.childNodes,c=y.childNodes&&y.childNodes.length,f=0;f<c;f++){var u=v[f],p=u.classList&&Array.from(u.classList)||[];p.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[f]),c--,f--)}},downloadSvg:function(y,v,c){var f=this;this.getCanvasData(y,c).then(function(u){var p=u.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(p,v)})},getBase64:function(y,v){var c=this;return new Promise(function(f){c.getCanvasData(y,v).then(function(u){var p=u.toDataURL("image/png");f({data:p,width:u.width,height:u.height})})})},getBlob:function(y,v){var c=this;return new Promise(function(f){c.getCanvasData(y,v).then(function(u){u.toBlob(function(p){f({data:p,width:u.width,height:u.height})},"image/png")})})},getCanvasData:function(y,v){var c=this,f=y.cloneNode(!0),u=f.lastChild,p=u.childNodes&&u.childNodes.length;if(p)for(var h=0;h<p;h++){var b=u.childNodes[h],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)u.removeChild(u.childNodes[h]),p--,h--;else{var E=u.childNodes[h];E&&E.childNodes.forEach(function(N){var C=N;c.removeAnchor(C.firstChild)})}}f.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var S=window.devicePixelRatio||1,k=document.createElement("canvas"),P=document.getElementsByClassName("lf-base")[0],O=P.getBoundingClientRect(),L=this.lf.graphModel,W=L.transformMatrix,K=W.SCALE_X,G=W.SCALE_Y,H=Math.ceil(O.width/K),R=Math.ceil(O.height/G);k.style.width=H+"px",k.style.height=R+"px",k.width=H*S+80,k.height=R*S+80;var U=k.getContext("2d");U.scale(S,S),v?(U.fillStyle=v,U.fillRect(0,0,H*S+80,R*S+80)):U.clearRect(0,0,H,R);var V=new Image;return new Promise(function(N){V.onload=function(){U.drawImage(V,0,0),N(k)};var C="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(f),I=C.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");V.src=I})}},ex=new $n([32,32,1]);function ng(){return ex.next()}var Yt=function(){};Yt.ObjTree=function(){return this};Yt.ObjTree.VERSION="0.23";Yt.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Yt.ObjTree.prototype.attr_prefix="-";Yt.ObjTree.prototype.parseXML=function(y){var v;if(window.DOMParser){var c=new DOMParser,f=c.parseFromString(y,"application/xml");if(!f)return;v=f.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(y),v=c.documentElement);if(!!v)return this.parseDOM(v)};Yt.ObjTree.prototype.parseHTTP=function(y,v,c){var f={};for(var u in v)f[u]=v[u];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),c){f.asynchronous=!0;var p=this,h=c,b=f.onComplete;f.onComplete=function(S){var k;S&&S.responseXML&&S.responseXML.documentElement&&(k=p.parseDOM(S.responseXML.documentElement)),h(k,S),b&&b(S)}}else f.asynchronous=!1;var x;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=y;var E=new HTTP.Request(f);E&&(x=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(y,f);E&&(x=E.transport)}if(c)return x;if(x&&x.responseXML&&x.responseXML.documentElement)return this.parseDOM(x.responseXML.documentElement)};Yt.ObjTree.prototype.parseDOM=function(y){if(!!y){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var c=this.parseElement(y);if(this.__force_array[y.nodeName]&&(c=[c]),y.nodeType!=11){var f={};f[y.nodeName]=c,c=f}return c}};Yt.ObjTree.prototype.parseElement=function(y){if(y.nodeType!=7){if(y.nodeType==3||y.nodeType==4){var v=y.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:y.nodeValue}var c,f={};if(y.attributes&&y.attributes.length){c={};for(var u=0;u<y.attributes.length;u++){var p=y.attributes[u].nodeName;if(typeof p=="string"){var h=y.attributes[u].nodeValue;!h||(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],h))}}}if(y.childNodes&&y.childNodes.length){var b=!0;c&&(b=!1);for(var u=0;u<y.childNodes.length&&b;u++){var x=y.childNodes[u].nodeType;x==3||x==4||(b=!1)}if(b){c||(c="");for(var u=0;u<y.childNodes.length;u++)c+=y.childNodes[u].nodeValue}else{c||(c={});for(var u=0;u<y.childNodes.length;u++){var p=y.childNodes[u].nodeName;if(typeof p=="string"){var h=this.parseElement(y.childNodes[u]);!h||(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],h))}}}}return c}};Yt.ObjTree.prototype.addNode=function(y,v,c,f){this.__force_array[v]?(c==1&&(y[v]=[]),y[v][y[v].length]=f):c==1?y[v]=f:c==2?y[v]=[y[v],f]:y[v][y[v].length]=f};Yt.ObjTree.prototype.writeXML=function(y){var v=this.hash_to_xml(null,y);return this.xmlDecl+v};Yt.ObjTree.prototype.hash_to_xml=function(y,v){var c=[],f=[];for(var u in v)if(!!v.hasOwnProperty(u)){var p=v[u];u.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?c[c.length]="<"+u+" />":typeof p=="object"&&p.constructor==Array?c[c.length]=this.array_to_xml(u,p):typeof p=="object"?c[c.length]=this.hash_to_xml(u,p):c[c.length]=this.scalar_to_xml(u,p):f[f.length]=" "+u.substring(1)+'="'+this.xml_escape(p)+'"'}var h=f.join(""),b=c.join("");return typeof y=="undefined"||y==null||(c.length>0?b.match(/\n/)?b="<"+y+h+`>
`+b+"</"+y+`>
`:b="<"+y+h+">"+b+"</"+y+`>
`:b="<"+y+h+` />
`),b};Yt.ObjTree.prototype.array_to_xml=function(y,v){for(var c=[],f=0;f<v.length;f++){var u=v[f];typeof u=="undefined"||u==null?c[c.length]="<"+y+" />":typeof u=="object"&&u.constructor==Array?c[c.length]=this.array_to_xml(y,u):typeof u=="object"?c[c.length]=this.hash_to_xml(y,u):c[c.length]=this.scalar_to_xml(y,u)}return c.join("")};Yt.ObjTree.prototype.scalar_to_xml=function(y,v){return y=="#text"?this.xml_escape(v):"<"+y+">"+this.xml_escape(v)+"</"+y+`>
`};Yt.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var cu=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p},Zn;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"})(Zn||(Zn={}));var rg=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Tc(y){var v={};return Object.entries(y).forEach(function(c){var f=cu(c,2),u=f[0],p=f[1];typeof p!="object"?u.indexOf("-")===0?v[u]=p:v["-"+u]=p:v[u]=Tc(p)}),v}function Mc(y){var v={};return Object.entries(y).forEach(function(c){var f=cu(c,2),u=f[0],p=f[1];typeof p=="string"?u.indexOf("-")===0?v[u.substr(1)]=p:v[u]=p:typeof p=="object"?v[u]=Mc(p):v[u]=p}),v}function tx(y,v){var c=new Map;v.nodes.forEach(function(u){var p,h={"-id":u.id};if(((p=u.text)===null||p===void 0?void 0:p.value)&&(h["-name"]=u.text.value),u.properties){var b=Tc(u.properties);Object.assign(h,b)}c.set(u.id,h),y[u.type]?Array.isArray(y[u.type])?y[u.type].push(h):y[u.type]=[y[u.type],h]:y[u.type]=h});var f=v.edges.map(function(u){var p,h,b=c.get(u.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(u.id):b["bpmn:incoming"]=[b["bpmn:incoming"],u.id]:b["bpmn:incoming"]=u.id;var x=c.get(u.sourceNodeId);x["bpmn:outgoing"]?Array.isArray(x["bpmn:outgoing"])?x["bpmn:outgoing"].push(u.id):x["bpmn:outgoing"]=[x["bpmn:outgoing"],u.id]:x["bpmn:outgoing"]=u.id;var E={"-id":u.id,"-sourceRef":u.sourceNodeId,"-targetRef":u.targetNodeId};if(((p=u.text)===null||p===void 0?void 0:p.value)&&(E["-name"]=(h=u.text)===null||h===void 0?void 0:h.value),u.properties){var S=Tc(u.properties);Object.assign(E,S)}return E});y[Zn.FLOW]=f}function nx(y,v){y["bpmndi:BPMNEdge"]=v.edges.map(function(c){var f,u=c.id,p=c.pointsList.map(function(b){var x=b.x,E=b.y;return{"-x":x,"-y":E}}),h={"-id":u+"_di","-bpmnElement":u,"di:waypoint":p};return((f=c.text)===null||f===void 0?void 0:f.value)&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),h}),y["bpmndi:BPMNShape"]=v.nodes.map(function(c){var f,u=c.id,p=100,h=80,b=c.x,x=c.y,E=no.shapeConfigMap.get(c.type);E&&(p=E.width,h=E.height),b-=p/2,x-=h/2;var S={"-id":u+"_di","-bpmnElement":u,"dc:Bounds":{"-x":b,"-y":x,"-width":p,"-height":h}};return((f=c.text)===null||f===void 0?void 0:f.value)&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),S})}function rx(y){var v=[],c=[],f=y["bpmn:definitions"];if(f){var u=f["bpmn:process"];Object.keys(u).forEach(function(p){if(p.indexOf("bpmn:")===0){var h=u[p];if(p===Zn.FLOW){var b=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=ix(h,b)}else{var x=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(ox(h,x,p))}}})}return{nodes:v,edges:c}}function ox(y,v,c){var f=[];if(Array.isArray(y))y.forEach(function(h){var b;Array.isArray(v)?b=v.find(function(E){return E["-bpmnElement"]===h["-id"]}):b=v;var x=og(b,c,h);f.push(x)});else{var u=void 0;Array.isArray(v)?u=v.find(function(h){return h["-bpmnElement"]===y["-id"]}):u=v;var p=og(u,c,y);f.push(p)}return f}function og(y,v,c){var f=Number(y["dc:Bounds"]["-x"]),u=Number(y["dc:Bounds"]["-y"]),p=c["-name"],h=no.shapeConfigMap.get(v);h&&(f+=h.width/2,u+=h.height/2);var b;Object.entries(c).forEach(function(k){var P=cu(k,2),O=P[0],L=P[1];rg.indexOf(O)===-1&&(b||(b={}),b[O]=L)}),b&&(b=Mc(b));var x;if(p&&(x={x:f,y:u,value:p},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=y["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(E["-x"])+Number(E["-width"])/2,x.y=Number(E["-y"])+Number(E["-height"])/2}var S={id:y["-bpmnElement"],type:v,x:f,y:u,properties:b};return x&&(S.text=x),S}function ix(y,v){var c=[];if(Array.isArray(y))y.forEach(function(u){var p;Array.isArray(v)?p=v.find(function(h){return h["-bpmnElement"]===u["-id"]}):p=v,c.push(ig(p,u))});else{var f=void 0;Array.isArray(v)?f=v.find(function(u){return u["-bpmnElement"]===y["-id"]}):f=v,c.push(ig(f,y))}return c}function ig(y,v){var c,f=v["-name"];if(f){var u=y["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(x){p<x.length&&(p=x.length)}),c={value:f,x:Number(u["-x"])+p*10/2,y:Number(u["-y"])+7}}var h;Object.entries(v).forEach(function(x){var E=cu(x,2),S=E[0],k=E[1];rg.indexOf(S)===-1&&(h||(h={}),h[S]=k)}),h&&(h=Mc(h));var b={id:v["-id"],type:Zn.FLOW,pointsList:y["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:h};return c&&(b.text=c),b}var no={pluginName:"bpmn-adapter",install:function(y){y.adapterIn=this.adapterIn,y.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(y,v){this.shapeConfigMap.set(y,v)},adapterOut:function(y){var v={"-id":"Process_"+ng(),"-isExecutable":"false"};tx(v,y);var c={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};nx(c,y);var f={"bpmn:definitions":{"-id":"Definitions_"+ng(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return f},adapterIn:function(y){if(y)return rx(y)}};no.shapeConfigMap.set(Zn.START,{width:qv.width,height:qv.height});no.shapeConfigMap.set(Zn.END,{width:Jv.width,height:Jv.height});no.shapeConfigMap.set(Zn.GATEWAY,{width:Qv.width,height:Qv.height});no.shapeConfigMap.set(Zn.SYSTEM,{width:eg.width,height:eg.height});no.shapeConfigMap.set(Zn.USER,{width:tg.width,height:tg.height});var ag=globalThis&&globalThis.__assign||function(){return ag=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},ag.apply(this,arguments)},ug;(function(y){y[y.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",y[y.START_EVENT=2]="START_EVENT",y[y.END_EVENT=3]="END_EVENT",y[y.USER_TASK=4]="USER_TASK",y[y.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(ug||(ug={}));var sg;(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"})(sg||(sg={}));var ax=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p};globalThis&&globalThis.__spread;var ux=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p};globalThis&&globalThis.__spread;var sx=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p},cx=globalThis&&globalThis.__spread||function(){for(var y=[],v=0;v<arguments.length;v++)y=y.concat(sx(arguments[v]));return y},Li="lf:defaultNodeMenu",zi="lf:defaultEdgeMenu",Bi="lf:defaultGraphMenu",cg="lf:defaultSelectionMenu",lx=function(){function y(v){var c=this,f=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(u){c.resetMenuItem(u)},this.lf.addMenuConfig=function(u){c.addMenuItem(u)},this.lf.setMenuByType=function(u){c.setMenuByType(u)}}return y.prototype.init=function(){var v=this,c=[{text:"\u5220\u9664",callback:function(p){v.lf.deleteNode(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){v.lf.graphModel.setTextEditable(p.id)}},{text:"\u590D\u5236",callback:function(p){v.lf.cloneNode(p.id)}}];this.menuTypeMap.set(Li,c);var f=[{text:"\u5220\u9664",callback:function(p){v.lf.deleteEdge(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){v.lf.graphModel.setTextEditable(p.id)}}];this.menuTypeMap.set(zi,f),this.menuTypeMap.set(Bi,[]);var u=[{text:"\u5220\u9664",callback:function(p){v.lf.clearSelectElements(),p.edges.forEach(function(h){return v.lf.deleteEdge(h.id)}),p.nodes.forEach(function(h){return v.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(cg,u)},y.prototype.render=function(v,c){var f=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(u){u.stopPropagation();for(var p=u.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1?(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(u){var p=u.data,h=u.position,b=h.domOverlayPosition,x=b.x,E=b.y,S=p.id,k=f.lf.graphModel.getNodeModel(S),P=[],O=f.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?P=k.menu:O?P=O:P=f.menuTypeMap.get(Li),f.__currentData=p,f.showMenu(x,E,P)}),this.lf.on("edge:contextmenu",function(u){var p=u.data,h=u.position,b=h.domOverlayPosition,x=b.x,E=b.y,S=p.id,k=f.lf.graphModel.getEdgeModel(S),P=[],O=f.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?P=k.menu:O?P=O:P=f.menuTypeMap.get(zi),f.__currentData=p,f.showMenu(x,E,P)}),this.lf.on("blank:contextmenu",function(u){var p=u.position,h=f.menuTypeMap.get(Bi),b=p.domOverlayPosition,x=b.x,E=b.y;f.showMenu(x,E,h)}),this.lf.on("selection:contextmenu",function(u){var p=u.data,h=u.position,b=f.menuTypeMap.get(cg),x=h.domOverlayPosition,E=x.x,S=x.y;f.__currentData=p,f.showMenu(E,S,b)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},y.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(v,c,f){if(!(!f||!f.length)){var u=this.__menuDOM;u.innerHTML="",u.append.apply(u,cx(this.__getMenuDom(f))),!!u.children.length&&(u.style.display="block",u.style.top=c+"px",u.style.left=v+"px")}},y.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},y.prototype.__getMenuDom=function(v){var c=[];return v&&v.length>0&&v.forEach(function(f){var u=document.createElement("li");if(f.className?u.className="lf-menu-item "+f.className:u.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",u.appendChild(p)}var h=document.createElement("span");h.className="lf-menu-item-text",f.text&&(h.innerText=f.text),u.appendChild(h),u.onclickCallback=f.callback,c.push(u)}),c},y.prototype.resetMenuItem=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Li,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(zi,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Bi,v.graphMenu?v.graphMenu:[]))},y.prototype.addMenuItem=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var c=this.menuTypeMap.get(Li);this.menuTypeMap.set(Li,c.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var c=this.menuTypeMap.get(zi);this.menuTypeMap.set(zi,c.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var c=this.menuTypeMap.get(Bi);this.menuTypeMap.set(Bi,c.concat(v.graphMenu))}}},y.prototype.changeMenuItem=function(v,c){if(v==="add")this.addMenuItem(c);else if(v==="reset")this.resetMenuItem(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},y.pluginName="Menu",y}(),fx=function(){function y(v){var c=this,f=v.lf;this.lf=f,this.lf.setPatternItems=function(u){c.shapeList=u}}return y.prototype.render=function(v,c){var f=this;this.panelEl&&c.removeChild(this.panelEl),!(!this.shapeList||this.shapeList.length===0)&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(u){f.panelEl.appendChild(f.createDndItem(u))}),c.appendChild(this.panelEl))},y.prototype.createDndItem=function(v){var c=this,f=document.createElement("div");f.className=v.className?"lf-dnd-item "+v.className:"lf-dnd-item";var u=document.createElement("div");if(u.className="lf-dnd-shape",v.icon&&(u.style.backgroundImage="url("+v.icon+")"),f.appendChild(u),v.label){var p=document.createElement("div");p.innerText=v.label,p.className="lf-dnd-text",f.appendChild(p)}return f.onmousedown=function(){v.type&&c.lf.dnd.startDrag({type:v.type,properties:v.properties,text:v.text}),v.callback&&v.callback()},f},y.pluginName="DndPanel",y}(),px=function(){function y(v){var c=this,f=v.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(p){var h=c.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,b=h.x,x=h.y;c.endPoint={x:b,y:x};var E=c.startPoint,S=E.x,k=E.y,P=c.wrapper.style,O=S,L=k,W=b-S,K=x-k;b<S&&(O=b,W=S-b),x<k&&(L=x,K=k-x),P.left=O+"px",P.top=L+"px",P.width=W+"px",P.height=K+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var p=c.startPoint,h=p.x,b=p.y,x=c.endPoint,E=x.x,S=x.y,k=[Math.min(h,E),Math.min(b,S)],P=[Math.max(h,E),Math.max(b,S)],O=c.lf.getAreaElement(k,P);O.forEach(function(L){c.lf.select(L.id,!0)}),c.lf.emit("selection:selected",O)},this.lf=f;var u=f.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=u,f.openSelectionSelect=function(){u||(c.isDefalutStopMoveGraph=!1,f.updateEditConfig({stopMoveGraph:!0})),c.open()},f.closeSelectionSelect=function(){c.isDefalutStopMoveGraph||f.updateEditConfig({stopMoveGraph:!1}),c.close()}}return y.prototype.render=function(v,c){var f=this;this.__domContainer=c,v.on("blank:mousedown",function(u){var p=u.e,h=v.getEditConfig();if(!(!h.stopMoveGraph||f.__disabled)){var b=v.getPointByClient(p.clientX,p.clientY).domOverlayPosition,x=b.x,E=b.y;f.startPoint={x,y:E},f.endPoint={x,y:E};var S=document.createElement("div");S.className="lf-selection-select",S.style.top=f.startPoint.y+"px",S.style.left=f.startPoint.x+"px",c.appendChild(S),f.wrapper=S,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}})},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selection-select",y}();globalThis&&globalThis.__values;var lg=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Fi=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p};(function(y){lg(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getEdge=function(){for(var c=this.getAttributes(),f=c.points,u=c.strokeWidth,p=c.stroke,h=c.strokeDashArray,b=f.split(" ").map(function(ee){return ee.split(",").map(function(re){return Number(re)})}),x=Fi(b[0],2),E=x[0],S=x[1],k="M"+E+" "+S,P=5,O=1;O<b.length-1;O++){var L=Fi(b[O-1],2),W=L[0],K=L[1],G=Fi(b[O],2),H=G[0],R=G[1],U=Fi(b[O+1],2),V=U[0],N=U[1];if(H===W&&R!==K){var C=R>K?R-P:R+P;k=k+" L "+H+" "+C}if(R===K&&H!==W){var I=H>W?H-P:H+P;k=k+" L "+I+" "+R}if(k=k+" Q "+H+" "+R,H===V&&R!==N){var C=R>N?R-P:R+P;k=k+" "+H+" "+C}if(R===N&&H!==V){var I=H>V?H-P:H+P;k=k+" "+I+" "+R}}var B=Fi(b[b.length-1],2),z=B[0],J=B[1];return k=k+" L "+z+" "+J,je.exports.h("path",{d:k,strokeWidth:u,stroke:p,fill:"none",strokeDashArray:h})},v.extendKey="CurvedEdge",v})(je.exports.PolylineEdge);(function(y){lg(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v})(je.exports.PolylineEdgeModel);var fg=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),dx=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p},hx=globalThis&&globalThis.__spread||function(){for(var y=[],v=0;v<arguments.length;v++)y=y.concat(dx(arguments[v]));return y};(function(y){fg(v,y);function v(){var c=y!==null&&y.apply(this,arguments)||this;return c.isGroup=!0,c.children=new Set,c.isRestrict=!0,c}return v.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},v.prototype.setIsRestrict=function(c){this.isRestrict=c},v.prototype.isInRange=function(c){var f=c.x1,u=c.y1,p=c.x2,h=c.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&u>=this.y-this.height/2&&h<=this.y+this.height/2},v.prototype.setAllowAppendChild=function(c){c?this.stroke="red":this.stroke="rgb(24, 125, 255)"},v.prototype.addChild=function(c){this.children.add(c)},v.prototype.removeChild=function(c){this.children.delete(c)},v.prototype.getData=function(){var c=y.prototype.getData.call(this);return c.children=hx(this.children),c},v})(je.exports.RectNodeModel);(function(y){fg(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.toFront=function(){},v.prototype.getShapeStyle=function(){var c=y.prototype.getShapeStyle.call(this);return c.radius=0,c},v})(je.exports.RectNode);var yx=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p};globalThis&&globalThis.__spread;var Nc,dt,pg,Ui,dg,hg,yg={},vg=[],vx=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Cr(y,v){for(var c in v)y[c]=v[c];return y}function gg(y){var v=y.parentNode;v&&v.removeChild(y)}function Xi(y,v,c){var f,u,p,h={};for(p in v)p=="key"?f=v[p]:p=="ref"?u=v[p]:h[p]=v[p];if(arguments.length>2&&(h.children=arguments.length>3?Nc.call(arguments,2):c),typeof y=="function"&&y.defaultProps!=null)for(p in y.defaultProps)h[p]===void 0&&(h[p]=y.defaultProps[p]);return lu(y,h,f,u,null)}function lu(y,v,c,f,u){var p={type:y,props:v,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u==null?++pg:u};return u==null&&dt.vnode!=null&&dt.vnode(p),p}function Cc(y){return y.children}function Fo(y,v){this.props=y,this.context=v}function Uo(y,v){if(v==null)return y.__?Uo(y.__,y.__.__k.indexOf(y)+1):null;for(var c;v<y.__k.length;v++)if((c=y.__k[v])!=null&&c.__e!=null)return c.__e;return typeof y.type=="function"?Uo(y):null}function bg(y){var v,c;if((y=y.__)!=null&&y.__c!=null){for(y.__e=y.__c.base=null,v=0;v<y.__k.length;v++)if((c=y.__k[v])!=null&&c.__e!=null){y.__e=y.__c.base=c.__e;break}return bg(y)}}function mg(y){(!y.__d&&(y.__d=!0)&&Ui.push(y)&&!fu.__r++||hg!==dt.debounceRendering)&&((hg=dt.debounceRendering)||dg)(fu)}function fu(){for(var y;fu.__r=Ui.length;)y=Ui.sort(function(v,c){return v.__v.__b-c.__v.__b}),Ui=[],y.some(function(v){var c,f,u,p,h,b;v.__d&&(h=(p=(c=v).__v).__e,(b=c.__P)&&(f=[],(u=Cr({},p)).__v=p.__v+1,jg(b,p,u,c.__n,b.ownerSVGElement!==void 0,p.__h!=null?[h]:null,f,h==null?Uo(p):h,p.__h),bx(f,p),p.__e!=h&&bg(p)))})}function _g(y,v,c,f,u,p,h,b,x,E){var S,k,P,O,L,W,K,G=f&&f.__k||vg,H=G.length;for(c.__k=[],S=0;S<v.length;S++)if((O=c.__k[S]=(O=v[S])==null||typeof O=="boolean"?null:typeof O=="string"||typeof O=="number"||typeof O=="bigint"?lu(null,O,null,null,O):Array.isArray(O)?lu(Cc,{children:O},null,null,null):O.__b>0?lu(O.type,O.props,O.key,null,O.__v):O)!=null){if(O.__=c,O.__b=c.__b+1,(P=G[S])===null||P&&O.key==P.key&&O.type===P.type)G[S]=void 0;else for(k=0;k<H;k++){if((P=G[k])&&O.key==P.key&&O.type===P.type){G[k]=void 0;break}P=null}jg(y,O,P=P||yg,u,p,h,b,x,E),L=O.__e,(k=O.ref)&&P.ref!=k&&(K||(K=[]),P.ref&&K.push(P.ref,null,O),K.push(k,O.__c||L,O)),L!=null?(W==null&&(W=L),typeof O.type=="function"&&O.__k===P.__k?O.__d=x=Og(O,x,y):x=wg(y,O,P,G,L,x),typeof c.type=="function"&&(c.__d=x)):x&&P.__e==x&&x.parentNode!=y&&(x=Uo(P))}for(c.__e=W,S=H;S--;)G[S]!=null&&(typeof c.type=="function"&&G[S].__e!=null&&G[S].__e==c.__d&&(c.__d=Uo(f,S+1)),Ag(G[S],G[S]));if(K)for(S=0;S<K.length;S++)Pg(K[S],K[++S],K[++S])}function Og(y,v,c){for(var f,u=y.__k,p=0;u&&p<u.length;p++)(f=u[p])&&(f.__=y,v=typeof f.type=="function"?Og(f,v,c):wg(c,f,f,u,f.__e,v));return v}function wg(y,v,c,f,u,p){var h,b,x;if(v.__d!==void 0)h=v.__d,v.__d=void 0;else if(c==null||u!=p||u.parentNode==null)e:if(p==null||p.parentNode!==y)y.appendChild(u),h=null;else{for(b=p,x=0;(b=b.nextSibling)&&x<f.length;x+=2)if(b==u)break e;y.insertBefore(u,p),h=p}return h!==void 0?h:u.nextSibling}function gx(y,v,c,f,u){var p;for(p in c)p==="children"||p==="key"||p in v||pu(y,p,null,c[p],f);for(p in v)u&&typeof v[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||c[p]===v[p]||pu(y,p,v[p],c[p],f)}function xg(y,v,c){v[0]==="-"?y.setProperty(v,c):y[v]=c==null?"":typeof c!="number"||vx.test(v)?c:c+"px"}function pu(y,v,c,f,u){var p;e:if(v==="style")if(typeof c=="string")y.style.cssText=c;else{if(typeof f=="string"&&(y.style.cssText=f=""),f)for(v in f)c&&v in c||xg(y.style,v,"");if(c)for(v in c)f&&c[v]===f[v]||xg(y.style,v,c[v])}else if(v[0]==="o"&&v[1]==="n")p=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in y?v.toLowerCase().slice(2):v.slice(2),y.l||(y.l={}),y.l[v+p]=c,c?f||y.addEventListener(v,p?Sg:Eg,p):y.removeEventListener(v,p?Sg:Eg,p);else if(v!=="dangerouslySetInnerHTML"){if(u)v=v.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in y)try{y[v]=c==null?"":c;break e}catch(h){}typeof c=="function"||(c!=null&&(c!==!1||v[0]==="a"&&v[1]==="r")?y.setAttribute(v,c):y.removeAttribute(v))}}function Eg(y){this.l[y.type+!1](dt.event?dt.event(y):y)}function Sg(y){this.l[y.type+!0](dt.event?dt.event(y):y)}function jg(y,v,c,f,u,p,h,b,x){var E,S,k,P,O,L,W,K,G,H,R,U=v.type;if(v.constructor!==void 0)return null;c.__h!=null&&(x=c.__h,b=v.__e=c.__e,v.__h=null,p=[b]),(E=dt.__b)&&E(v);try{e:if(typeof U=="function"){if(K=v.props,G=(E=U.contextType)&&f[E.__c],H=E?G?G.props.value:E.__:f,c.__c?W=(S=v.__c=c.__c).__=S.__E:("prototype"in U&&U.prototype.render?v.__c=S=new U(K,H):(v.__c=S=new Fo(K,H),S.constructor=U,S.render=_x),G&&G.sub(S),S.props=K,S.state||(S.state={}),S.context=H,S.__n=f,k=S.__d=!0,S.__h=[]),S.__s==null&&(S.__s=S.state),U.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Cr({},S.__s)),Cr(S.__s,U.getDerivedStateFromProps(K,S.__s))),P=S.props,O=S.state,k)U.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(U.getDerivedStateFromProps==null&&K!==P&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(K,H),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(K,S.__s,H)===!1||v.__v===c.__v){S.props=K,S.state=S.__s,v.__v!==c.__v&&(S.__d=!1),S.__v=v,v.__e=c.__e,v.__k=c.__k,v.__k.forEach(function(V){V&&(V.__=v)}),S.__h.length&&h.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(K,S.__s,H),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(P,O,L)})}S.context=H,S.props=K,S.state=S.__s,(E=dt.__r)&&E(v),S.__d=!1,S.__v=v,S.__P=y,E=S.render(S.props,S.state,S.context),S.state=S.__s,S.getChildContext!=null&&(f=Cr(Cr({},f),S.getChildContext())),k||S.getSnapshotBeforeUpdate==null||(L=S.getSnapshotBeforeUpdate(P,O)),R=E!=null&&E.type===Cc&&E.key==null?E.props.children:E,_g(y,Array.isArray(R)?R:[R],v,c,f,u,p,h,b,x),S.base=v.__e,v.__h=null,S.__h.length&&h.push(S),W&&(S.__E=S.__=null),S.__e=!1}else p==null&&v.__v===c.__v?(v.__k=c.__k,v.__e=c.__e):v.__e=mx(c.__e,v,c,f,u,p,h,x);(E=dt.diffed)&&E(v)}catch(V){v.__v=null,(x||p!=null)&&(v.__e=b,v.__h=!!x,p[p.indexOf(b)]=null),dt.__e(V,v,c)}}function bx(y,v){dt.__c&&dt.__c(v,y),y.some(function(c){try{y=c.__h,c.__h=[],y.some(function(f){f.call(c)})}catch(f){dt.__e(f,c.__v)}})}function mx(y,v,c,f,u,p,h,b){var x,E,S,k=c.props,P=v.props,O=v.type,L=0;if(O==="svg"&&(u=!0),p!=null){for(;L<p.length;L++)if((x=p[L])&&(x===y||(O?x.localName==O:x.nodeType==3))){y=x,p[L]=null;break}}if(y==null){if(O===null)return document.createTextNode(P);y=u?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,P.is&&P),p=null,b=!1}if(O===null)k===P||b&&y.data===P||(y.data=P);else{if(p=p&&Nc.call(y.childNodes),E=(k=c.props||yg).dangerouslySetInnerHTML,S=P.dangerouslySetInnerHTML,!b){if(p!=null)for(k={},L=0;L<y.attributes.length;L++)k[y.attributes[L].name]=y.attributes[L].value;(S||E)&&(S&&(E&&S.__html==E.__html||S.__html===y.innerHTML)||(y.innerHTML=S&&S.__html||""))}if(gx(y,P,k,u,b),S)v.__k=[];else if(L=v.props.children,_g(y,Array.isArray(L)?L:[L],v,c,f,u&&O!=="foreignObject",p,h,p?p[0]:c.__k&&Uo(c,0),b),p!=null)for(L=p.length;L--;)p[L]!=null&&gg(p[L]);b||("value"in P&&(L=P.value)!==void 0&&(L!==y.value||O==="progress"&&!L)&&pu(y,"value",L,k.value,!1),"checked"in P&&(L=P.checked)!==void 0&&L!==y.checked&&pu(y,"checked",L,k.checked,!1))}return y}function Pg(y,v,c){try{typeof y=="function"?y(v):y.current=v}catch(f){dt.__e(f,c)}}function Ag(y,v,c){var f,u;if(dt.unmount&&dt.unmount(y),(f=y.ref)&&(f.current&&f.current!==y.__e||Pg(f,null,v)),(f=y.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){dt.__e(p,v)}f.base=f.__P=null}if(f=y.__k)for(u=0;u<f.length;u++)f[u]&&Ag(f[u],v,typeof y.type!="function");c||y.__e==null||gg(y.__e),y.__e=y.__d=void 0}function _x(y,v,c){return this.constructor(y,c)}Nc=vg.slice,dt={__e:function(y,v){for(var c,f,u;v=v.__;)if((c=v.__c)&&!c.__)try{if((f=c.constructor)&&f.getDerivedStateFromError!=null&&(c.setState(f.getDerivedStateFromError(y)),u=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(y),u=c.__d),u)return c.__E=c}catch(p){y=p}throw y}},pg=0,Fo.prototype.setState=function(y,v){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Cr({},this.state),typeof y=="function"&&(y=y(Cr({},c),this.props)),y&&Cr(c,y),y!=null&&this.__v&&(v&&this.__h.push(v),mg(this))},Fo.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),mg(this))},Fo.prototype.render=Cc,Ui=[],dg=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fu.__r=0;var Hi=globalThis&&globalThis.__assign||function(){return Hi=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},Hi.apply(this,arguments)};function Rc(y){var v=y.x,c=y.y,f=y.width,u=y.height,p=y.radius,h=y.className,b=v-f/2,x=c-u/2,E=Hi(Hi({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},y),{x:b,y:x});return je.exports.h("rect",Hi({},E))}Rc.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Gi;(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"})(Gi||(Gi={}));function du(y){var v=y.x,c=y.y,f=y.width,u=y.height;return{minX:v-f/2,minY:c-u/2,maxX:v+f/2,maxY:c+u/2}}function kg(y){var v=du(y),c=y.radius,f=v.minX,u=v.minY,p=v.maxX,h=v.maxY;return[{x:f+c,y:u+c},{x:p-c,y:u+c},{x:p-c,y:h-c},{x:f+c,y:h-c}]}function Dg(y){var v=y.point,c=y.beforeNode,f=y.afterNode,u=v.x,p=v.y,h={x:u,y:p},b=c.radius,x=du(c),E=du(f);if(u===x.minX){h.x=E.minX;var S=(p-c.y)/(c.height/2-b);S?h.y=f.y+(f.height/2-b)*S:h.y=f.y}else if(u===x.maxX){h.x=E.maxX;var S=(p-c.y)/(c.height/2-b);S?h.y=f.y+(f.height/2-b)*S:h.y=f.y}else if(p===x.minY){h.y=E.minY;var S=(u-c.x)/(c.width/2-b);S?h.x=f.x+(f.width/2-b)*S:h.x=f.x}else if(p===x.maxY){h.y=E.maxY;var S=(u-c.x)/(c.width/2-b);S?h.x=f.x+(f.width/2-b)*S:h.x=f.x}else{var k=kg(c),P=kg(f),O=du(c),L=O.minX,W=O.minY,K=O.maxX,G=O.maxY,H=-1;if(u-L<b&&p-W<b?H=0:K-u<b&&p-W<b?H=1:K-u<b&&G-p<b?H=2:u-L<b&&W-p<b&&(H=3),H>-1){var R=Math.atan2(p-k[H].y,u-k[H].x);h.x=P[H].x+b*Math.cos(R),h.y=P[H].y+b*Math.sin(R)}}return h}function Tg(y){var v=y.point,c=y.beforeNode,f=y.afterNode,u=f.rx,p=f.ry,h=v,b=(v.y-c.y)/(v.x-c.x),x=u,E=p,S,k;return b>=1/0?(S=0,k=E):b<=-1/0?(S=0,k=-E):v.x-c.x>0?(S=x*E/Math.sqrt(E*E+x*x*b*b),k=x*E*b/Math.sqrt(E*E+x*x*b*b)):(S=-(x*E)/Math.sqrt(E*E+x*x*b*b),k=-(x*E*b)/Math.sqrt(E*E+x*x*b*b)),h={x:S+f.x,y:k+f.y},h}function Mg(y){var v=y.point,c=y.beforeNode,f=y.afterNode,u=v,p,h,b=v.x-c.x,x=v.y-c.y,E=c.rx,S=c.ry,k=Math.sqrt((E-Math.abs(b))*(E-Math.abs(b))+x*x)/Math.sqrt(E*E+S*S),P=f.rx,O=f.ry,L=Math.sqrt((P*P+O*O)*k*k*(P*P/(P*P+O*O))),W=L*(O/P);return b>=0?p=P-L:p=L-P,x>0?h=W:h=-W,u={x:p+f.x,y:h+f.y},u}var Ox=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),ro=globalThis&&globalThis.__assign||function(){return ro=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},ro.apply(this,arguments)},wx=je.exports.LogicFlowUtil.createDrag,xx=function(y){Ox(v,y);function v(c){var f=y.call(this)||this;f.updatePosition=function(h){var b=h.deltaX,x=h.deltaY,E=f.nodeModel,S=E.x,k=E.y;f.nodeModel.x=S+b/2,f.nodeModel.y=k+x/2,f.nodeModel.moveText(b/2,x/2)},f.getResize=function(h){var b=h.index,x=h.deltaX,E=h.deltaY,S=h.width,k=h.height,P=h.pct,O=P===void 0?1:P,L={width:S,height:k};switch(b){case 0:L.width=S-x*O,L.height=k-E*O;break;case 1:L.width=S+x*O,L.height=k-E*O;break;case 2:L.width=S+x,L.height=k+E*O;break;case 3:L.width=S-x*O,L.height=k+E*O;break}return L},f.updateRect=function(h){var b=h.deltaX,x=h.deltaY,E=f.nodeModel,S=E.id,k=E.x,P=E.y,O=E.width,L=E.height,W=E.radius,K=f.index,G=f.getResize({index:K,deltaX:b,deltaY:x,width:O,height:L,pct:1}),H=f.nodeModel,R=H.minWidth,U=H.minHeight,V=H.maxWidth,N=H.maxHeight;if(!(G.width<R||G.width>V||G.height<U||G.height>N)){f.updatePosition({deltaX:b,deltaY:x}),f.nodeModel.width=G.width,f.nodeModel.height=G.height,f.nodeModel.setProperties({nodeSize:{width:G.width,height:G.height}});var C=f.getNodeEdges(S),I={x:k,y:P,width:O,height:L,radius:W},B={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:W},z={point:"",beforeNode:I,afterNode:B},J;C.sourceEdges.forEach(function(ee){z.point=ee.startPoint,J=Dg(z),ee.updateStartPoint(J)}),C.targetEdges.forEach(function(ee){z.point=ee.endPoint,J=Dg(z),ee.updateEndPoint(J)}),f.eventEmit({beforeNode:I,afterNode:B})}},f.updateEllipse=function(h){var b=h.deltaX,x=h.deltaY,E=f.nodeModel,S=E.id,k=E.rx,P=E.ry,O=E.x,L=E.y,W=f.index,K=k,G=P,H=f.getResize({index:W,deltaX:b,deltaY:x,width:K,height:G,pct:1/2}),R=f.nodeModel,U=R.minWidth,V=R.minHeight,N=R.maxWidth,C=R.maxHeight;if(!(H.width<U/2||H.width>N/2||H.height<V/2||H.height>C/2)){f.updatePosition({deltaX:b,deltaY:x}),f.nodeModel.rx=H.width,f.nodeModel.ry=H.height,f.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}});var I=f.getNodeEdges(S),B={x:O,y:L},z={rx:H.width,ry:H.height,x:f.nodeModel.x,y:f.nodeModel.y},J={point:{},beforeNode:B,afterNode:z},ee;I.sourceEdges.forEach(function(re){J.point=re.startPoint,ee=Tg(J),re.updateStartPoint(ee)}),I.targetEdges.forEach(function(re){J.point=re.endPoint,ee=Tg(J),re.updateEndPoint(ee)}),f.eventEmit({beforeNode:ro(ro({},B),{rx:k,ry:P}),afterNode:z})}},f.updateDiamond=function(h){var b=h.deltaX,x=h.deltaY,E=f.nodeModel,S=E.id,k=E.rx,P=E.ry,O=E.x,L=E.y,W=f.index,K=k,G=P,H=f.getResize({index:W,deltaX:b,deltaY:x,width:K,height:G,pct:1/2}),R=Hc.sizeRange.ellipse,U=R.minRx,V=R.minRy,N=R.maxRx,C=R.maxRy;if(!(H.width<U||H.width>N||H.height<V||H.height>C)){f.updatePosition({deltaX:b,deltaY:x}),f.nodeModel.rx=H.width,f.nodeModel.ry=H.height,f.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}});var I={x:O,y:L,rx:k,ry:P},B={rx:H.width,ry:H.height,x:f.nodeModel.x,y:f.nodeModel.y},z={point:{},beforeNode:I,afterNode:B},J,ee=f.getNodeEdges(S);ee.sourceEdges.forEach(function(re){z.point=re.startPoint,J=Mg(z),re.updateStartPoint(J)}),ee.targetEdges.forEach(function(re){z.point=re.endPoint,J=Mg(z),re.updateEndPoint(J)}),f.eventEmit({beforeNode:I,afterNode:B})}},f.eventEmit=function(h){var b=h.beforeNode,x=h.afterNode,E=f.nodeModel,S=E.id,k=E.modelType,P=E.type,O=ro({id:S,modelType:k,type:P},b),L=ro({id:S,modelType:k,type:P},x);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:O,newNodeSize:L})},f.onDraging=function(h){var b=h.deltaX,x=h.deltaY,E=f.nodeModel.modelType;E===Gi.RECT_NODE?f.updateRect({deltaX:b,deltaY:x}):E===Gi.ELLIPSE_NODE?f.updateEllipse({deltaX:b,deltaY:x}):E===Gi.DIAMOND_NODE&&f.updateDiamond({deltaX:b,deltaY:x})},f.index=c.index,f.nodeModel=c.nodeModel,f.graphModel=c.graphModel;var u=f.graphModel.gridSize,p=2;return u>1&&(p=2*u),f.state={},f.dragHandler=wx({onDraging:f.onDraging,step:p}),f}return v.prototype.getNodeEdges=function(c){for(var f=this.graphModel,u=f.edges,p=[],h=[],b=0;b<u.length;b++){var x=u[b];x.sourceNodeId===c?p.push(x):u[b].targetNodeId===c&&h.push(x)}return{sourceEdges:p,targetEdges:h}},v.prototype.render=function(){var c=this.props,f=c.x,u=c.y,p=c.style,h=c.index,b=Hc.style.controlPoint,x=b.width,E=b.height,S=b.fill,k=b.stroke;return Xi("g",{className:"lf-resize-control-"+h},Xi(Rc,ro({className:"lf-node-control"},{x:f,y:u},p,{width:x,height:E,fill:S,stroke:k,onMouseDown:this.dragHandler})))},v}(Fo),Ex=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ic=globalThis&&globalThis.__assign||function(){return Ic=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},Ic.apply(this,arguments)},Lc=function(y){Ex(v,y);function v(){var c=y.call(this)||this;return c.state={},c}return v.prototype.getResizeControl=function(){var c=this.props,f=c.x,u=c.y,p=c.width,h=c.height,b=c.nodeModel,x=c.graphModel,E={minX:f-p/2,minY:u-h/2,maxX:f+p/2,maxY:u+h/2},S=E.minX,k=E.minY,P=E.maxX,O=E.maxY,L=[{x:S,y:k},{x:P,y:k},{x:P,y:O},{x:S,y:O}];return L.map(function(W,K){return Xi(xx,Ic({index:K},W,{nodeModel:b,graphModel:x}))})},v.prototype.getGroupSolid=function(){var c=this.props,f=c.x,u=c.y,p=c.width,h=c.height,b=Hc.style.outline,x=b.stroke,E=b.strokeWidth,S=b.strokeDasharray;return Xi(Rc,{fill:"none",x:f,y:u,width:p,height:h,stroke:x,strokeWidth:E,strokeDasharray:S})},v.prototype.render=function(){return Xi("g",{className:"lf-resize-control"},this.getResizeControl())},v}(Fo),Ng=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),zc=globalThis&&globalThis.__assign||function(){return zc=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},zc.apply(this,arguments)},Sx=function(y){Ng(v,y);function v(){var c=y!==null&&y.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return v.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.width=c.width,this.height=c.height)},v}(je.exports.RectNodeModel),jx=function(y){Ng(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getControlGroup=function(c){var f=this.props,u=f.model,p=f.graphModel;return je.exports.h(Lc,zc({},c,{nodeModel:u,graphModel:p}))},v.prototype.getShape=function(){var c=y.prototype.getAttributes.call(this),f=this.props.model.isSelected;return je.exports.h("g",null,y.prototype.getShape.call(this),f?this.getControlGroup(c):"")},v}(je.exports.RectNode),Bc={type:"rect",view:jx,model:Sx},hu=globalThis&&globalThis.__assign||function(){return hu=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},hu.apply(this,arguments)};function Px(y){var v=y.x,c=v===void 0?0:v,f=y.y,u=f===void 0?0:f,p=y.rx,h=p===void 0?4:p,b=y.ry,x=b===void 0?4:b,E=hu({cx:c,cy:u,rx:h,ry:x,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},y);return je.exports.h("ellipse",hu({},E))}var Cg=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),yu=globalThis&&globalThis.__assign||function(){return yu=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},yu.apply(this,arguments)},Ax=function(y){Cg(v,y);function v(){var c=y!==null&&y.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return v.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},v}(je.exports.EllipseNodeModel),kx=function(y){Cg(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getControlGroup=function(c){var f=this.props,u=f.model,p=f.graphModel;return je.exports.h(Lc,yu({},c,{nodeModel:u,graphModel:p}))},v.prototype.getResizeShape=function(c){return je.exports.h("g",null,je.exports.h(Px,yu({},c)))},v.prototype.getShape=function(){var c=y.prototype.getAttributes.call(this),f=this.props.model.isSelected;return je.exports.h("g",null,this.getResizeShape(c),f?this.getControlGroup(c):"")},v}(je.exports.EllipseNode),Fc={type:"ellipse",view:kx,model:Ax},Uc=globalThis&&globalThis.__assign||function(){return Uc=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},Uc.apply(this,arguments)};function Dx(y){var v=y.fillOpacity,c=v===void 0?1:v,f=y.strokeWidth,u=f===void 0?1:f,p=y.strokeOpacity,h=p===void 0?1:p,b=y.fill,x=b===void 0?"transparent":b,E=y.stroke,S=E===void 0?"#000":E,k=y.points,P=y.className,O=P===void 0?"lf-basic-shape":P,L={fill:x,fillOpacity:c,strokeWidth:u,stroke:S,strokeOpacity:h,points:"",className:O};return L.points=k.map(function(W){return W.join(",")}).join(" "),je.exports.h("polygon",Uc({},L))}var Rg=globalThis&&globalThis.__extends||function(){var y=function(v,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var p in u)u.hasOwnProperty(p)&&(f[p]=u[p])},y(v,c)};return function(v,c){y(v,c);function f(){this.constructor=v}v.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),vu=globalThis&&globalThis.__assign||function(){return vu=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},vu.apply(this,arguments)},Tx=function(y){Rg(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},v}(je.exports.DiamondNodeModel),Mx=function(y){Rg(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype.getControlGroup=function(c){var f=this.props,u=f.model,p=f.graphModel;return je.exports.h(Lc,vu({},c,{nodeModel:u,graphModel:p}))},v.prototype.getResizeShape=function(c){return je.exports.h("g",null,je.exports.h(Dx,vu({},c)))},v.prototype.getShape=function(){var c=y.prototype.getAttributes.call(this),f=this.props.model.isSelected;return je.exports.h("g",null,this.getResizeShape(c),f?this.getControlGroup(c):"")},v}(je.exports.DiamondNode),Xc={type:"diamond",view:Mx,model:Tx},Nx={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(y){y.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),y.register({type:Bc.type,view:Bc.view,model:Bc.model}),y.register({type:Fc.type,view:Fc.view,model:Fc.model}),y.register({type:Xc.type,view:Xc.view,model:Xc.model})}},Hc=Nx,Cx=globalThis&&globalThis.__read||function(y,v){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),u,p=[],h;try{for(;(v===void 0||v-- >0)&&!(u=f.next()).done;)p.push(u.value)}catch(b){h={error:b}}finally{try{u&&!u.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error}}return p};globalThis&&globalThis.__spread;var Ig=globalThis&&globalThis.__assign||function(){return Ig=Object.assign||function(y){for(var v,c=1,f=arguments.length;c<f;c++){v=arguments[c];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])}return y},Ig.apply(this,arguments)};const Rx={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function Ix(y){const{incoming:v,outgoing:c,properties:f,key:u}=y,{text:p,startPoint:h,endPoint:b,pointsList:x,logicFlowType:E}=f,S={id:u,type:E,sourceNodeId:v[0],targetNodeId:c[0],text:p,startPoint:h,endPoint:b,pointsList:x,properties:{}},k=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(y.properties).forEach(P=>{k.indexOf(P)===-1&&(S.properties[P]=y.properties[P])}),S}function Lx(y){const{properties:v,key:c}=y,{x:f,y:u,text:p,logicFlowType:h}=v,b={id:c,type:h,x:f,y:u,text:p,properties:{}},x=["x","y","text","logicFlowType"];return Object.keys(y.properties).forEach(E=>{x.indexOf(E)===-1&&(b.properties[E]=y.properties[E])}),b}function zx(y){const v={nodes:[],edges:[]},c=y.flowElementList;return c&&c.length>0&&c.forEach(f=>{if(f.type===Rx.SEQUENCE_FLOW){const u=Ix(f);v.edges.push(u)}else{const u=Lx(f);v.nodes.push(u)}}),v}function Bx(y){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{y.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const Fx=Uv({name:"FlowChart",components:{BasicModal:_1,FlowChartToolbar:k1,JsonPreview:w1},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(y){const v=au(null),c=au({}),f=au(null),{prefixCls:u}=r1("flow-chart"),p=o1(),[h,{openModal:b}]=O1();E1({logicFlow:f});const x=g1(()=>{const{flowOptions:P}=y;return Sc({grid:!0,background:{color:p.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},P)});Hv(()=>y.data,()=>{S()}),Hv(()=>Ft(x),P=>{var O;(O=Ft(f))==null||O.updateEditConfig(P)});function E(){return iu(this,null,function*(){yield Pc();const P=Ft(v);if(!P)return;zo.use(fx),zo.use(Q1),zo.use(J1),zo.use(lx),zo.use(px),f.value=new zo(Fv(Sc({},Ft(x)),{container:P}));const O=Ft(f);O==null||O.setDefaultEdgeType("line"),S(),O==null||O.setPatternItems(y.patternItems||Bx(O))})}function S(){return iu(this,null,function*(){yield Pc();const P=Ft(f);if(!P)return;const O=zx(y.data);P.render(O)})}function k(){const P=Ft(f);!P||(c.value=Ft(P).getGraphData(),b())}return b1(E),{register:h,prefixCls:u,lfElRef:v,handlePreview:k,graphData:c}}}),Ux={ref:"lfElRef",class:"h-full"};function Xx(y,v,c,f,u,p){const h=Mr("FlowChartToolbar"),b=Mr("JsonPreview"),x=Mr("BasicModal");return Nr(),Ri("div",{class:su(["h-full",y.prefixCls])},[y.toolbar?(Nr(),kc(h,{key:0,prefixCls:y.prefixCls,onViewData:y.handlePreview},null,8,["prefixCls","onViewData"])):Ac("",!0),m1("div",Ux,null,512),Ii(x,{onRegister:y.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:uu(()=>[Ii(b,{data:y.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var Hx=jc(Fx,[["render",Xx]]);const Gx=i1(Hx),Wx=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var Vx={flowElementList:Wx};const Yx={components:{FlowChart:Gx,PageWrapper:x1},setup(){return{demoData:Vx}}};function Kx(y,v,c,f,u,p){const h=Mr("FlowChart"),b=Mr("PageWrapper");return Nr(),kc(b,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:uu(()=>[Ii(h,{data:f.demoData},null,8,["data"])]),_:1})}var aE=jc(Yx,[["render",Kx]]);export{aE as default};
