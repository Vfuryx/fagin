var r;import{D as e,r as o,S as a,$ as t,n as s,a0 as i,F as n,G as l,aa as d,ar as u,H as c,J as m,w as p,u as f,a5 as j,ad as x,L as b}from"./vendor.5da97255.js";import{_ as g}from"./DetailModal.vue_vue&type=script&setup=true&lang.28b57f61.js";import{u as y,_ as v}from"./useTable.52343b10.js";import{_ as h}from"./useForm.62bbed2c.js";import{u as w}from"./index.89a9d4e0.js";import{aj as L,e as _,ak as E}from"./index.ab59a04a.js";import{getColumns as k}from"./data.b98e4b9f.js";import"./index.5281095c.js";/* empty css              */import"./index.6948ae8c.js";/* empty css              *//* empty css              */import"./useWindowSizeFn.df7b0c93.js";import"./useContentViewHeight.ef6fc368.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useSortable.a06a1df1.js";/* empty css              *//* empty css              *//* empty css              */import"./index.351a93c9.js";import"./download.3af720f3.js";import"./index.954cca7d.js";(r||(r={})).Error="/error";const C={class:"p-4"},R=["src"];var D=e({setup(e){const D=o(),T=o([]),{t:A}=_(),F=E(),[S,{setTableData:H}]=y({title:A("sys.errorLog.tableTitle"),columns:k(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[I,{openModal:M}]=w();function P(r){D.value=r,M(!0)}function V(){throw new Error("fire vue error!")}function $(){T.value.push(`${(new Date).getTime()}.png`)}function z(){return e=this,o=null,a=function*(){yield L.get({url:r.Error})},new Promise(((r,t)=>{var s=r=>{try{n(a.next(r))}catch(e){t(e)}},i=r=>{try{n(a.throw(r))}catch(e){t(e)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);n((a=a.apply(e,o)).next())}));var e,o,a}return a((()=>F.getErrorLogInfoList),(r=>{t((()=>{H(s(r))}))}),{immediate:!0}),(r,e)=>{const o=i("a-button");return n(),l("div",C,[(n(!0),l(d,null,u(T.value,(r=>c((n(),l("img",{key:r,src:r},null,8,R)),[[m,!1]]))),128)),p(g,{info:D.value,onRegister:f(I)},null,8,["info","onRegister"]),p(f(v),{onRegister:f(S),class:"error-handle-table"},{toolbar:j((()=>[p(o,{onClick:V,type:"primary"},{default:j((()=>[x(b(f(A)("sys.errorLog.fireVueError")),1)])),_:1}),p(o,{onClick:$,type:"primary"},{default:j((()=>[x(b(f(A)("sys.errorLog.fireResourceError")),1)])),_:1}),p(o,{onClick:z,type:"primary"},{default:j((()=>[x(b(f(A)("sys.errorLog.fireAjaxError")),1)])),_:1})])),action:j((({record:r})=>[p(f(h),{actions:[{label:f(A)("sys.errorLog.tableActionDesc"),onClick:P.bind(null,r)}]},null,8,["actions"])])),_:1},8,["onRegister"])])}}});export{D as default};
