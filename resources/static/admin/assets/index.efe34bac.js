var y=Object.defineProperty,D=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var b=(n,e,t)=>e in n?y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,h=(n,e)=>{for(var t in e||(e={}))B.call(e,t)&&b(n,t,e[t]);if(x)for(var t of x(e))M.call(e,t)&&b(n,t,e[t]);return n},C=(n,e)=>D(n,A(e));var _=(n,e,t)=>new Promise((d,m)=>{var s=i=>{try{a(t.next(i))}catch(r){m(r)}},f=i=>{try{a(t.throw(i))}catch(r){m(r)}},a=i=>i.done?d(i.value):Promise.resolve(i.value).then(s,f);a((t=t.apply(n,e)).next())});import{an as F}from"./index.6d3ed4e5.js";import{B as k}from"./TableImg.1321f9ef.js";import{T as v}from"./BasicForm.f9b68d8c.js";import{u as E}from"./useTable.5a3ce825.js";import{u as R}from"./index.71a54c7b.js";import{P as c}from"./permCodeEnum.0c8982e3.js";import{g as P,c as V,s as I,_ as N,d as U}from"./MenuDrawer.e11da340.js";import{A as z,bs as W,a0 as H,B as g,D as L,w as l,a6 as p,u as o,a1 as Q,ad as $,ae as q}from"./vendor.3850bdb6.js";/* empty css                *//* empty css              */import"./useForm.ff740053.js";import"./index.a09675a6.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.4c2ec928.js";import"./useContentViewHeight.34544381.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.2b29000c.js";import"./index.ab15df17.js";/* empty css               */import"./useSortable.7a35deac.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.f4e2dde3.js";/* empty css                *//* empty css                *//* empty css                */import"./download.62bc70aa.js";import"./base64Conver.08b9f4ec.js";import"./index.c99e5782.js";/* empty css               */const G=q(" \u65B0\u589E\u83DC\u5355 "),J={name:"MenuManagement"};function K(n){const{hasPermission:e}=F(),[t,{openDrawer:d}]=R(),[m,{reload:s,expandAll:f}]=E({title:"\u83DC\u5355\u5217\u8868",api:P,columns:V,formConfig:{labelWidth:120,schemas:I},isTreeTable:!0,pagination:!1,striped:!1,useSearchForm:e(c.AdminSystemMenuQuery),showTableSetting:!0,bordered:!0,showIndexColumn:!1,canResize:!1,actionColumn:{width:80,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}});function a(){d(!0,{isUpdate:!1})}function i(u){d(!0,{record:u,isUpdate:!0})}function r(u){return _(this,null,function*(){yield U(u.id),yield s()})}function w(){s()}function S(){}return W(()=>{s()}),(u,O)=>{const T=H("a-button");return g(),L("div",null,[l(o(k),{onRegister:o(m),onFetchSuccess:S},{toolbar:p(()=>[o(e)(o(c).AdminSystemMenuCreate)?(g(),Q(T,{key:0,type:"primary",onClick:a},{default:p(()=>[G]),_:1})):$("",!0)]),action:p(({record:j})=>[l(o(v),{actions:[{icon:"clarity:note-edit-line",onClick:i.bind(null,j),auth:o(c).AdminSystemMenuUpdate},{icon:"ant-design:delete-outlined",color:"error",auth:o(c).AdminSystemMenuDelete,popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:r.bind(null,j)}}]},null,8,["actions"])]),_:1},8,["onRegister"]),l(N,{onRegister:o(t),onSuccess:w},null,8,["onRegister"])])}}const Ee=z(C(h({},J),{setup:K}));export{Ee as default};
