var y=Object.defineProperty,E=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var b=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,h=(o,e)=>{for(var t in e||(e={}))B.call(e,t)&&b(o,t,e[t]);if(x)for(var t of x(e))F.call(e,t)&&b(o,t,e[t]);return o},_=(o,e)=>E(o,A(e));var C=(o,e,t)=>new Promise((m,d)=>{var s=i=>{try{a(t.next(i))}catch(r){d(r)}},l=i=>{try{a(t.throw(i))}catch(r){d(r)}},a=i=>i.done?m(i.value):Promise.resolve(i.value).then(s,l);a((t=t.apply(o,e)).next())});import{an as k}from"./index.6d3ed4e5.js";import{B as v}from"./TableImg.1321f9ef.js";import{T as R}from"./BasicForm.f9b68d8c.js";import{u as M}from"./useTable.5a3ce825.js";import{b as P}from"./index.ab15df17.js";import{P as u}from"./permCodeEnum.0c8982e3.js";import{g as V,c as I,s as N,_ as U,d as z}from"./DeptModal.56a95f40.js";import{A as g,bs as W,a0 as $,B as D,D as H,w as p,a6 as f,u as n,a1 as L,ad as Q,ae as q,$ as G}from"./vendor.3850bdb6.js";/* empty css                *//* empty css              */import"./useForm.ff740053.js";import"./index.a09675a6.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.4c2ec928.js";import"./useContentViewHeight.34544381.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.2b29000c.js";/* empty css               */import"./useSortable.7a35deac.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.f4e2dde3.js";/* empty css                *//* empty css                *//* empty css                */import"./download.62bc70aa.js";import"./base64Conver.08b9f4ec.js";import"./index.c99e5782.js";const J=q(" \u65B0\u589E\u90E8\u95E8 "),K=g({name:"DepartmentManagement"});function O(o){const{hasPermission:e}=k(),[t,{openModal:m}]=P(),[d,{reload:s,expandAll:l}]=M({title:"\u90E8\u95E8\u5217\u8868",api:V,columns:I,formConfig:{labelWidth:120,schemas:N},isTreeTable:!0,pagination:!1,striped:!1,useSearchForm:e(u.AdminSystemDepartmentQuery),showTableSetting:!0,bordered:!0,showIndexColumn:!1,canResize:!1,actionColumn:{width:80,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}});function a(){m(!0,{isUpdate:!1})}function i(c){m(!0,{record:c,isUpdate:!0})}function r(c){return C(this,null,function*(){yield z(c.id),yield s()})}function S(){s()}function T(){G(l)}return W(()=>{s()}),(c,X)=>{const w=$("a-button");return D(),H("div",null,[p(n(v),{onRegister:n(d),onFetchSuccess:T},{toolbar:f(()=>[n(e)(n(u).AdminSystemDepartmentCreate)?(D(),L(w,{key:0,type:"primary",onClick:a},{default:f(()=>[J]),_:1})):Q("",!0)]),action:f(({record:j})=>[p(n(R),{actions:[{icon:"clarity:note-edit-line",onClick:i.bind(null,j),auth:n(u).AdminSystemDepartmentUpdate},{icon:"ant-design:delete-outlined",color:"error",auth:n(u).AdminSystemDepartmentDelete,popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:r.bind(null,j)}}]},null,8,["actions"])]),_:1},8,["onRegister"]),p(U,{onRegister:n(t),onSuccess:S},null,8,["onRegister"])])}}const ve=g(_(h({},K),{setup:O}));export{ve as default};
