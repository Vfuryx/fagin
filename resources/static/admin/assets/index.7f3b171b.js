var ze=Object.defineProperty;var Qr=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Gr=(n,t,i)=>t in n?ze(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i,qr=(n,t)=>{for(var i in t||(t={}))Oe.call(t,i)&&Gr(n,i,t[i]);if(Qr)for(var i of Qr(t))$e.call(t,i)&&Gr(n,i,t[i]);return n};var Xr=(n,t,i)=>new Promise((o,a)=>{var h=g=>{try{u(i.next(g))}catch(w){a(w)}},l=g=>{try{u(i.throw(g))}catch(w){a(w)}},u=g=>g.done?o(g.value):Promise.resolve(g.value).then(h,l);u((i=i.apply(n,t)).next())});import{k as Ke,_ as Je,w as Ve}from"./index.6d3ed4e5.js";import{n as We,A as Qe,r as Ge,_ as qe,S as Xe,u as Br,B as Zr,D as Ze,a1 as je,al as rt}from"./vendor.3850bdb6.js";import{d as et}from"./download.62bc70aa.js";var tt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},jr={},G={},nt={}.toString,Ar=Array.isArray||function(n){return nt.call(n)=="[object Array]"},it=Ar;function ot(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},n.foo()===42}catch(t){return!1}}I.TYPED_ARRAY_SUPPORT=ot();var re=I.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function I(n,t,i){return!I.TYPED_ARRAY_SUPPORT&&!(this instanceof I)?new I(n,t,i):typeof n=="number"?ee(this,n):ct(this,n,t,i)}I.TYPED_ARRAY_SUPPORT&&(I.prototype.__proto__=Uint8Array.prototype,I.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&I[Symbol.species]===I&&Object.defineProperty(I,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function Cr(n){if(n>=re)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+re.toString(16)+" bytes");return n|0}function at(n){return n!==n}function j(n,t){var i;return I.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(t),i.__proto__=I.prototype):(i=n,i===null&&(i=new I(t)),i.length=t),i}function ee(n,t){var i=j(n,t<0?0:Cr(t)|0);if(!I.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)i[o]=0;return i}function ut(n,t){var i=ne(t)|0,o=j(n,i),a=o.write(t);return a!==i&&(o=o.slice(0,a)),o}function xr(n,t){for(var i=t.length<0?0:Cr(t.length)|0,o=j(n,i),a=0;a<i;a+=1)o[a]=t[a]&255;return o}function ft(n,t,i,o){if(i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(o||0))throw new RangeError("'length' is out of bounds");var a;return i===void 0&&o===void 0?a=new Uint8Array(t):o===void 0?a=new Uint8Array(t,i):a=new Uint8Array(t,i,o),I.TYPED_ARRAY_SUPPORT?a.__proto__=I.prototype:a=xr(n,a),a}function ht(n,t){if(I.isBuffer(t)){var i=Cr(t.length)|0,o=j(n,i);return o.length===0||t.copy(o,0,0,i),o}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||at(t.length)?j(n,0):xr(n,t);if(t.type==="Buffer"&&Array.isArray(t.data))return xr(n,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function te(n,t){t=t||1/0;for(var i,o=n.length,a=null,h=[],l=0;l<o;++l){if(i=n.charCodeAt(l),i>55295&&i<57344){if(!a){if(i>56319){(t-=3)>-1&&h.push(239,191,189);continue}else if(l+1===o){(t-=3)>-1&&h.push(239,191,189);continue}a=i;continue}if(i<56320){(t-=3)>-1&&h.push(239,191,189),a=i;continue}i=(a-55296<<10|i-56320)+65536}else a&&(t-=3)>-1&&h.push(239,191,189);if(a=null,i<128){if((t-=1)<0)break;h.push(i)}else if(i<2048){if((t-=2)<0)break;h.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;h.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;h.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return h}function ne(n){if(I.isBuffer(n))return n.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var t=n.length;return t===0?0:te(n).length}function st(n,t,i,o){for(var a=0;a<o&&!(a+i>=t.length||a>=n.length);++a)t[a+i]=n[a];return a}function lt(n,t,i,o){return st(te(t,n.length-i),n,i,o)}function ct(n,t,i,o){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?ft(n,t,i,o):typeof t=="string"?ut(n,t):ht(n,t)}I.prototype.write=function(t,i,o){i===void 0?(o=this.length,i=0):o===void 0&&typeof i=="string"?(o=this.length,i=0):isFinite(i)&&(i=i|0,isFinite(o)?o=o|0:o=void 0);var a=this.length-i;if((o===void 0||o>a)&&(o=a),t.length>0&&(o<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");return lt(this,t,i,o)};I.prototype.slice=function(t,i){var o=this.length;t=~~t,i=i===void 0?o:~~i,t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),i<0?(i+=o,i<0&&(i=0)):i>o&&(i=o),i<t&&(i=t);var a;if(I.TYPED_ARRAY_SUPPORT)a=this.subarray(t,i),a.__proto__=I.prototype;else{var h=i-t;a=new I(h,void 0);for(var l=0;l<h;++l)a[l]=this[l+t]}return a};I.prototype.copy=function(t,i,o,a){if(o||(o=0),!a&&a!==0&&(a=this.length),i>=t.length&&(i=t.length),i||(i=0),a>0&&a<o&&(a=o),a===o||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-i<a-o&&(a=t.length-i+o);var h=a-o,l;if(this===t&&o<i&&i<a)for(l=h-1;l>=0;--l)t[l+i]=this[l+o];else if(h<1e3||!I.TYPED_ARRAY_SUPPORT)for(l=0;l<h;++l)t[l+i]=this[l+o];else Uint8Array.prototype.set.call(t,this.subarray(o,o+h),i);return h};I.prototype.fill=function(t,i,o){if(typeof t=="string"){if(typeof i=="string"?(i=0,o=this.length):typeof o=="string"&&(o=this.length),t.length===1){var a=t.charCodeAt(0);a<256&&(t=a)}}else typeof t=="number"&&(t=t&255);if(i<0||this.length<i||this.length<o)throw new RangeError("Out of range index");if(o<=i)return this;i=i>>>0,o=o===void 0?this.length:o>>>0,t||(t=0);var h;if(typeof t=="number")for(h=i;h<o;++h)this[h]=t;else{var l=I.isBuffer(t)?t:new I(t),u=l.length;for(h=0;h<o-i;++h)this[h+i]=l[h%u]}return this};I.concat=function(t,i){if(!it(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return j(null,0);var o;if(i===void 0)for(i=0,o=0;o<t.length;++o)i+=t[o].length;var a=ee(null,i),h=0;for(o=0;o<t.length;++o){var l=t[o];if(!I.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(a,h),h+=l.length}return a};I.byteLength=ne;I.prototype._isBuffer=!0;I.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};G.alloc=function(n){var t=new I(n);return t.fill(0),t};G.from=function(n){return new I(n)};var H={},Fr,gt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};H.getSymbolTotalCodewords=function(t){return gt[t]};H.getBCHDigit=function(n){for(var t=0;n!==0;)t++,n>>>=1;return t};H.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Fr=t};H.isKanjiModeEnabled=function(){return typeof Fr!="undefined"};H.toSJIS=function(t){return Fr(t)};var sr={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(i){if(typeof i!="string")throw new Error("Param is not a string");var o=i.toLowerCase();switch(o){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+i)}}n.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},n.from=function(o,a){if(n.isValid(o))return o;try{return t(o)}catch(h){return a}}})(sr);function ie(){this.buffer=[],this.length=0}ie.prototype={get:function(n){var t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)==1},put:function(n,t){for(var i=0;i<t;i++)this.putBit((n>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(n){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var pt=ie,oe=G;function or(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=oe.alloc(n*n),this.reservedBit=oe.alloc(n*n)}or.prototype.set=function(n,t,i,o){var a=n*this.size+t;this.data[a]=i,o&&(this.reservedBit[a]=!0)};or.prototype.get=function(n,t){return this.data[n*this.size+t]};or.prototype.xor=function(n,t,i){this.data[n*this.size+t]^=i};or.prototype.isReserved=function(n,t){return this.reservedBit[n*this.size+t]};var dt=or,ae={};(function(n){var t=H.getSymbolSize;n.getRowColCoords=function(o){if(o===1)return[];for(var a=Math.floor(o/7)+2,h=t(o),l=h===145?26:Math.ceil((h-13)/(2*a-2))*2,u=[h-7],g=1;g<a-1;g++)u[g]=u[g-1]-l;return u.push(6),u.reverse()},n.getPositions=function(o){for(var a=[],h=n.getRowColCoords(o),l=h.length,u=0;u<l;u++)for(var g=0;g<l;g++)u===0&&g===0||u===0&&g===l-1||u===l-1&&g===0||a.push([h[u],h[g]]);return a}})(ae);var ue={},vt=H.getSymbolSize,fe=7;ue.getPositions=function(t){var i=vt(t);return[[0,0],[i-fe,0],[0,i-fe]]};var he={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},n.from=function(a){return n.isValid(a)?parseInt(a,10):void 0},n.getPenaltyN1=function(a){for(var h=a.size,l=0,u=0,g=0,w=null,d=null,m=0;m<h;m++){u=g=0,w=d=null;for(var C=0;C<h;C++){var x=a.get(m,C);x===w?u++:(u>=5&&(l+=t.N1+(u-5)),w=x,u=1),x=a.get(C,m),x===d?g++:(g>=5&&(l+=t.N1+(g-5)),d=x,g=1)}u>=5&&(l+=t.N1+(u-5)),g>=5&&(l+=t.N1+(g-5))}return l},n.getPenaltyN2=function(a){for(var h=a.size,l=0,u=0;u<h-1;u++)for(var g=0;g<h-1;g++){var w=a.get(u,g)+a.get(u,g+1)+a.get(u+1,g)+a.get(u+1,g+1);(w===4||w===0)&&l++}return l*t.N2},n.getPenaltyN3=function(a){for(var h=a.size,l=0,u=0,g=0,w=0;w<h;w++){u=g=0;for(var d=0;d<h;d++)u=u<<1&2047|a.get(w,d),d>=10&&(u===1488||u===93)&&l++,g=g<<1&2047|a.get(d,w),d>=10&&(g===1488||g===93)&&l++}return l*t.N3},n.getPenaltyN4=function(a){for(var h=0,l=a.data.length,u=0;u<l;u++)h+=a.data[u];var g=Math.abs(Math.ceil(h*100/l/5)-10);return g*t.N4};function i(o,a,h){switch(o){case n.Patterns.PATTERN000:return(a+h)%2==0;case n.Patterns.PATTERN001:return a%2==0;case n.Patterns.PATTERN010:return h%3==0;case n.Patterns.PATTERN011:return(a+h)%3==0;case n.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(h/3))%2==0;case n.Patterns.PATTERN101:return a*h%2+a*h%3==0;case n.Patterns.PATTERN110:return(a*h%2+a*h%3)%2==0;case n.Patterns.PATTERN111:return(a*h%3+(a+h)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}}n.applyMask=function(a,h){for(var l=h.size,u=0;u<l;u++)for(var g=0;g<l;g++)h.isReserved(g,u)||h.xor(g,u,i(a,g,u))},n.getBestMask=function(a,h){for(var l=Object.keys(n.Patterns).length,u=0,g=1/0,w=0;w<l;w++){h(w),n.applyMask(w,a);var d=n.getPenaltyN1(a)+n.getPenaltyN2(a)+n.getPenaltyN3(a)+n.getPenaltyN4(a);n.applyMask(w,a),d<g&&(g=d,u=w)}return u}})(he);var lr={},q=sr,cr=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],gr=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];lr.getBlocksCount=function(t,i){switch(i){case q.L:return cr[(t-1)*4+0];case q.M:return cr[(t-1)*4+1];case q.Q:return cr[(t-1)*4+2];case q.H:return cr[(t-1)*4+3];default:return}};lr.getTotalCodewordsCount=function(t,i){switch(i){case q.L:return gr[(t-1)*4+0];case q.M:return gr[(t-1)*4+1];case q.Q:return gr[(t-1)*4+2];case q.H:return gr[(t-1)*4+3];default:return}};var se={},pr={},le=G,ar=le.alloc(512),dr=le.alloc(256);(function(){for(var t=1,i=0;i<255;i++)ar[i]=t,dr[t]=i,t<<=1,t&256&&(t^=285);for(i=255;i<512;i++)ar[i]=ar[i-255]})();pr.log=function(t){if(t<1)throw new Error("log("+t+")");return dr[t]};pr.exp=function(t){return ar[t]};pr.mul=function(t,i){return t===0||i===0?0:ar[dr[t]+dr[i]]};(function(n){var t=G,i=pr;n.mul=function(a,h){for(var l=t.alloc(a.length+h.length-1),u=0;u<a.length;u++)for(var g=0;g<h.length;g++)l[u+g]^=i.mul(a[u],h[g]);return l},n.mod=function(a,h){for(var l=t.from(a);l.length-h.length>=0;){for(var u=l[0],g=0;g<h.length;g++)l[g]^=i.mul(h[g],u);for(var w=0;w<l.length&&l[w]===0;)w++;l=l.slice(w)}return l},n.generateECPolynomial=function(a){for(var h=t.from([1]),l=0;l<a;l++)h=n.mul(h,[1,i.exp(l)]);return h}})(se);var ce={},vr={};vr.byteLength=mt;vr.toByteArray=Bt;vr.fromByteArray=xt;var V=[],O=[],wt=typeof Uint8Array!="undefined"?Uint8Array:Array,Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var rr=0,yt=Tr.length;rr<yt;++rr)V[rr]=Tr[rr],O[Tr.charCodeAt(rr)]=rr;O["-".charCodeAt(0)]=62;O["_".charCodeAt(0)]=63;function ge(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=n.indexOf("=");i===-1&&(i=t);var o=i===t?0:4-i%4;return[i,o]}function mt(n){var t=ge(n),i=t[0],o=t[1];return(i+o)*3/4-o}function Et(n,t,i){return(t+i)*3/4-i}function Bt(n){var t,i=ge(n),o=i[0],a=i[1],h=new wt(Et(n,o,a)),l=0,u=a>0?o-4:o,g;for(g=0;g<u;g+=4)t=O[n.charCodeAt(g)]<<18|O[n.charCodeAt(g+1)]<<12|O[n.charCodeAt(g+2)]<<6|O[n.charCodeAt(g+3)],h[l++]=t>>16&255,h[l++]=t>>8&255,h[l++]=t&255;return a===2&&(t=O[n.charCodeAt(g)]<<2|O[n.charCodeAt(g+1)]>>4,h[l++]=t&255),a===1&&(t=O[n.charCodeAt(g)]<<10|O[n.charCodeAt(g+1)]<<4|O[n.charCodeAt(g+2)]>>2,h[l++]=t>>8&255,h[l++]=t&255),h}function At(n){return V[n>>18&63]+V[n>>12&63]+V[n>>6&63]+V[n&63]}function Ct(n,t,i){for(var o,a=[],h=t;h<i;h+=3)o=(n[h]<<16&16711680)+(n[h+1]<<8&65280)+(n[h+2]&255),a.push(At(o));return a.join("")}function xt(n){for(var t,i=n.length,o=i%3,a=[],h=16383,l=0,u=i-o;l<u;l+=h)a.push(Ct(n,l,l+h>u?u:l+h));return o===1?(t=n[i-1],a.push(V[t>>2]+V[t<<4&63]+"==")):o===2&&(t=(n[i-2]<<8)+n[i-1],a.push(V[t>>10]+V[t>>4&63]+V[t<<2&63]+"=")),a.join("")}var Ir={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ir.read=function(n,t,i,o,a){var h,l,u=a*8-o-1,g=(1<<u)-1,w=g>>1,d=-7,m=i?a-1:0,C=i?-1:1,x=n[t+m];for(m+=C,h=x&(1<<-d)-1,x>>=-d,d+=u;d>0;h=h*256+n[t+m],m+=C,d-=8);for(l=h&(1<<-d)-1,h>>=-d,d+=o;d>0;l=l*256+n[t+m],m+=C,d-=8);if(h===0)h=1-w;else{if(h===g)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,o),h=h-w}return(x?-1:1)*l*Math.pow(2,h-o)};Ir.write=function(n,t,i,o,a,h){var l,u,g,w=h*8-a-1,d=(1<<w)-1,m=d>>1,C=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=o?0:h-1,y=o?1:-1,F=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=d):(l=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-l))<1&&(l--,g*=2),l+m>=1?t+=C/g:t+=C*Math.pow(2,1-m),t*g>=2&&(l++,g/=2),l+m>=d?(u=0,l=d):l+m>=1?(u=(t*g-1)*Math.pow(2,a),l=l+m):(u=t*Math.pow(2,m-1)*Math.pow(2,a),l=0));a>=8;n[i+x]=u&255,x+=y,u/=256,a-=8);for(l=l<<a|u,w+=a;w>0;n[i+x]=l&255,x+=y,l/=256,w-=8);n[i+x-y]|=F*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){var t=vr,i=Ir,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=T,n.INSPECT_MAX_BYTES=50;var a=2147483647;n.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=h(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var f=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(f,r),f.foo()===42}catch(e){return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function l(f){if(f>a)throw new RangeError('The value "'+f+'" is invalid for option "size"');var r=new Uint8Array(f);return Object.setPrototypeOf(r,u.prototype),r}function u(f,r,e){if(typeof f=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(f)}return g(f,r,e)}u.poolSize=8192;function g(f,r,e){if(typeof f=="string")return C(f,r);if(ArrayBuffer.isView(f))return y(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(J(f,ArrayBuffer)||f&&J(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(J(f,SharedArrayBuffer)||f&&J(f.buffer,SharedArrayBuffer)))return F(f,r,e);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var s=f.valueOf&&f.valueOf();if(s!=null&&s!==f)return u.from(s,r,e);var c=R(f);if(c)return c;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,r,e){return g(f,r,e)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function w(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function d(f,r,e){return w(f),f<=0?l(f):r!==void 0?typeof e=="string"?l(f).fill(r,e):l(f).fill(r):l(f)}u.alloc=function(f,r,e){return d(f,r,e)};function m(f){return w(f),l(f<0?0:B(f)|0)}u.allocUnsafe=function(f){return m(f)},u.allocUnsafeSlow=function(f){return m(f)};function C(f,r){if((typeof r!="string"||r==="")&&(r="utf8"),!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var e=A(f,r)|0,s=l(e),c=s.write(f,r);return c!==e&&(s=s.slice(0,c)),s}function x(f){for(var r=f.length<0?0:B(f.length)|0,e=l(r),s=0;s<r;s+=1)e[s]=f[s]&255;return e}function y(f){if(J(f,Uint8Array)){var r=new Uint8Array(f);return F(r.buffer,r.byteOffset,r.byteLength)}return x(f)}function F(f,r,e){if(r<0||f.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<r+(e||0))throw new RangeError('"length" is outside of buffer bounds');var s;return r===void 0&&e===void 0?s=new Uint8Array(f):e===void 0?s=new Uint8Array(f,r):s=new Uint8Array(f,r,e),Object.setPrototypeOf(s,u.prototype),s}function R(f){if(u.isBuffer(f)){var r=B(f.length)|0,e=l(r);return e.length===0||f.copy(e,0,0,r),e}if(f.length!==void 0)return typeof f.length!="number"||Er(f.length)?l(0):x(f);if(f.type==="Buffer"&&Array.isArray(f.data))return x(f.data)}function B(f){if(f>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return f|0}function T(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==u.prototype},u.compare=function(r,e){if(J(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(r)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var s=r.length,c=e.length,p=0,v=Math.min(s,c);p<v;++p)if(r[p]!==e[p]){s=r[p],c=e[p];break}return s<c?-1:c<s?1:0},u.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return u.alloc(0);var s;if(e===void 0)for(e=0,s=0;s<r.length;++s)e+=r[s].length;var c=u.allocUnsafe(e),p=0;for(s=0;s<r.length;++s){var v=r[s];if(J(v,Uint8Array))p+v.length>c.length?u.from(v).copy(c,p):Uint8Array.prototype.set.call(c,v,p);else if(u.isBuffer(v))v.copy(c,p);else throw new TypeError('"list" argument must be an Array of Buffers');p+=v.length}return c};function A(f,r){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||J(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var e=f.length,s=arguments.length>2&&arguments[2]===!0;if(!s&&e===0)return 0;for(var c=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return mr(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Jr(f).length;default:if(c)return s?-1:mr(f).length;r=(""+r).toLowerCase(),c=!0}}u.byteLength=A;function E(f,r,e){var s=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,r>>>=0,e<=r))return"";for(f||(f="utf8");;)switch(f){case"hex":return Le(this,r,e);case"utf8":case"utf-8":return Hr(this,r,e);case"ascii":return Me(this,r,e);case"latin1":case"binary":return be(this,r,e);case"base64":return $(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,r,e);default:if(s)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),s=!0}}u.prototype._isBuffer=!0;function S(f,r,e){var s=f[r];f[r]=f[e],f[e]=s}u.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)S(this,e,e+1);return this},u.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},u.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},u.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?Hr(this,0,r):E.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(r){if(!u.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:u.compare(this,r)===0},u.prototype.inspect=function(){var r="",e=n.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(r,e,s,c,p){if(J(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),!u.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),s===void 0&&(s=r?r.length:0),c===void 0&&(c=0),p===void 0&&(p=this.length),e<0||s>r.length||c<0||p>this.length)throw new RangeError("out of range index");if(c>=p&&e>=s)return 0;if(c>=p)return-1;if(e>=s)return 1;if(e>>>=0,s>>>=0,c>>>=0,p>>>=0,this===r)return 0;for(var v=p-c,U=s-e,_=Math.min(v,U),b=this.slice(c,p),D=r.slice(e,s),L=0;L<_;++L)if(b[L]!==D[L]){v=b[L],U=D[L];break}return v<U?-1:U<v?1:0};function k(f,r,e,s,c){if(f.length===0)return-1;if(typeof e=="string"?(s=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,Er(e)&&(e=c?0:f.length-1),e<0&&(e=f.length+e),e>=f.length){if(c)return-1;e=f.length-1}else if(e<0)if(c)e=0;else return-1;if(typeof r=="string"&&(r=u.from(r,s)),u.isBuffer(r))return r.length===0?-1:M(f,r,e,s,c);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(f,r,e):Uint8Array.prototype.lastIndexOf.call(f,r,e):M(f,[r],e,s,c);throw new TypeError("val must be string, number or Buffer")}function M(f,r,e,s,c){var p=1,v=f.length,U=r.length;if(s!==void 0&&(s=String(s).toLowerCase(),s==="ucs2"||s==="ucs-2"||s==="utf16le"||s==="utf-16le")){if(f.length<2||r.length<2)return-1;p=2,v/=2,U/=2,e/=2}function _(Vr,Wr){return p===1?Vr[Wr]:Vr.readUInt16BE(Wr*p)}var b;if(c){var D=-1;for(b=e;b<v;b++)if(_(f,b)===_(r,D===-1?0:b-D)){if(D===-1&&(D=b),b-D+1===U)return D*p}else D!==-1&&(b-=b-D),D=-1}else for(e+U>v&&(e=v-U),b=e;b>=0;b--){for(var L=!0,hr=0;hr<U;hr++)if(_(f,b+hr)!==_(r,hr)){L=!1;break}if(L)return b}return-1}u.prototype.includes=function(r,e,s){return this.indexOf(r,e,s)!==-1},u.prototype.indexOf=function(r,e,s){return k(this,r,e,s,!0)},u.prototype.lastIndexOf=function(r,e,s){return k(this,r,e,s,!1)};function P(f,r,e,s){e=Number(e)||0;var c=f.length-e;s?(s=Number(s),s>c&&(s=c)):s=c;var p=r.length;s>p/2&&(s=p/2);for(var v=0;v<s;++v){var U=parseInt(r.substr(v*2,2),16);if(Er(U))return v;f[e+v]=U}return v}function K(f,r,e,s){return fr(mr(r,f.length-e),f,e,s)}function z(f,r,e,s){return fr(ke(r),f,e,s)}function Z(f,r,e,s){return fr(Jr(r),f,e,s)}function Q(f,r,e,s){return fr(Ye(r,f.length-e),f,e,s)}u.prototype.write=function(r,e,s,c){if(e===void 0)c="utf8",s=this.length,e=0;else if(s===void 0&&typeof e=="string")c=e,s=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(s)?(s=s>>>0,c===void 0&&(c="utf8")):(c=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var p=this.length-e;if((s===void 0||s>p)&&(s=p),r.length>0&&(s<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(var v=!1;;)switch(c){case"hex":return P(this,r,e,s);case"utf8":case"utf-8":return K(this,r,e,s);case"ascii":case"latin1":case"binary":return z(this,r,e,s);case"base64":return Z(this,r,e,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,r,e,s);default:if(v)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),v=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(f,r,e){return r===0&&e===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(r,e))}function Hr(f,r,e){e=Math.min(f.length,e);for(var s=[],c=r;c<e;){var p=f[c],v=null,U=p>239?4:p>223?3:p>191?2:1;if(c+U<=e){var _,b,D,L;switch(U){case 1:p<128&&(v=p);break;case 2:_=f[c+1],(_&192)==128&&(L=(p&31)<<6|_&63,L>127&&(v=L));break;case 3:_=f[c+1],b=f[c+2],(_&192)==128&&(b&192)==128&&(L=(p&15)<<12|(_&63)<<6|b&63,L>2047&&(L<55296||L>57343)&&(v=L));break;case 4:_=f[c+1],b=f[c+2],D=f[c+3],(_&192)==128&&(b&192)==128&&(D&192)==128&&(L=(p&15)<<18|(_&63)<<12|(b&63)<<6|D&63,L>65535&&L<1114112&&(v=L))}}v===null?(v=65533,U=1):v>65535&&(v-=65536,s.push(v>>>10&1023|55296),v=56320|v&1023),s.push(v),c+=U}return _e(s)}var zr=4096;function _e(f){var r=f.length;if(r<=zr)return String.fromCharCode.apply(String,f);for(var e="",s=0;s<r;)e+=String.fromCharCode.apply(String,f.slice(s,s+=zr));return e}function Me(f,r,e){var s="";e=Math.min(f.length,e);for(var c=r;c<e;++c)s+=String.fromCharCode(f[c]&127);return s}function be(f,r,e){var s="";e=Math.min(f.length,e);for(var c=r;c<e;++c)s+=String.fromCharCode(f[c]);return s}function Le(f,r,e){var s=f.length;(!r||r<0)&&(r=0),(!e||e<0||e>s)&&(e=s);for(var c="",p=r;p<e;++p)c+=He[f[p]];return c}function Pe(f,r,e){for(var s=f.slice(r,e),c="",p=0;p<s.length-1;p+=2)c+=String.fromCharCode(s[p]+s[p+1]*256);return c}u.prototype.slice=function(r,e){var s=this.length;r=~~r,e=e===void 0?s:~~e,r<0?(r+=s,r<0&&(r=0)):r>s&&(r=s),e<0?(e+=s,e<0&&(e=0)):e>s&&(e=s),e<r&&(e=r);var c=this.subarray(r,e);return Object.setPrototypeOf(c,u.prototype),c};function N(f,r,e){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+r>e)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(r,e,s){r=r>>>0,e=e>>>0,s||N(r,e,this.length);for(var c=this[r],p=1,v=0;++v<e&&(p*=256);)c+=this[r+v]*p;return c},u.prototype.readUintBE=u.prototype.readUIntBE=function(r,e,s){r=r>>>0,e=e>>>0,s||N(r,e,this.length);for(var c=this[r+--e],p=1;e>0&&(p*=256);)c+=this[r+--e]*p;return c},u.prototype.readUint8=u.prototype.readUInt8=function(r,e){return r=r>>>0,e||N(r,1,this.length),this[r]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(r,e){return r=r>>>0,e||N(r,2,this.length),this[r]|this[r+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(r,e){return r=r>>>0,e||N(r,2,this.length),this[r]<<8|this[r+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(r,e){return r=r>>>0,e||N(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(r,e){return r=r>>>0,e||N(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},u.prototype.readIntLE=function(r,e,s){r=r>>>0,e=e>>>0,s||N(r,e,this.length);for(var c=this[r],p=1,v=0;++v<e&&(p*=256);)c+=this[r+v]*p;return p*=128,c>=p&&(c-=Math.pow(2,8*e)),c},u.prototype.readIntBE=function(r,e,s){r=r>>>0,e=e>>>0,s||N(r,e,this.length);for(var c=e,p=1,v=this[r+--c];c>0&&(p*=256);)v+=this[r+--c]*p;return p*=128,v>=p&&(v-=Math.pow(2,8*e)),v},u.prototype.readInt8=function(r,e){return r=r>>>0,e||N(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},u.prototype.readInt16LE=function(r,e){r=r>>>0,e||N(r,2,this.length);var s=this[r]|this[r+1]<<8;return s&32768?s|4294901760:s},u.prototype.readInt16BE=function(r,e){r=r>>>0,e||N(r,2,this.length);var s=this[r+1]|this[r]<<8;return s&32768?s|4294901760:s},u.prototype.readInt32LE=function(r,e){return r=r>>>0,e||N(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},u.prototype.readInt32BE=function(r,e){return r=r>>>0,e||N(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},u.prototype.readFloatLE=function(r,e){return r=r>>>0,e||N(r,4,this.length),i.read(this,r,!0,23,4)},u.prototype.readFloatBE=function(r,e){return r=r>>>0,e||N(r,4,this.length),i.read(this,r,!1,23,4)},u.prototype.readDoubleLE=function(r,e){return r=r>>>0,e||N(r,8,this.length),i.read(this,r,!0,52,8)},u.prototype.readDoubleBE=function(r,e){return r=r>>>0,e||N(r,8,this.length),i.read(this,r,!1,52,8)};function Y(f,r,e,s,c,p){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>c||r<p)throw new RangeError('"value" argument is out of bounds');if(e+s>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(r,e,s,c){if(r=+r,e=e>>>0,s=s>>>0,!c){var p=Math.pow(2,8*s)-1;Y(this,r,e,s,p,0)}var v=1,U=0;for(this[e]=r&255;++U<s&&(v*=256);)this[e+U]=r/v&255;return e+s},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(r,e,s,c){if(r=+r,e=e>>>0,s=s>>>0,!c){var p=Math.pow(2,8*s)-1;Y(this,r,e,s,p,0)}var v=s-1,U=1;for(this[e+v]=r&255;--v>=0&&(U*=256);)this[e+v]=r/U&255;return e+s},u.prototype.writeUint8=u.prototype.writeUInt8=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,1,255,0),this[e]=r&255,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,2,65535,0),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4},u.prototype.writeIntLE=function(r,e,s,c){if(r=+r,e=e>>>0,!c){var p=Math.pow(2,8*s-1);Y(this,r,e,s,p-1,-p)}var v=0,U=1,_=0;for(this[e]=r&255;++v<s&&(U*=256);)r<0&&_===0&&this[e+v-1]!==0&&(_=1),this[e+v]=(r/U>>0)-_&255;return e+s},u.prototype.writeIntBE=function(r,e,s,c){if(r=+r,e=e>>>0,!c){var p=Math.pow(2,8*s-1);Y(this,r,e,s,p-1,-p)}var v=s-1,U=1,_=0;for(this[e+v]=r&255;--v>=0&&(U*=256);)r<0&&_===0&&this[e+v+1]!==0&&(_=1),this[e+v]=(r/U>>0)-_&255;return e+s},u.prototype.writeInt8=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=r&255,e+1},u.prototype.writeInt16LE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,2,32767,-32768),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeInt16BE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeInt32LE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,4,2147483647,-2147483648),this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4},u.prototype.writeInt32BE=function(r,e,s){return r=+r,e=e>>>0,s||Y(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};function Or(f,r,e,s,c,p){if(e+s>f.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function $r(f,r,e,s,c){return r=+r,e=e>>>0,c||Or(f,r,e,4),i.write(f,r,e,s,23,4),e+4}u.prototype.writeFloatLE=function(r,e,s){return $r(this,r,e,!0,s)},u.prototype.writeFloatBE=function(r,e,s){return $r(this,r,e,!1,s)};function Kr(f,r,e,s,c){return r=+r,e=e>>>0,c||Or(f,r,e,8),i.write(f,r,e,s,52,8),e+8}u.prototype.writeDoubleLE=function(r,e,s){return Kr(this,r,e,!0,s)},u.prototype.writeDoubleBE=function(r,e,s){return Kr(this,r,e,!1,s)},u.prototype.copy=function(r,e,s,c){if(!u.isBuffer(r))throw new TypeError("argument should be a Buffer");if(s||(s=0),!c&&c!==0&&(c=this.length),e>=r.length&&(e=r.length),e||(e=0),c>0&&c<s&&(c=s),c===s||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),r.length-e<c-s&&(c=r.length-e+s);var p=c-s;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,s,c):Uint8Array.prototype.set.call(r,this.subarray(s,c),e),p},u.prototype.fill=function(r,e,s,c){if(typeof r=="string"){if(typeof e=="string"?(c=e,e=0,s=this.length):typeof s=="string"&&(c=s,s=this.length),c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!u.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(r.length===1){var p=r.charCodeAt(0);(c==="utf8"&&p<128||c==="latin1")&&(r=p)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<s)throw new RangeError("Out of range index");if(s<=e)return this;e=e>>>0,s=s===void 0?this.length:s>>>0,r||(r=0);var v;if(typeof r=="number")for(v=e;v<s;++v)this[v]=r;else{var U=u.isBuffer(r)?r:u.from(r,c),_=U.length;if(_===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(v=0;v<s-e;++v)this[v+e]=U[v%_]}return this};var Ne=/[^+/0-9A-Za-z-_]/g;function De(f){if(f=f.split("=")[0],f=f.trim().replace(Ne,""),f.length<2)return"";for(;f.length%4!=0;)f=f+"=";return f}function mr(f,r){r=r||1/0;for(var e,s=f.length,c=null,p=[],v=0;v<s;++v){if(e=f.charCodeAt(v),e>55295&&e<57344){if(!c){if(e>56319){(r-=3)>-1&&p.push(239,191,189);continue}else if(v+1===s){(r-=3)>-1&&p.push(239,191,189);continue}c=e;continue}if(e<56320){(r-=3)>-1&&p.push(239,191,189),c=e;continue}e=(c-55296<<10|e-56320)+65536}else c&&(r-=3)>-1&&p.push(239,191,189);if(c=null,e<128){if((r-=1)<0)break;p.push(e)}else if(e<2048){if((r-=2)<0)break;p.push(e>>6|192,e&63|128)}else if(e<65536){if((r-=3)<0)break;p.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((r-=4)<0)break;p.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return p}function ke(f){for(var r=[],e=0;e<f.length;++e)r.push(f.charCodeAt(e)&255);return r}function Ye(f,r){for(var e,s,c,p=[],v=0;v<f.length&&!((r-=2)<0);++v)e=f.charCodeAt(v),s=e>>8,c=e%256,p.push(c),p.push(s);return p}function Jr(f){return t.toByteArray(De(f))}function fr(f,r,e,s){for(var c=0;c<s&&!(c+e>=r.length||c>=f.length);++c)r[c+e]=f[c];return c}function J(f,r){return f instanceof r||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===r.name}function Er(f){return f!==f}var He=function(){for(var f="0123456789abcdef",r=new Array(256),e=0;e<16;++e)for(var s=e*16,c=0;c<16;++c)r[s+c]=f[e]+f[c];return r}()})(ce);var pe=G,de=se,Ft=ce.Buffer;function Rr(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Rr.prototype.initialize=function(t){this.degree=t,this.genPoly=de.generateECPolynomial(this.degree)};Rr.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var i=pe.alloc(this.degree),o=Ft.concat([t,i],t.length+this.degree),a=de.mod(o,this.genPoly),h=this.degree-a.length;if(h>0){var l=pe.alloc(this.degree);return a.copy(l,h),l}return a};var Tt=Rr,ve={},X={},Ur={};Ur.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var W={},we="[0-9]+",It="[A-Z $%*+\\-./:]+",ur="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ur=ur.replace(/u/g,"\\u");var Rt="(?:(?![A-Z0-9 $%*+\\-./:]|"+ur+`)(?:.|[\r
]))+`;W.KANJI=new RegExp(ur,"g");W.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");W.BYTE=new RegExp(Rt,"g");W.NUMERIC=new RegExp(we,"g");W.ALPHANUMERIC=new RegExp(It,"g");var Ut=new RegExp("^"+ur+"$"),St=new RegExp("^"+we+"$"),_t=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");W.testKanji=function(t){return Ut.test(t)};W.testNumeric=function(t){return St.test(t)};W.testAlphanumeric=function(t){return _t.test(t)};(function(n){var t=Ur,i=W;n.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(h,l){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?h.ccBits[0]:l<27?h.ccBits[1]:h.ccBits[2]},n.getBestModeForData=function(h){return i.testNumeric(h)?n.NUMERIC:i.testAlphanumeric(h)?n.ALPHANUMERIC:i.testKanji(h)?n.KANJI:n.BYTE},n.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},n.isValid=function(h){return h&&h.bit&&h.ccBits};function o(a){if(typeof a!="string")throw new Error("Param is not a string");var h=a.toLowerCase();switch(h){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+a)}}n.from=function(h,l){if(n.isValid(h))return h;try{return o(h)}catch(u){return l}}})(X);(function(n){var t=H,i=lr,o=sr,a=X,h=Ur,l=Ar,u=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,g=t.getBCHDigit(u);function w(x,y,F){for(var R=1;R<=40;R++)if(y<=n.getCapacity(R,F,x))return R}function d(x,y){return a.getCharCountIndicator(x,y)+4}function m(x,y){var F=0;return x.forEach(function(R){var B=d(R.mode,y);F+=B+R.getBitsLength()}),F}function C(x,y){for(var F=1;F<=40;F++){var R=m(x,F);if(R<=n.getCapacity(F,y,a.MIXED))return F}}n.from=function(y,F){return h.isValid(y)?parseInt(y,10):F},n.getCapacity=function(y,F,R){if(!h.isValid(y))throw new Error("Invalid QR Code version");typeof R=="undefined"&&(R=a.BYTE);var B=t.getSymbolTotalCodewords(y),T=i.getTotalCodewordsCount(y,F),A=(B-T)*8;if(R===a.MIXED)return A;var E=A-d(R,y);switch(R){case a.NUMERIC:return Math.floor(E/10*3);case a.ALPHANUMERIC:return Math.floor(E/11*2);case a.KANJI:return Math.floor(E/13);case a.BYTE:default:return Math.floor(E/8)}},n.getBestVersionForData=function(y,F){var R,B=o.from(F,o.M);if(l(y)){if(y.length>1)return C(y,B);if(y.length===0)return 1;R=y[0]}else R=y;return w(R.mode,R.getLength(),B)},n.getEncodedBits=function(y){if(!h.isValid(y)||y<7)throw new Error("Invalid QR Code version");for(var F=y<<12;t.getBCHDigit(F)-g>=0;)F^=u<<t.getBCHDigit(F)-g;return y<<12|F}})(ve);var ye={},Sr=H,me=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Mt=1<<14|1<<12|1<<10|1<<4|1<<1,Ee=Sr.getBCHDigit(me);ye.getEncodedBits=function(t,i){for(var o=t.bit<<3|i,a=o<<10;Sr.getBCHDigit(a)-Ee>=0;)a^=me<<Sr.getBCHDigit(a)-Ee;return(o<<10|a)^Mt};var Be={},bt=X;function er(n){this.mode=bt.NUMERIC,this.data=n.toString()}er.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};er.prototype.getLength=function(){return this.data.length};er.prototype.getBitsLength=function(){return er.getBitsLength(this.data.length)};er.prototype.write=function(t){var i,o,a;for(i=0;i+3<=this.data.length;i+=3)o=this.data.substr(i,3),a=parseInt(o,10),t.put(a,10);var h=this.data.length-i;h>0&&(o=this.data.substr(i),a=parseInt(o,10),t.put(a,h*3+1))};var Lt=er,Pt=X,_r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function tr(n){this.mode=Pt.ALPHANUMERIC,this.data=n}tr.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};tr.prototype.getLength=function(){return this.data.length};tr.prototype.getBitsLength=function(){return tr.getBitsLength(this.data.length)};tr.prototype.write=function(t){var i;for(i=0;i+2<=this.data.length;i+=2){var o=_r.indexOf(this.data[i])*45;o+=_r.indexOf(this.data[i+1]),t.put(o,11)}this.data.length%2&&t.put(_r.indexOf(this.data[i]),6)};var Nt=tr,Dt=G,kt=X;function nr(n){this.mode=kt.BYTE,this.data=Dt.from(n)}nr.getBitsLength=function(t){return t*8};nr.prototype.getLength=function(){return this.data.length};nr.prototype.getBitsLength=function(){return nr.getBitsLength(this.data.length)};nr.prototype.write=function(n){for(var t=0,i=this.data.length;t<i;t++)n.put(this.data[t],8)};var Yt=nr,Ht=X,zt=H;function ir(n){this.mode=Ht.KANJI,this.data=n}ir.getBitsLength=function(t){return t*13};ir.prototype.getLength=function(){return this.data.length};ir.prototype.getBitsLength=function(){return ir.getBitsLength(this.data.length)};ir.prototype.write=function(n){var t;for(t=0;t<this.data.length;t++){var i=zt.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),n.put(i,13)}};var Ot=ir,Ae={exports:{}};(function(n){var t={single_source_shortest_paths:function(i,o,a){var h={},l={};l[o]=0;var u=t.PriorityQueue.make();u.push(o,0);for(var g,w,d,m,C,x,y,F,R;!u.empty();){g=u.pop(),w=g.value,m=g.cost,C=i[w]||{};for(d in C)C.hasOwnProperty(d)&&(x=C[d],y=m+x,F=l[d],R=typeof l[d]=="undefined",(R||F>y)&&(l[d]=y,u.push(d,y),h[d]=w))}if(typeof a!="undefined"&&typeof l[a]=="undefined"){var B=["Could not find a path from ",o," to ",a,"."].join("");throw new Error(B)}return h},extract_shortest_path_from_predecessor_list:function(i,o){for(var a=[],h=o;h;)a.push(h),h=i[h];return a.reverse(),a},find_path:function(i,o,a){var h=t.single_source_shortest_paths(i,o,a);return t.extract_shortest_path_from_predecessor_list(h,a)},PriorityQueue:{make:function(i){var o=t.PriorityQueue,a={},h;i=i||{};for(h in o)o.hasOwnProperty(h)&&(a[h]=o[h]);return a.queue=[],a.sorter=i.sorter||o.default_sorter,a},default_sorter:function(i,o){return i.cost-o.cost},push:function(i,o){var a={value:i,cost:o};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=t})(Ae);(function(n){var t=X,i=Lt,o=Nt,a=Yt,h=Ot,l=W,u=H,g=Ae.exports;function w(B){return unescape(encodeURIComponent(B)).length}function d(B,T,A){for(var E=[],S;(S=B.exec(A))!==null;)E.push({data:S[0],index:S.index,mode:T,length:S[0].length});return E}function m(B){var T=d(l.NUMERIC,t.NUMERIC,B),A=d(l.ALPHANUMERIC,t.ALPHANUMERIC,B),E,S;u.isKanjiModeEnabled()?(E=d(l.BYTE,t.BYTE,B),S=d(l.KANJI,t.KANJI,B)):(E=d(l.BYTE_KANJI,t.BYTE,B),S=[]);var k=T.concat(A,E,S);return k.sort(function(M,P){return M.index-P.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function C(B,T){switch(T){case t.NUMERIC:return i.getBitsLength(B);case t.ALPHANUMERIC:return o.getBitsLength(B);case t.KANJI:return h.getBitsLength(B);case t.BYTE:return a.getBitsLength(B)}}function x(B){return B.reduce(function(T,A){var E=T.length-1>=0?T[T.length-1]:null;return E&&E.mode===A.mode?(T[T.length-1].data+=A.data,T):(T.push(A),T)},[])}function y(B){for(var T=[],A=0;A<B.length;A++){var E=B[A];switch(E.mode){case t.NUMERIC:T.push([E,{data:E.data,mode:t.ALPHANUMERIC,length:E.length},{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.ALPHANUMERIC:T.push([E,{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.KANJI:T.push([E,{data:E.data,mode:t.BYTE,length:w(E.data)}]);break;case t.BYTE:T.push([{data:E.data,mode:t.BYTE,length:w(E.data)}])}}return T}function F(B,T){for(var A={},E={start:{}},S=["start"],k=0;k<B.length;k++){for(var M=B[k],P=[],K=0;K<M.length;K++){var z=M[K],Z=""+k+K;P.push(Z),A[Z]={node:z,lastCount:0},E[Z]={};for(var Q=0;Q<S.length;Q++){var $=S[Q];A[$]&&A[$].node.mode===z.mode?(E[$][Z]=C(A[$].lastCount+z.length,z.mode)-C(A[$].lastCount,z.mode),A[$].lastCount+=z.length):(A[$]&&(A[$].lastCount=z.length),E[$][Z]=C(z.length,z.mode)+4+t.getCharCountIndicator(z.mode,T))}}S=P}for(Q=0;Q<S.length;Q++)E[S[Q]].end=0;return{map:E,table:A}}function R(B,T){var A,E=t.getBestModeForData(B);if(A=t.from(T,E),A!==t.BYTE&&A.bit<E.bit)throw new Error('"'+B+'" cannot be encoded with mode '+t.toString(A)+`.
 Suggested mode is: `+t.toString(E));switch(A===t.KANJI&&!u.isKanjiModeEnabled()&&(A=t.BYTE),A){case t.NUMERIC:return new i(B);case t.ALPHANUMERIC:return new o(B);case t.KANJI:return new h(B);case t.BYTE:return new a(B)}}n.fromArray=function(T){return T.reduce(function(A,E){return typeof E=="string"?A.push(R(E,null)):E.data&&A.push(R(E.data,E.mode)),A},[])},n.fromString=function(T,A){for(var E=m(T,u.isKanjiModeEnabled()),S=y(E),k=F(S,A),M=g.find_path(k.map,"start","end"),P=[],K=1;K<M.length-1;K++)P.push(k.table[M[K]].node);return n.fromArray(x(P))},n.rawSplit=function(T){return n.fromArray(m(T,u.isKanjiModeEnabled()))}})(Be);var Ce=G,wr=H,Mr=sr,$t=pt,Kt=dt,Jt=ae,Vt=ue,br=he,Lr=lr,Wt=Tt,yr=ve,Qt=ye,Gt=X,Pr=Be,qt=Ar;function Xt(n,t){for(var i=n.size,o=Vt.getPositions(t),a=0;a<o.length;a++)for(var h=o[a][0],l=o[a][1],u=-1;u<=7;u++)if(!(h+u<=-1||i<=h+u))for(var g=-1;g<=7;g++)l+g<=-1||i<=l+g||(u>=0&&u<=6&&(g===0||g===6)||g>=0&&g<=6&&(u===0||u===6)||u>=2&&u<=4&&g>=2&&g<=4?n.set(h+u,l+g,!0,!0):n.set(h+u,l+g,!1,!0))}function Zt(n){for(var t=n.size,i=8;i<t-8;i++){var o=i%2==0;n.set(i,6,o,!0),n.set(6,i,o,!0)}}function jt(n,t){for(var i=Jt.getPositions(t),o=0;o<i.length;o++)for(var a=i[o][0],h=i[o][1],l=-2;l<=2;l++)for(var u=-2;u<=2;u++)l===-2||l===2||u===-2||u===2||l===0&&u===0?n.set(a+l,h+u,!0,!0):n.set(a+l,h+u,!1,!0)}function rn(n,t){for(var i=n.size,o=yr.getEncodedBits(t),a,h,l,u=0;u<18;u++)a=Math.floor(u/3),h=u%3+i-8-3,l=(o>>u&1)==1,n.set(a,h,l,!0),n.set(h,a,l,!0)}function Nr(n,t,i){var o=n.size,a=Qt.getEncodedBits(t,i),h,l;for(h=0;h<15;h++)l=(a>>h&1)==1,h<6?n.set(h,8,l,!0):h<8?n.set(h+1,8,l,!0):n.set(o-15+h,8,l,!0),h<8?n.set(8,o-h-1,l,!0):h<9?n.set(8,15-h-1+1,l,!0):n.set(8,15-h-1,l,!0);n.set(o-8,8,1,!0)}function en(n,t){for(var i=n.size,o=-1,a=i-1,h=7,l=0,u=i-1;u>0;u-=2)for(u===6&&u--;;){for(var g=0;g<2;g++)if(!n.isReserved(a,u-g)){var w=!1;l<t.length&&(w=(t[l]>>>h&1)==1),n.set(a,u-g,w),h--,h===-1&&(l++,h=7)}if(a+=o,a<0||i<=a){a-=o,o=-o;break}}}function tn(n,t,i){var o=new $t;i.forEach(function(w){o.put(w.mode.bit,4),o.put(w.getLength(),Gt.getCharCountIndicator(w.mode,n)),w.write(o)});var a=wr.getSymbolTotalCodewords(n),h=Lr.getTotalCodewordsCount(n,t),l=(a-h)*8;for(o.getLengthInBits()+4<=l&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var u=(l-o.getLengthInBits())/8,g=0;g<u;g++)o.put(g%2?17:236,8);return nn(o,n,t)}function nn(n,t,i){for(var o=wr.getSymbolTotalCodewords(t),a=Lr.getTotalCodewordsCount(t,i),h=o-a,l=Lr.getBlocksCount(t,i),u=o%l,g=l-u,w=Math.floor(o/l),d=Math.floor(h/l),m=d+1,C=w-d,x=new Wt(C),y=0,F=new Array(l),R=new Array(l),B=0,T=Ce.from(n.buffer),A=0;A<l;A++){var E=A<g?d:m;F[A]=T.slice(y,y+E),R[A]=x.encode(F[A]),y+=E,B=Math.max(B,E)}var S=Ce.alloc(o),k=0,M,P;for(M=0;M<B;M++)for(P=0;P<l;P++)M<F[P].length&&(S[k++]=F[P][M]);for(M=0;M<C;M++)for(P=0;P<l;P++)S[k++]=R[P][M];return S}function on(n,t,i,o){var a;if(qt(n))a=Pr.fromArray(n);else if(typeof n=="string"){var h=t;if(!h){var l=Pr.rawSplit(n);h=yr.getBestVersionForData(l,i)}a=Pr.fromString(n,h||40)}else throw new Error("Invalid data");var u=yr.getBestVersionForData(a,i);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=u;else if(t<u)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+u+`.
`);var g=tn(t,i,a),w=wr.getSymbolSize(t),d=new Kt(w);return Xt(d,t),Zt(d),jt(d,t),Nr(d,i,0),t>=7&&rn(d,t),en(d,g),isNaN(o)&&(o=br.getBestMask(d,Nr.bind(null,d,i))),br.applyMask(o,d),Nr(d,i,o),{modules:d,version:t,errorCorrectionLevel:i,maskPattern:o,segments:a}}jr.create=function(t,i){if(typeof t=="undefined"||t==="")throw new Error("No input text");var o=Mr.M,a,h;return typeof i!="undefined"&&(o=Mr.from(i.errorCorrectionLevel,Mr.M),a=yr.from(i.version),h=br.from(i.maskPattern),i.toSJISFunc&&wr.setToSJISFunction(i.toSJISFunc)),on(t,a,o,h)};var xe={},Dr={};(function(n){function t(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");var o=i.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+i);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(h){return[h,h]}))),o.length===6&&o.push("F","F");var a=parseInt(o.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+o.slice(0,6).join("")}}n.getOptions=function(o){o||(o={}),o.color||(o.color={});var a=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,h=o.width&&o.width>=21?o.width:void 0,l=o.scale||4;return{width:h,scale:h?4:l,margin:a,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},n.getScale=function(o,a){return a.width&&a.width>=o+a.margin*2?a.width/(o+a.margin*2):a.scale},n.getImageWidth=function(o,a){var h=n.getScale(o,a);return Math.floor((o+a.margin*2)*h)},n.qrToImageData=function(o,a,h){for(var l=a.modules.size,u=a.modules.data,g=n.getScale(l,h),w=Math.floor((l+h.margin*2)*g),d=h.margin*g,m=[h.color.light,h.color.dark],C=0;C<w;C++)for(var x=0;x<w;x++){var y=(C*w+x)*4,F=h.color.light;if(C>=d&&x>=d&&C<w-d&&x<w-d){var R=Math.floor((C-d)/g),B=Math.floor((x-d)/g);F=m[u[R*l+B]?1:0]}o[y++]=F.r,o[y++]=F.g,o[y++]=F.b,o[y]=F.a}}})(Dr);(function(n){var t=Dr;function i(a,h,l){a.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=l,h.width=l,h.style.height=l+"px",h.style.width=l+"px"}function o(){try{return document.createElement("canvas")}catch(a){throw new Error("You need to specify a canvas element")}}n.render=function(h,l,u){var g=u,w=l;typeof g=="undefined"&&(!l||!l.getContext)&&(g=l,l=void 0),l||(w=o()),g=t.getOptions(g);var d=t.getImageWidth(h.modules.size,g),m=w.getContext("2d"),C=m.createImageData(d,d);return t.qrToImageData(C.data,h,g),i(m,w,d),m.putImageData(C,0,0),w},n.renderToDataURL=function(h,l,u){var g=u;typeof g=="undefined"&&(!l||!l.getContext)&&(g=l,l=void 0),g||(g={});var w=n.render(h,l,g),d=g.type||"image/png",m=g.rendererOpts||{};return w.toDataURL(d,m.quality)}})(xe);var Fe={},an=Dr;function Te(n,t){var i=n.a/255,o=t+'="'+n.hex+'"';return i<1?o+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':o}function kr(n,t,i){var o=n+t;return typeof i!="undefined"&&(o+=" "+i),o}function un(n,t,i){for(var o="",a=0,h=!1,l=0,u=0;u<n.length;u++){var g=Math.floor(u%t),w=Math.floor(u/t);!g&&!h&&(h=!0),n[u]?(l++,u>0&&g>0&&n[u-1]||(o+=h?kr("M",g+i,.5+w+i):kr("m",a,0),a=0,h=!1),g+1<t&&n[u+1]||(o+=kr("h",l),l=0)):a++}return o}Fe.render=function(t,i,o){var a=an.getOptions(i),h=t.modules.size,l=t.modules.data,u=h+a.margin*2,g=a.color.light.a?"<path "+Te(a.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",w="<path "+Te(a.color.dark,"stroke")+' d="'+un(l,h,a.margin)+'"/>',d='viewBox="0 0 '+u+" "+u+'"',m=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",C='<svg xmlns="http://www.w3.org/2000/svg" '+m+d+' shape-rendering="crispEdges">'+g+w+`</svg>
`;return typeof o=="function"&&o(null,C),C};var fn=tt,Ie=jr,Re=xe,hn=Fe;function Yr(n,t,i,o,a){var h=[].slice.call(arguments,1),l=h.length,u=typeof h[l-1]=="function";if(!u&&!fn())throw new Error("Callback required as last argument");if(u){if(l<2)throw new Error("Too few arguments provided");l===2?(a=i,i=t,t=o=void 0):l===3&&(t.getContext&&typeof a=="undefined"?(a=o,o=void 0):(a=o,o=i,i=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(i=t,t=o=void 0):l===2&&!t.getContext&&(o=i,i=t,t=void 0),new Promise(function(w,d){try{var m=Ie.create(i,o);w(n(m,t,o))}catch(C){d(C)}})}try{var g=Ie.create(i,o);a(null,n(g,t,o))}catch(w){a(w)}}var Ue=Yr.bind(null,Re.render),sn=Yr.bind(null,Re.renderToDataURL);Yr.bind(null,function(n,t,i){return hn.render(n,i)});const ln=({canvas:n,content:t,width:i=0,options:o={}})=>{const a=We(o);return a.errorCorrectionLevel=a.errorCorrectionLevel||gn(t),cn(t,a).then(h=>(a.scale=i===0?void 0:i/h*4,Ue(n,t,a)))};function cn(n,t){const i=document.createElement("canvas");return Ue(i,n,t).then(()=>i.width)}function gn(n){return n.length>36?"M":n.length>16?"Q":"H"}const pn=({canvas:n,logo:t})=>{if(!t)return new Promise(T=>{T(n.toDataURL())});const i=n.width,{logoSize:o=.15,bgColor:a="#ffffff",borderSize:h=.05,crossOrigin:l,borderRadius:u=8,logoRadius:g=0}=t,w=Ke(t)?t:t.src,d=i*o,m=i*(1-o)/2,C=i*(o+h),x=i*(1-o-h)/2,y=n.getContext("2d");if(!y)return;Se(y)(x,x,C,C,u),y.fillStyle=a,y.fill();const F=new Image;(l||g)&&F.setAttribute("crossOrigin",l||"anonymous"),F.src=w;const R=T=>{y.drawImage(T,m,m,d,d)},B=T=>{const A=document.createElement("canvas");A.width=m+d,A.height=m+d;const E=A.getContext("2d");if(!E||!y||(E.drawImage(T,m,m,d,d),Se(y)(m,m,d,d,g),!y))return;const S=y.createPattern(A,"no-repeat");S&&(y.fillStyle=S,y.fill())};return new Promise(T=>{F.onload=()=>{g?B(F):R(F),T(n.toDataURL())}})};function Se(n){return(t,i,o,a,h)=>{const l=Math.min(o,a);return h>l/2&&(h=l/2),n.beginPath(),n.moveTo(t+h,i),n.arcTo(t+o,i,t+o,i+a,h),n.arcTo(t+o,i+a,t,i+a,h),n.arcTo(t,i+a,t,i,h),n.arcTo(t,i,t+o,i,h),n.closePath(),n}}const dn=n=>ln(n).then(()=>n).then(pn),vn=Qe({name:"QrCode",props:{value:{type:[String,Array],default:null},options:{type:Object,default:null},width:{type:Number,default:200},logo:{type:[String,Object],default:""},tag:{type:String,default:"canvas",validator:n=>["canvas","img"].includes(n)}},emits:{done:n=>!!n,error:n=>!!n},setup(n,{emit:t}){const i=Ge(null);function o(){return Xr(this,null,function*(){try{const{tag:h,value:l,options:u={},width:g,logo:w}=n,d=String(l),m=Br(i);if(!m)return;if(h==="canvas"){const C=yield dn({canvas:m,width:g,logo:w,content:d,options:u||{}});t("done",{url:C,ctx:m.getContext("2d")});return}if(h==="img"){const C=yield sn(d,qr({errorCorrectionLevel:"H",width:g},u));Br(i).src=C,t("done",{url:C})}}catch(h){t("error",h)}})}function a(h){let l="";const u=Br(i);u instanceof HTMLCanvasElement?l=u.toDataURL():u instanceof HTMLImageElement&&(l=u.src),!!l&&et({url:l,fileName:h})}return qe(o),Xe(n,()=>{o()},{deep:!0}),{wrapRef:i,download:a}}});function wn(n,t,i,o,a,h){return Zr(),Ze("div",null,[(Zr(),je(rt(n.tag),{ref:"wrapRef"},null,512))])}var yn=Je(vn,[["render",wn]]);const Cn=Ve(yn);export{Cn as Q};
