import{s,i as r}from"./account.051a5655.js";import{z as n,br as i,bQ as d}from"./vendor.3850bdb6.js";/* empty css                *//* empty css               */import{P as p}from"./permCodeEnum.0c8982e3.js";import{i as c}from"./index.6d3ed4e5.js";const S=[{title:"\u7528\u6237\u540D",dataIndex:"username",width:120},{title:"\u6635\u79F0",dataIndex:"nick_name",width:120},{title:"\u90AE\u7BB1",dataIndex:"email",width:180},{title:"\u89D2\u8272",dataIndex:"roles",width:180,customRender:({record:e})=>{const t=[];return e.roles.forEach(u=>{t.push(n(i,{color:"blue",style:"margin-right: 8px;"},()=>u.name))}),n("div",{},t)}},{title:"\u72B6\u6001",dataIndex:"status",width:120,auth:p.AdminSystemAccountUpdateStatus,customRender:({record:e})=>e.username=="admin"?n("div",{},{}):(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),n(d,{checked:e.status===1,checkedChildren:"\u5DF2\u542F\u7528",unCheckedChildren:"\u5DF2\u7981\u7528",loading:e.pendingStatus,onChange(t){e.pendingStatus=!0;const u=t?1:0,{createMessage:a}=c();s(e.id,u).then(()=>{e.status=u,a.success("\u5DF2\u6210\u529F\u4FEE\u6539\u8D26\u53F7\u72B6\u6001")}).catch(()=>{a.error("\u4FEE\u6539\u8D26\u53F7\u72B6\u6001\u5931\u8D25")}).finally(()=>{e.pendingStatus=!1})}}))},{title:"\u5907\u6CE8",dataIndex:"remark"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_at",width:180}],g=[{field:"username",label:"\u7528\u6237\u540D",component:"Input",colProps:{span:8}},{field:"nick_name",label:"\u6635\u79F0",component:"Input",colProps:{span:8}}],B=[{field:"password",label:"\u5BC6\u7801",component:"InputPassword",defaultValue:"",required:!0,ifShow:!0}],D=e=>[{field:"username",label:"\u7528\u6237\u540D",component:"Input",helpMessage:["\u4E0D\u80FD\u8F93\u5165\u5E26\u6709admin\u7684\u7528\u6237\u540D"],defaultValue:"",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},{validator(t,u){return new Promise((a,l)=>{r(u,e.value).then(()=>a()).catch(o=>{l(o.message||"\u9A8C\u8BC1\u5931\u8D25")})})}}]},{field:"password",label:"\u5BC6\u7801",component:"InputPassword",defaultValue:"",required:({})=>!e.value,ifShow:!0},{field:"nick_name",label:"\u6635\u79F0",component:"Input",defaultValue:"",required:!0},{field:"email",label:"\u90AE\u7BB1",component:"Input",required:!0},{field:"phone",label:"\u624B\u673A",component:"Input",required:!0},{field:"roles",label:"\u89D2\u8272",component:"ApiSelect",required:!0},{field:"department_id",label:"\u6240\u5C5E\u90E8\u95E8",component:"TreeSelect",componentProps:{replaceFields:{title:"name",key:"id",value:"id"},getPopupContainer:()=>document.body},required:!0},{field:"home_path",label:"\u9996\u9875\u8DEF\u5F84",component:"TreeSelect",defaultValue:null,required:!0,componentProps:{replaceFields:{title:"title",key:"id",value:"path"},getPopupContainer:()=>document.body}},{field:"remark",label:"\u5907\u6CE8",component:"InputTextArea"},{field:"status",label:"\u72B6\u6001",component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:"\u542F\u7528",value:1},{label:"\u505C\u7528",value:0}]},required:!0},{field:"sex",label:"\u6027\u522B",component:"RadioButtonGroup",defaultValue:0,componentProps:{options:[{label:"\u672A\u77E5",value:0},{label:"\u7537",value:1},{label:"\u5973",value:2}]},required:!0}];export{D as a,B as b,S as c,g as s};
