var c=(t,u,e)=>new Promise((s,l)=>{var n=a=>{try{r(e.next(a))}catch(d){l(d)}},o=a=>{try{r(e.throw(a))}catch(d){l(d)}},r=a=>a.done?s(a.value):Promise.resolve(a.value).then(n,o);r((e=e.apply(t,u)).next())});import{J as m}from"./index.be3f98b2.js";import{z as f,A as g,r as b,B as C,a1 as B,a6 as D,w as E,u as p,a4 as h}from"./vendor.3850bdb6.js";import{a as _,B as w}from"./index.71a54c7b.js";import{ay as F}from"./index.6d3ed4e5.js";import{_ as P}from"./index.a18b2319.js";import{u as L}from"./useDescription.a3524a85.js";const k=[{title:"\u7CFB\u7EDF\u6A21\u5757",dataIndex:"module",width:100},{title:"\u8BF7\u6C42\u65B9\u5F0F",dataIndex:"method",width:50},{title:"\u64CD\u4F5C\u4EBA\u5458",dataIndex:"user",width:100},{title:"\u8BF7\u6C42\u5730\u5740",dataIndex:"path",width:200},{title:"\u64CD\u4F5C\u65E5\u671F",dataIndex:"created_at",width:100}],J=[{field:"path",label:"\u8BF7\u6C42\u5730\u5740",component:"Input",colProps:{span:8}},{field:"method",label:"\u8BF7\u6C42\u65B9\u5F0F",component:"Select",componentProps:{options:[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"}]},colProps:{span:5}},{field:"time",label:"\u65F6\u95F4\u8303\u56F4",component:"RangePicker",colProps:{span:11},componentProps:{showTime:!0}}],O=[{field:"id",label:"\u65E5\u5FD7\u7F16\u53F7",labelMinWidth:56},{field:"created_at",label:"\u64CD\u4F5C\u65E5\u671F"},{field:"ip",label:"IP\u5730\u5740"},{field:"latency_time",label:"\u8BF7\u6C42\u8017\u65F6"},{field:"location",label:"\u8BBF\u95EE\u4F4D\u7F6E"},{field:"method",label:"\u8BF7\u6C42\u65B9\u5F0F"},{field:"module",label:"\u7CFB\u7EDF\u6A21\u5757"},{field:"operation",label:"\u64CD\u4F5C\u7C7B\u578B"},{field:"path",label:"\u8BF7\u6C42\u8DEF\u5F84"},{field:"user",label:"\u64CD\u4F5C\u4EBA\u5458"},{field:"user_agent",label:"\u7528\u6237\u4EE3\u7406"},{field:"input",label:"\u53C2\u6570",render:(t,u)=>{let e={};return u.input!=null&&(e=JSON.parse(u.input)),f(m,{data:e})}}];var i;(function(t){t.OperLogList="/operation/logs",t.OperLogDetail="/operation/logs/"})(i||(i={}));const z=t=>F.get({url:i.OperLogList,params:t}),v=t=>F.get({url:i.OperLogDetail+t.toString()}),x=g({setup(t){const u="\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u60C5",e=b({}),[s,{setDrawerProps:l}]=_(o=>c(this,null,function*(){l({confirmLoading:!1}),e.value=yield v(o.record.id),console.log(e.value)})),[n]=L({title:"",column:1,data:e,schema:O});return(o,r)=>(C(),B(p(w),h(o.$attrs,{onRegister:p(s),showFooter:!1,title:u,width:"45%"}),{default:D(()=>[E(P,{onRegister:p(n)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}});var G=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:x});export{G as O,x as _,k as c,z as g,J as s};
