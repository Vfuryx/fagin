var R=Object.defineProperty,S=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var b=(o,e,t)=>e in o?R(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,_=(o,e)=>{for(var t in e||(e={}))D.call(e,t)&&b(o,t,e[t]);if(x)for(var t of x(e))T.call(e,t)&&b(o,t,e[t]);return o},h=(o,e)=>S(o,B(e));var C=(o,e,t)=>new Promise((m,d)=>{var n=i=>{try{a(t.next(i))}catch(r){d(r)}},l=i=>{try{a(t.throw(i))}catch(r){d(r)}},a=i=>i.done?m(i.value):Promise.resolve(i.value).then(n,l);a((t=t.apply(o,e)).next())});import{B as v}from"./TableImg.1321f9ef.js";import{T as A}from"./BasicForm.f9b68d8c.js";import{u as F}from"./useTable.5a3ce825.js";import{u as k}from"./index.71a54c7b.js";import{an as E}from"./index.6d3ed4e5.js";import{P as c}from"./permCodeEnum.0c8982e3.js";import{g as P,c as V,s as I,_ as N,d as U}from"./RoleDrawer.830c2195.js";import{A as g,bs as M,a0 as W,B as w,D as z,w as p,a6 as j,u as s,a1 as H,ad as L,ae as Q}from"./vendor.3850bdb6.js";/* empty css                *//* empty css              */import"./useForm.ff740053.js";import"./index.a09675a6.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.4c2ec928.js";import"./useContentViewHeight.34544381.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.2b29000c.js";import"./index.ab15df17.js";/* empty css               */import"./useSortable.7a35deac.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.f4e2dde3.js";/* empty css                *//* empty css                *//* empty css                */import"./download.62bc70aa.js";import"./base64Conver.08b9f4ec.js";import"./index.c99e5782.js";/* empty css               */import"./Tree.vue_vue&type=style&index=0&lang.d5823234.js";import"./useContextMenu.f3a8e755.js";const $=Q(" \u65B0\u589E\u89D2\u8272 "),q=g({name:"RoleManagement"});function G(o){const{hasPermission:e}=E(),[t,{openDrawer:m}]=k(),[d,{reload:n}]=F({title:"\u89D2\u8272\u5217\u8868",api:P,columns:V,formConfig:{labelWidth:120,schemas:I},useSearchForm:e(c.AdminSystemRoleQuery),showTableSetting:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:80,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}});function l(){m(!0,{isUpdate:!1})}function a(u){m(!0,{record:u,isUpdate:!0})}function i(u){return C(this,null,function*(){yield U(u.id),yield n()})}function r(){n()}return M(()=>{n()}),(u,J)=>{const y=W("a-button");return w(),z("div",null,[p(s(v),{onRegister:s(d)},{toolbar:j(()=>[s(e)(s(c).AdminSystemRoleCreate)?(w(),H(y,{key:0,type:"primary",onClick:l},{default:j(()=>[$]),_:1})):L("",!0)]),action:j(({record:f})=>[p(s(A),{actions:[{icon:"clarity:note-edit-line",onClick:a.bind(null,f),auth:s(c).AdminSystemRoleUpdate},{icon:"ant-design:delete-outlined",color:"error",auth:s(c).AdminSystemRoleDelete,popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:i.bind(null,f)}}]},null,8,["actions"])]),_:1},8,["onRegister"]),p(N,{onRegister:s(t),onSuccess:r},null,8,["onRegister"])])}}const Ee=g(h(_({},q),{setup:G}));export{Ee as default};
